(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function UB(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zp={},jB={get exports(){return Zp},set exports(e){Zp=e}},vg={},Ho={},VB={get exports(){return Ho},set exports(e){Ho=e}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=Symbol.for("react.element"),BB=Symbol.for("react.portal"),$B=Symbol.for("react.fragment"),qB=Symbol.for("react.strict_mode"),zB=Symbol.for("react.profiler"),WB=Symbol.for("react.provider"),HB=Symbol.for("react.context"),KB=Symbol.for("react.forward_ref"),GB=Symbol.for("react.suspense"),QB=Symbol.for("react.memo"),YB=Symbol.for("react.lazy"),CA=Symbol.iterator;function XB(e){return e===null||typeof e!="object"?null:(e=CA&&e[CA]||e["@@iterator"],typeof e=="function"?e:null)}var RO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PO=Object.assign,OO={};function kl(e,t,n){this.props=e,this.context=t,this.refs=OO,this.updater=n||RO}kl.prototype.isReactComponent={};kl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function DO(){}DO.prototype=kl.prototype;function ET(e,t,n){this.props=e,this.context=t,this.refs=OO,this.updater=n||RO}var TT=ET.prototype=new DO;TT.constructor=ET;PO(TT,kl.prototype);TT.isPureReactComponent=!0;var AA=Array.isArray,xO=Object.prototype.hasOwnProperty,IT={current:null},LO={key:!0,ref:!0,__self:!0,__source:!0};function MO(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)xO.call(t,r)&&!LO.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:dh,type:e,key:s,ref:a,props:i,_owner:IT.current}}function JB(e,t){return{$$typeof:dh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ST(e){return typeof e=="object"&&e!==null&&e.$$typeof===dh}function ZB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var NA=/\/+/g;function h_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZB(""+e.key):t.toString(36)}function Op(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case dh:case BB:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+h_(a,0):r,AA(i)?(n="",e!=null&&(n=e.replace(NA,"$&/")+"/"),Op(i,t,n,"",function(h){return h})):i!=null&&(ST(i)&&(i=JB(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(NA,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",AA(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+h_(s,l);a+=Op(s,t,n,c,i)}else if(c=XB(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+h_(s,l++),a+=Op(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Zd(e,t,n){if(e==null)return e;var r=[],i=0;return Op(e,r,"","",function(s){return t.call(n,s,i++)}),r}function e$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bn={current:null},Dp={transition:null},t$={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:Dp,ReactCurrentOwner:IT};Ee.Children={map:Zd,forEach:function(e,t,n){Zd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zd(e,function(){t++}),t},toArray:function(e){return Zd(e,function(t){return t})||[]},only:function(e){if(!ST(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=kl;Ee.Fragment=$B;Ee.Profiler=zB;Ee.PureComponent=ET;Ee.StrictMode=qB;Ee.Suspense=GB;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t$;Ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=PO({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=IT.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)xO.call(t,c)&&!LO.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:dh,type:e.type,key:i,ref:s,props:r,_owner:a}};Ee.createContext=function(e){return e={$$typeof:HB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:WB,_context:e},e.Consumer=e};Ee.createElement=MO;Ee.createFactory=function(e){var t=MO.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:KB,render:e}};Ee.isValidElement=ST;Ee.lazy=function(e){return{$$typeof:YB,_payload:{_status:-1,_result:e},_init:e$}};Ee.memo=function(e,t){return{$$typeof:QB,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=Dp.transition;Dp.transition={};try{e()}finally{Dp.transition=t}};Ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ee.useCallback=function(e,t){return bn.current.useCallback(e,t)};Ee.useContext=function(e){return bn.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return bn.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return bn.current.useEffect(e,t)};Ee.useId=function(){return bn.current.useId()};Ee.useImperativeHandle=function(e,t,n){return bn.current.useImperativeHandle(e,t,n)};Ee.useInsertionEffect=function(e,t){return bn.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return bn.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return bn.current.useMemo(e,t)};Ee.useReducer=function(e,t,n){return bn.current.useReducer(e,t,n)};Ee.useRef=function(e){return bn.current.useRef(e)};Ee.useState=function(e){return bn.current.useState(e)};Ee.useSyncExternalStore=function(e,t,n){return bn.current.useSyncExternalStore(e,t,n)};Ee.useTransition=function(){return bn.current.useTransition()};Ee.version="18.2.0";(function(e){e.exports=Ee})(VB);const n$=UB(Ho);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r$=Ho,i$=Symbol.for("react.element"),o$=Symbol.for("react.fragment"),s$=Object.prototype.hasOwnProperty,a$=r$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u$={key:!0,ref:!0,__self:!0,__source:!0};function FO(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)s$.call(t,r)&&!u$.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:i$,type:e,key:s,ref:a,props:i,_owner:a$.current}}vg.Fragment=o$;vg.jsx=FO;vg.jsxs=FO;(function(e){e.exports=vg})(jB);const fr=Zp.jsx,Ms=Zp.jsxs;var ww={},Ew={},l$={get exports(){return Ew},set exports(e){Ew=e}},or={},Tw={},c$={get exports(){return Tw},set exports(e){Tw=e}},UO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,oe){var se=z.length;z.push(oe);e:for(;0<se;){var Ue=se-1>>>1,rt=z[Ue];if(0<i(rt,oe))z[Ue]=oe,z[se]=rt,se=Ue;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var oe=z[0],se=z.pop();if(se!==oe){z[0]=se;e:for(var Ue=0,rt=z.length,hs=rt>>>1;Ue<hs;){var ei=2*(Ue+1)-1,Kl=z[ei],Nr=ei+1,ds=z[Nr];if(0>i(Kl,se))Nr<rt&&0>i(ds,Kl)?(z[Ue]=ds,z[Nr]=se,Ue=Nr):(z[Ue]=Kl,z[ei]=se,Ue=ei);else if(Nr<rt&&0>i(ds,se))z[Ue]=ds,z[Nr]=se,Ue=Nr;else break e}}return oe}function i(z,oe){var se=z.sortIndex-oe.sortIndex;return se!==0?se:z.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],p=1,v=null,m=3,y=!1,w=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=z)r(h),oe.sortIndex=oe.expirationTime,t(c,oe);else break;oe=n(h)}}function P(z){if(I=!1,b(z),!w)if(n(c)!==null)w=!0,Ci(L);else{var oe=n(h);oe!==null&&$a(P,oe.startTime-z)}}function L(z,oe){w=!1,I&&(I=!1,T(M),M=-1),y=!0;var se=m;try{for(b(oe),v=n(c);v!==null&&(!(v.expirationTime>oe)||z&&!Mt());){var Ue=v.callback;if(typeof Ue=="function"){v.callback=null,m=v.priorityLevel;var rt=Ue(v.expirationTime<=oe);oe=e.unstable_now(),typeof rt=="function"?v.callback=rt:v===n(c)&&r(c),b(oe)}else r(c);v=n(c)}if(v!==null)var hs=!0;else{var ei=n(h);ei!==null&&$a(P,ei.startTime-oe),hs=!1}return hs}finally{v=null,m=se,y=!1}}var O=!1,B=null,M=-1,ue=5,R=-1;function Mt(){return!(e.unstable_now()-R<ue)}function Ar(){if(B!==null){var z=e.unstable_now();R=z;var oe=!0;try{oe=B(!0,z)}finally{oe?cs():(O=!1,B=null)}}else O=!1}var cs;if(typeof S=="function")cs=function(){S(Ar)};else if(typeof MessageChannel<"u"){var Ba=new MessageChannel,fs=Ba.port2;Ba.port1.onmessage=Ar,cs=function(){fs.postMessage(null)}}else cs=function(){C(Ar,0)};function Ci(z){B=z,O||(O=!0,cs())}function $a(z,oe){M=C(function(){z(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,Ci(L))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(m){case 1:case 2:case 3:var oe=3;break;default:oe=m}var se=m;m=oe;try{return z()}finally{m=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,oe){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var se=m;m=z;try{return oe()}finally{m=se}},e.unstable_scheduleCallback=function(z,oe,se){var Ue=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ue+se:Ue):se=Ue,z){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=se+rt,z={id:p++,callback:oe,priorityLevel:z,startTime:se,expirationTime:rt,sortIndex:-1},se>Ue?(z.sortIndex=se,t(h,z),n(c)===null&&z===n(h)&&(I?(T(M),M=-1):I=!0,$a(P,se-Ue))):(z.sortIndex=rt,t(c,z),w||y||(w=!0,Ci(L))),z},e.unstable_shouldYield=Mt,e.unstable_wrapCallback=function(z){var oe=m;return function(){var se=m;m=oe;try{return z.apply(this,arguments)}finally{m=se}}}})(UO);(function(e){e.exports=UO})(c$);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jO=Ho,tr=Tw;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VO=new Set,Ef={};function ka(e,t){Ku(e,t),Ku(e+"Capture",t)}function Ku(e,t){for(Ef[e]=t,e=0;e<t.length;e++)VO.add(t[e])}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iw=Object.prototype.hasOwnProperty,f$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RA={},PA={};function h$(e){return Iw.call(PA,e)?!0:Iw.call(RA,e)?!1:f$.test(e)?PA[e]=!0:(RA[e]=!0,!1)}function d$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function p$(e,t,n,r){if(t===null||typeof t>"u"||d$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kt[e]=new kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kt[t]=new kn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kt[e]=new kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kt[e]=new kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kt[e]=new kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kt[e]=new kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kt[e]=new kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kt[e]=new kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kt[e]=new kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var bT=/[\-:]([a-z])/g;function kT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bT,kT);Kt[t]=new kn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bT,kT);Kt[t]=new kn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bT,kT);Kt[t]=new kn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kt[e]=new kn(e,1,!1,e.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kt[e]=new kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function CT(e,t,n,r){var i=Kt.hasOwnProperty(t)?Kt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(p$(t,n,i,r)&&(n=null),r||i===null?h$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var to=jO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ep=Symbol.for("react.element"),Iu=Symbol.for("react.portal"),Su=Symbol.for("react.fragment"),AT=Symbol.for("react.strict_mode"),Sw=Symbol.for("react.profiler"),BO=Symbol.for("react.provider"),$O=Symbol.for("react.context"),NT=Symbol.for("react.forward_ref"),bw=Symbol.for("react.suspense"),kw=Symbol.for("react.suspense_list"),RT=Symbol.for("react.memo"),Eo=Symbol.for("react.lazy"),qO=Symbol.for("react.offscreen"),OA=Symbol.iterator;function Rc(e){return e===null||typeof e!="object"?null:(e=OA&&e[OA]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Object.assign,d_;function Wc(e){if(d_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);d_=t&&t[1]||""}return`
`+d_+e}var p_=!1;function v_(e,t){if(!e||p_)return"";p_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{p_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wc(e):""}function v$(e){switch(e.tag){case 5:return Wc(e.type);case 16:return Wc("Lazy");case 13:return Wc("Suspense");case 19:return Wc("SuspenseList");case 0:case 2:case 15:return e=v_(e.type,!1),e;case 11:return e=v_(e.type.render,!1),e;case 1:return e=v_(e.type,!0),e;default:return""}}function Cw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Su:return"Fragment";case Iu:return"Portal";case Sw:return"Profiler";case AT:return"StrictMode";case bw:return"Suspense";case kw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $O:return(e.displayName||"Context")+".Consumer";case BO:return(e._context.displayName||"Context")+".Provider";case NT:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case RT:return t=e.displayName||null,t!==null?t:Cw(e.type)||"Memo";case Eo:t=e._payload,e=e._init;try{return Cw(e(t))}catch{}}return null}function g$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cw(t);case 8:return t===AT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ko(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function m$(e){var t=zO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tp(e){e._valueTracker||(e._valueTracker=m$(e))}function WO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ev(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Aw(e,t){var n=t.checked;return Ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function DA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ko(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function HO(e,t){t=t.checked,t!=null&&CT(e,"checked",t,!1)}function Nw(e,t){HO(e,t);var n=Ko(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rw(e,t.type,n):t.hasOwnProperty("defaultValue")&&Rw(e,t.type,Ko(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Rw(e,t,n){(t!=="number"||ev(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hc=Array.isArray;function Fu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ko(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Pw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function LA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Hc(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ko(n)}}function KO(e,t){var n=Ko(t.value),r=Ko(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function MA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function GO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ow(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?GO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var np,QO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(np=np||document.createElement("div"),np.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=np.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y$=["Webkit","ms","Moz","O"];Object.keys(Xc).forEach(function(e){y$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xc[t]=Xc[e]})});function YO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xc.hasOwnProperty(e)&&Xc[e]?(""+t).trim():t+"px"}function XO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=YO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var _$=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dw(e,t){if(t){if(_$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function xw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lw=null;function PT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mw=null,Uu=null,ju=null;function FA(e){if(e=gh(e)){if(typeof Mw!="function")throw Error(V(280));var t=e.stateNode;t&&(t=wg(t),Mw(e.stateNode,e.type,t))}}function JO(e){Uu?ju?ju.push(e):ju=[e]:Uu=e}function ZO(){if(Uu){var e=Uu,t=ju;if(ju=Uu=null,FA(e),t)for(e=0;e<t.length;e++)FA(t[e])}}function eD(e,t){return e(t)}function tD(){}var g_=!1;function nD(e,t,n){if(g_)return e(t,n);g_=!0;try{return eD(e,t,n)}finally{g_=!1,(Uu!==null||ju!==null)&&(tD(),ZO())}}function If(e,t){var n=e.stateNode;if(n===null)return null;var r=wg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Fw=!1;if(Ki)try{var Pc={};Object.defineProperty(Pc,"passive",{get:function(){Fw=!0}}),window.addEventListener("test",Pc,Pc),window.removeEventListener("test",Pc,Pc)}catch{Fw=!1}function w$(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var Jc=!1,tv=null,nv=!1,Uw=null,E$={onError:function(e){Jc=!0,tv=e}};function T$(e,t,n,r,i,s,a,l,c){Jc=!1,tv=null,w$.apply(E$,arguments)}function I$(e,t,n,r,i,s,a,l,c){if(T$.apply(this,arguments),Jc){if(Jc){var h=tv;Jc=!1,tv=null}else throw Error(V(198));nv||(nv=!0,Uw=h)}}function Ca(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function UA(e){if(Ca(e)!==e)throw Error(V(188))}function S$(e){var t=e.alternate;if(!t){if(t=Ca(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return UA(i),e;if(s===r)return UA(i),t;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function iD(e){return e=S$(e),e!==null?oD(e):null}function oD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oD(e);if(t!==null)return t;e=e.sibling}return null}var sD=tr.unstable_scheduleCallback,jA=tr.unstable_cancelCallback,b$=tr.unstable_shouldYield,k$=tr.unstable_requestPaint,at=tr.unstable_now,C$=tr.unstable_getCurrentPriorityLevel,OT=tr.unstable_ImmediatePriority,aD=tr.unstable_UserBlockingPriority,rv=tr.unstable_NormalPriority,A$=tr.unstable_LowPriority,uD=tr.unstable_IdlePriority,gg=null,pi=null;function N$(e){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(gg,e,void 0,(e.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:O$,R$=Math.log,P$=Math.LN2;function O$(e){return e>>>=0,e===0?32:31-(R$(e)/P$|0)|0}var rp=64,ip=4194304;function Kc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function iv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Kc(l):(s&=a,s!==0&&(r=Kc(s)))}else a=n&~i,a!==0?r=Kc(a):s!==0&&(r=Kc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Kr(t),i=1<<n,r|=e[n],t&=~i;return r}function D$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Kr(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=D$(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function jw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lD(){var e=rp;return rp<<=1,!(rp&4194240)&&(rp=64),e}function m_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ph(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kr(t),e[t]=n}function L$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Kr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function DT(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Kr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Oe=0;function cD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fD,xT,hD,dD,pD,Vw=!1,op=[],Do=null,xo=null,Lo=null,Sf=new Map,bf=new Map,So=[],M$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VA(e,t){switch(e){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":xo=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Sf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bf.delete(t.pointerId)}}function Oc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=gh(t),t!==null&&xT(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function F$(e,t,n,r,i){switch(t){case"focusin":return Do=Oc(Do,e,t,n,r,i),!0;case"dragenter":return xo=Oc(xo,e,t,n,r,i),!0;case"mouseover":return Lo=Oc(Lo,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sf.set(s,Oc(Sf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bf.set(s,Oc(bf.get(s)||null,e,t,n,r,i)),!0}return!1}function vD(e){var t=qs(e.target);if(t!==null){var n=Ca(t);if(n!==null){if(t=n.tag,t===13){if(t=rD(n),t!==null){e.blockedOn=t,pD(e.priority,function(){hD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Lw=r,n.target.dispatchEvent(r),Lw=null}else return t=gh(n),t!==null&&xT(t),e.blockedOn=n,!1;t.shift()}return!0}function BA(e,t,n){xp(e)&&n.delete(t)}function U$(){Vw=!1,Do!==null&&xp(Do)&&(Do=null),xo!==null&&xp(xo)&&(xo=null),Lo!==null&&xp(Lo)&&(Lo=null),Sf.forEach(BA),bf.forEach(BA)}function Dc(e,t){e.blockedOn===t&&(e.blockedOn=null,Vw||(Vw=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,U$)))}function kf(e){function t(i){return Dc(i,e)}if(0<op.length){Dc(op[0],e);for(var n=1;n<op.length;n++){var r=op[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Do!==null&&Dc(Do,e),xo!==null&&Dc(xo,e),Lo!==null&&Dc(Lo,e),Sf.forEach(t),bf.forEach(t),n=0;n<So.length;n++)r=So[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<So.length&&(n=So[0],n.blockedOn===null);)vD(n),n.blockedOn===null&&So.shift()}var Vu=to.ReactCurrentBatchConfig,ov=!0;function j$(e,t,n,r){var i=Oe,s=Vu.transition;Vu.transition=null;try{Oe=1,LT(e,t,n,r)}finally{Oe=i,Vu.transition=s}}function V$(e,t,n,r){var i=Oe,s=Vu.transition;Vu.transition=null;try{Oe=4,LT(e,t,n,r)}finally{Oe=i,Vu.transition=s}}function LT(e,t,n,r){if(ov){var i=Bw(e,t,n,r);if(i===null)C_(e,t,r,sv,n),VA(e,r);else if(F$(i,e,t,n,r))r.stopPropagation();else if(VA(e,r),t&4&&-1<M$.indexOf(e)){for(;i!==null;){var s=gh(i);if(s!==null&&fD(s),s=Bw(e,t,n,r),s===null&&C_(e,t,r,sv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else C_(e,t,r,null,n)}}var sv=null;function Bw(e,t,n,r){if(sv=null,e=PT(r),e=qs(e),e!==null)if(t=Ca(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rD(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sv=e,null}function gD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C$()){case OT:return 1;case aD:return 4;case rv:case A$:return 16;case uD:return 536870912;default:return 16}default:return 16}}var Ro=null,MT=null,Lp=null;function mD(){if(Lp)return Lp;var e,t=MT,n=t.length,r,i="value"in Ro?Ro.value:Ro.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Lp=i.slice(e,1<r?1-r:void 0)}function Mp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sp(){return!0}function $A(){return!1}function sr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sp:$A,this.isPropagationStopped=$A,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sp)},persist:function(){},isPersistent:sp}),t}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FT=sr(Cl),vh=Ze({},Cl,{view:0,detail:0}),B$=sr(vh),y_,__,xc,mg=Ze({},vh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xc&&(xc&&e.type==="mousemove"?(y_=e.screenX-xc.screenX,__=e.screenY-xc.screenY):__=y_=0,xc=e),y_)},movementY:function(e){return"movementY"in e?e.movementY:__}}),qA=sr(mg),$$=Ze({},mg,{dataTransfer:0}),q$=sr($$),z$=Ze({},vh,{relatedTarget:0}),w_=sr(z$),W$=Ze({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),H$=sr(W$),K$=Ze({},Cl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),G$=sr(K$),Q$=Ze({},Cl,{data:0}),zA=sr(Q$),Y$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=J$[e])?!!t[e]:!1}function UT(){return Z$}var eq=Ze({},vh,{key:function(e){if(e.key){var t=Y$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?X$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UT,charCode:function(e){return e.type==="keypress"?Mp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tq=sr(eq),nq=Ze({},mg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WA=sr(nq),rq=Ze({},vh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UT}),iq=sr(rq),oq=Ze({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),sq=sr(oq),aq=Ze({},mg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uq=sr(aq),lq=[9,13,27,32],jT=Ki&&"CompositionEvent"in window,Zc=null;Ki&&"documentMode"in document&&(Zc=document.documentMode);var cq=Ki&&"TextEvent"in window&&!Zc,yD=Ki&&(!jT||Zc&&8<Zc&&11>=Zc),HA=String.fromCharCode(32),KA=!1;function _D(e,t){switch(e){case"keyup":return lq.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bu=!1;function fq(e,t){switch(e){case"compositionend":return wD(t);case"keypress":return t.which!==32?null:(KA=!0,HA);case"textInput":return e=t.data,e===HA&&KA?null:e;default:return null}}function hq(e,t){if(bu)return e==="compositionend"||!jT&&_D(e,t)?(e=mD(),Lp=MT=Ro=null,bu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yD&&t.locale!=="ko"?null:t.data;default:return null}}var dq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dq[e.type]:t==="textarea"}function ED(e,t,n,r){JO(r),t=av(t,"onChange"),0<t.length&&(n=new FT("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ef=null,Cf=null;function pq(e){OD(e,0)}function yg(e){var t=Au(e);if(WO(t))return e}function vq(e,t){if(e==="change")return t}var TD=!1;if(Ki){var E_;if(Ki){var T_="oninput"in document;if(!T_){var QA=document.createElement("div");QA.setAttribute("oninput","return;"),T_=typeof QA.oninput=="function"}E_=T_}else E_=!1;TD=E_&&(!document.documentMode||9<document.documentMode)}function YA(){ef&&(ef.detachEvent("onpropertychange",ID),Cf=ef=null)}function ID(e){if(e.propertyName==="value"&&yg(Cf)){var t=[];ED(t,Cf,e,PT(e)),nD(pq,t)}}function gq(e,t,n){e==="focusin"?(YA(),ef=t,Cf=n,ef.attachEvent("onpropertychange",ID)):e==="focusout"&&YA()}function mq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yg(Cf)}function yq(e,t){if(e==="click")return yg(t)}function _q(e,t){if(e==="input"||e==="change")return yg(t)}function wq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xr=typeof Object.is=="function"?Object.is:wq;function Af(e,t){if(Xr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Iw.call(t,i)||!Xr(e[i],t[i]))return!1}return!0}function XA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function JA(e,t){var n=XA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=XA(n)}}function SD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bD(){for(var e=window,t=ev();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ev(e.document)}return t}function VT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Eq(e){var t=bD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&SD(n.ownerDocument.documentElement,n)){if(r!==null&&VT(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=JA(n,s);var a=JA(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tq=Ki&&"documentMode"in document&&11>=document.documentMode,ku=null,$w=null,tf=null,qw=!1;function ZA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qw||ku==null||ku!==ev(r)||(r=ku,"selectionStart"in r&&VT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tf&&Af(tf,r)||(tf=r,r=av($w,"onSelect"),0<r.length&&(t=new FT("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ku)))}function ap(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cu={animationend:ap("Animation","AnimationEnd"),animationiteration:ap("Animation","AnimationIteration"),animationstart:ap("Animation","AnimationStart"),transitionend:ap("Transition","TransitionEnd")},I_={},kD={};Ki&&(kD=document.createElement("div").style,"AnimationEvent"in window||(delete Cu.animationend.animation,delete Cu.animationiteration.animation,delete Cu.animationstart.animation),"TransitionEvent"in window||delete Cu.transitionend.transition);function _g(e){if(I_[e])return I_[e];if(!Cu[e])return e;var t=Cu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kD)return I_[e]=t[n];return e}var CD=_g("animationend"),AD=_g("animationiteration"),ND=_g("animationstart"),RD=_g("transitionend"),PD=new Map,eN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(e,t){PD.set(e,t),ka(t,[e])}for(var S_=0;S_<eN.length;S_++){var b_=eN[S_],Iq=b_.toLowerCase(),Sq=b_[0].toUpperCase()+b_.slice(1);ts(Iq,"on"+Sq)}ts(CD,"onAnimationEnd");ts(AD,"onAnimationIteration");ts(ND,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(RD,"onTransitionEnd");Ku("onMouseEnter",["mouseout","mouseover"]);Ku("onMouseLeave",["mouseout","mouseover"]);Ku("onPointerEnter",["pointerout","pointerover"]);Ku("onPointerLeave",["pointerout","pointerover"]);ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bq=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gc));function tN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,I$(r,t,void 0,e),e.currentTarget=null}function OD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;tN(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;tN(i,l,h),s=c}}}if(nv)throw e=Uw,nv=!1,Uw=null,e}function je(e,t){var n=t[Gw];n===void 0&&(n=t[Gw]=new Set);var r=e+"__bubble";n.has(r)||(DD(t,e,2,!1),n.add(r))}function k_(e,t,n){var r=0;t&&(r|=4),DD(n,e,r,t)}var up="_reactListening"+Math.random().toString(36).slice(2);function Nf(e){if(!e[up]){e[up]=!0,VO.forEach(function(n){n!=="selectionchange"&&(bq.has(n)||k_(n,!1,e),k_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[up]||(t[up]=!0,k_("selectionchange",!1,t))}}function DD(e,t,n,r){switch(gD(t)){case 1:var i=j$;break;case 4:i=V$;break;default:i=LT}n=i.bind(null,t,n,e),i=void 0,!Fw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function C_(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=qs(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}nD(function(){var h=s,p=PT(n),v=[];e:{var m=PD.get(e);if(m!==void 0){var y=FT,w=e;switch(e){case"keypress":if(Mp(n)===0)break e;case"keydown":case"keyup":y=tq;break;case"focusin":w="focus",y=w_;break;case"focusout":w="blur",y=w_;break;case"beforeblur":case"afterblur":y=w_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=qA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=q$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=iq;break;case CD:case AD:case ND:y=H$;break;case RD:y=sq;break;case"scroll":y=B$;break;case"wheel":y=uq;break;case"copy":case"cut":case"paste":y=G$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=WA}var I=(t&4)!==0,C=!I&&e==="scroll",T=I?m!==null?m+"Capture":null:m;I=[];for(var S=h,b;S!==null;){b=S;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,T!==null&&(P=If(S,T),P!=null&&I.push(Rf(S,P,b)))),C)break;S=S.return}0<I.length&&(m=new y(m,w,null,n,p),v.push({event:m,listeners:I}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==Lw&&(w=n.relatedTarget||n.fromElement)&&(qs(w)||w[Gi]))break e;if((y||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=h,w=w?qs(w):null,w!==null&&(C=Ca(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(I=qA,P="onMouseLeave",T="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(I=WA,P="onPointerLeave",T="onPointerEnter",S="pointer"),C=y==null?m:Au(y),b=w==null?m:Au(w),m=new I(P,S+"leave",y,n,p),m.target=C,m.relatedTarget=b,P=null,qs(p)===h&&(I=new I(T,S+"enter",w,n,p),I.target=b,I.relatedTarget=C,P=I),C=P,y&&w)t:{for(I=y,T=w,S=0,b=I;b;b=du(b))S++;for(b=0,P=T;P;P=du(P))b++;for(;0<S-b;)I=du(I),S--;for(;0<b-S;)T=du(T),b--;for(;S--;){if(I===T||T!==null&&I===T.alternate)break t;I=du(I),T=du(T)}I=null}else I=null;y!==null&&nN(v,m,y,I,!1),w!==null&&C!==null&&nN(v,C,w,I,!0)}}e:{if(m=h?Au(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var L=vq;else if(GA(m))if(TD)L=_q;else{L=mq;var O=gq}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=yq);if(L&&(L=L(e,h))){ED(v,L,n,p);break e}O&&O(e,m,h),e==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Rw(m,"number",m.value)}switch(O=h?Au(h):window,e){case"focusin":(GA(O)||O.contentEditable==="true")&&(ku=O,$w=h,tf=null);break;case"focusout":tf=$w=ku=null;break;case"mousedown":qw=!0;break;case"contextmenu":case"mouseup":case"dragend":qw=!1,ZA(v,n,p);break;case"selectionchange":if(Tq)break;case"keydown":case"keyup":ZA(v,n,p)}var B;if(jT)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else bu?_D(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(yD&&n.locale!=="ko"&&(bu||M!=="onCompositionStart"?M==="onCompositionEnd"&&bu&&(B=mD()):(Ro=p,MT="value"in Ro?Ro.value:Ro.textContent,bu=!0)),O=av(h,M),0<O.length&&(M=new zA(M,e,null,n,p),v.push({event:M,listeners:O}),B?M.data=B:(B=wD(n),B!==null&&(M.data=B)))),(B=cq?fq(e,n):hq(e,n))&&(h=av(h,"onBeforeInput"),0<h.length&&(p=new zA("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:h}),p.data=B))}OD(v,t)})}function Rf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function av(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=If(e,n),s!=null&&r.unshift(Rf(e,s,i)),s=If(e,t),s!=null&&r.push(Rf(e,s,i))),e=e.return}return r}function du(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nN(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=If(n,s),c!=null&&a.unshift(Rf(n,c,l))):i||(c=If(n,s),c!=null&&a.push(Rf(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var kq=/\r\n?/g,Cq=/\u0000|\uFFFD/g;function rN(e){return(typeof e=="string"?e:""+e).replace(kq,`
`).replace(Cq,"")}function lp(e,t,n){if(t=rN(t),rN(e)!==t&&n)throw Error(V(425))}function uv(){}var zw=null,Ww=null;function Hw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kw=typeof setTimeout=="function"?setTimeout:void 0,Aq=typeof clearTimeout=="function"?clearTimeout:void 0,iN=typeof Promise=="function"?Promise:void 0,Nq=typeof queueMicrotask=="function"?queueMicrotask:typeof iN<"u"?function(e){return iN.resolve(null).then(e).catch(Rq)}:Kw;function Rq(e){setTimeout(function(){throw e})}function A_(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),kf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kf(t)}function Mo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Al=Math.random().toString(36).slice(2),hi="__reactFiber$"+Al,Pf="__reactProps$"+Al,Gi="__reactContainer$"+Al,Gw="__reactEvents$"+Al,Pq="__reactListeners$"+Al,Oq="__reactHandles$"+Al;function qs(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gi]||n[hi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=oN(e);e!==null;){if(n=e[hi])return n;e=oN(e)}return t}e=n,n=e.parentNode}return null}function gh(e){return e=e[hi]||e[Gi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Au(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function wg(e){return e[Pf]||null}var Qw=[],Nu=-1;function ns(e){return{current:e}}function Be(e){0>Nu||(e.current=Qw[Nu],Qw[Nu]=null,Nu--)}function Me(e,t){Nu++,Qw[Nu]=e.current,e.current=t}var Go={},an=ns(Go),Mn=ns(!1),ua=Go;function Gu(e,t){var n=e.type.contextTypes;if(!n)return Go;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Fn(e){return e=e.childContextTypes,e!=null}function lv(){Be(Mn),Be(an)}function sN(e,t,n){if(an.current!==Go)throw Error(V(168));Me(an,t),Me(Mn,n)}function xD(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,g$(e)||"Unknown",i));return Ze({},n,r)}function cv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Go,ua=an.current,Me(an,e),Me(Mn,Mn.current),!0}function aN(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=xD(e,t,ua),r.__reactInternalMemoizedMergedChildContext=e,Be(Mn),Be(an),Me(an,e)):Be(Mn),Me(Mn,n)}var Fi=null,Eg=!1,N_=!1;function LD(e){Fi===null?Fi=[e]:Fi.push(e)}function Dq(e){Eg=!0,LD(e)}function rs(){if(!N_&&Fi!==null){N_=!0;var e=0,t=Oe;try{var n=Fi;for(Oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Fi=null,Eg=!1}catch(i){throw Fi!==null&&(Fi=Fi.slice(e+1)),sD(OT,rs),i}finally{Oe=t,N_=!1}}return null}var Ru=[],Pu=0,fv=null,hv=0,hr=[],dr=0,la=null,Ui=1,ji="";function Fs(e,t){Ru[Pu++]=hv,Ru[Pu++]=fv,fv=e,hv=t}function MD(e,t,n){hr[dr++]=Ui,hr[dr++]=ji,hr[dr++]=la,la=e;var r=Ui;e=ji;var i=32-Kr(r)-1;r&=~(1<<i),n+=1;var s=32-Kr(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ui=1<<32-Kr(t)+i|n<<i|r,ji=s+e}else Ui=1<<s|n<<i|r,ji=e}function BT(e){e.return!==null&&(Fs(e,1),MD(e,1,0))}function $T(e){for(;e===fv;)fv=Ru[--Pu],Ru[Pu]=null,hv=Ru[--Pu],Ru[Pu]=null;for(;e===la;)la=hr[--dr],hr[dr]=null,ji=hr[--dr],hr[dr]=null,Ui=hr[--dr],hr[dr]=null}var er=null,Yn=null,ze=!1,Wr=null;function FD(e,t){var n=pr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function uN(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,er=e,Yn=Mo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,er=e,Yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=la!==null?{id:Ui,overflow:ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,er=e,Yn=null,!0):!1;default:return!1}}function Yw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xw(e){if(ze){var t=Yn;if(t){var n=t;if(!uN(e,t)){if(Yw(e))throw Error(V(418));t=Mo(n.nextSibling);var r=er;t&&uN(e,t)?FD(r,n):(e.flags=e.flags&-4097|2,ze=!1,er=e)}}else{if(Yw(e))throw Error(V(418));e.flags=e.flags&-4097|2,ze=!1,er=e}}}function lN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;er=e}function cp(e){if(e!==er)return!1;if(!ze)return lN(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hw(e.type,e.memoizedProps)),t&&(t=Yn)){if(Yw(e))throw UD(),Error(V(418));for(;t;)FD(e,t),t=Mo(t.nextSibling)}if(lN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yn=Mo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yn=null}}else Yn=er?Mo(e.stateNode.nextSibling):null;return!0}function UD(){for(var e=Yn;e;)e=Mo(e.nextSibling)}function Qu(){Yn=er=null,ze=!1}function qT(e){Wr===null?Wr=[e]:Wr.push(e)}var xq=to.ReactCurrentBatchConfig;function $r(e,t){if(e&&e.defaultProps){t=Ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var dv=ns(null),pv=null,Ou=null,zT=null;function WT(){zT=Ou=pv=null}function HT(e){var t=dv.current;Be(dv),e._currentValue=t}function Jw(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bu(e,t){pv=e,zT=Ou=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xn=!0),e.firstContext=null)}function Ir(e){var t=e._currentValue;if(zT!==e)if(e={context:e,memoizedValue:t,next:null},Ou===null){if(pv===null)throw Error(V(308));Ou=e,pv.dependencies={lanes:0,firstContext:e}}else Ou=Ou.next=e;return t}var zs=null;function KT(e){zs===null?zs=[e]:zs.push(e)}function jD(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,KT(t)):(n.next=i.next,i.next=n),t.interleaved=n,Qi(e,r)}function Qi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var To=!1;function GT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Qi(e,n)}return i=r.interleaved,i===null?(t.next=t,KT(r)):(t.next=i.next,i.next=t),r.interleaved=t,Qi(e,n)}function Fp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,DT(e,n)}}function cN(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vv(e,t,n,r){var i=e.updateQueue;To=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==a&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=c))}if(s!==null){var v=i.baseState;a=0,p=h=c=null,l=s;do{var m=l.lane,y=l.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,I=l;switch(m=t,y=n,I.tag){case 1:if(w=I.payload,typeof w=="function"){v=w.call(y,v,m);break e}v=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=I.payload,m=typeof w=="function"?w.call(y,v,m):w,m==null)break e;v=Ze({},v,m);break e;case 2:To=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=y,c=v):p=p.next=y,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(p===null&&(c=v),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);fa|=a,e.lanes=a,e.memoizedState=v}}function fN(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var BD=new jO.Component().refs;function Zw(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Tg={isMounted:function(e){return(e=e._reactInternals)?Ca(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tn(),i=jo(e),s=qi(r,i);s.payload=t,n!=null&&(s.callback=n),t=Fo(e,s,i),t!==null&&(Gr(t,e,i,r),Fp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tn(),i=jo(e),s=qi(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Fo(e,s,i),t!==null&&(Gr(t,e,i,r),Fp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tn(),r=jo(e),i=qi(n,r);i.tag=2,t!=null&&(i.callback=t),t=Fo(e,i,r),t!==null&&(Gr(t,e,r,n),Fp(t,e,r))}};function hN(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Af(n,r)||!Af(i,s):!0}function $D(e,t,n){var r=!1,i=Go,s=t.contextType;return typeof s=="object"&&s!==null?s=Ir(s):(i=Fn(t)?ua:an.current,r=t.contextTypes,s=(r=r!=null)?Gu(e,i):Go),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function dN(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Tg.enqueueReplaceState(t,t.state,null)}function eE(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=BD,GT(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ir(s):(s=Fn(t)?ua:an.current,i.context=Gu(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Zw(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Tg.enqueueReplaceState(i,i.state,null),vv(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Lc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;l===BD&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function fp(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pN(e){var t=e._init;return t(e._payload)}function qD(e){function t(T,S){if(e){var b=T.deletions;b===null?(T.deletions=[S],T.flags|=16):b.push(S)}}function n(T,S){if(!e)return null;for(;S!==null;)t(T,S),S=S.sibling;return null}function r(T,S){for(T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function i(T,S){return T=Vo(T,S),T.index=0,T.sibling=null,T}function s(T,S,b){return T.index=b,e?(b=T.alternate,b!==null?(b=b.index,b<S?(T.flags|=2,S):b):(T.flags|=2,S)):(T.flags|=1048576,S)}function a(T){return e&&T.alternate===null&&(T.flags|=2),T}function l(T,S,b,P){return S===null||S.tag!==6?(S=M_(b,T.mode,P),S.return=T,S):(S=i(S,b),S.return=T,S)}function c(T,S,b,P){var L=b.type;return L===Su?p(T,S,b.props.children,P,b.key):S!==null&&(S.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Eo&&pN(L)===S.type)?(P=i(S,b.props),P.ref=Lc(T,S,b),P.return=T,P):(P=qp(b.type,b.key,b.props,null,T.mode,P),P.ref=Lc(T,S,b),P.return=T,P)}function h(T,S,b,P){return S===null||S.tag!==4||S.stateNode.containerInfo!==b.containerInfo||S.stateNode.implementation!==b.implementation?(S=F_(b,T.mode,P),S.return=T,S):(S=i(S,b.children||[]),S.return=T,S)}function p(T,S,b,P,L){return S===null||S.tag!==7?(S=ea(b,T.mode,P,L),S.return=T,S):(S=i(S,b),S.return=T,S)}function v(T,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return S=M_(""+S,T.mode,b),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ep:return b=qp(S.type,S.key,S.props,null,T.mode,b),b.ref=Lc(T,null,S),b.return=T,b;case Iu:return S=F_(S,T.mode,b),S.return=T,S;case Eo:var P=S._init;return v(T,P(S._payload),b)}if(Hc(S)||Rc(S))return S=ea(S,T.mode,b,null),S.return=T,S;fp(T,S)}return null}function m(T,S,b,P){var L=S!==null?S.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return L!==null?null:l(T,S,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ep:return b.key===L?c(T,S,b,P):null;case Iu:return b.key===L?h(T,S,b,P):null;case Eo:return L=b._init,m(T,S,L(b._payload),P)}if(Hc(b)||Rc(b))return L!==null?null:p(T,S,b,P,null);fp(T,b)}return null}function y(T,S,b,P,L){if(typeof P=="string"&&P!==""||typeof P=="number")return T=T.get(b)||null,l(S,T,""+P,L);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ep:return T=T.get(P.key===null?b:P.key)||null,c(S,T,P,L);case Iu:return T=T.get(P.key===null?b:P.key)||null,h(S,T,P,L);case Eo:var O=P._init;return y(T,S,b,O(P._payload),L)}if(Hc(P)||Rc(P))return T=T.get(b)||null,p(S,T,P,L,null);fp(S,P)}return null}function w(T,S,b,P){for(var L=null,O=null,B=S,M=S=0,ue=null;B!==null&&M<b.length;M++){B.index>M?(ue=B,B=null):ue=B.sibling;var R=m(T,B,b[M],P);if(R===null){B===null&&(B=ue);break}e&&B&&R.alternate===null&&t(T,B),S=s(R,S,M),O===null?L=R:O.sibling=R,O=R,B=ue}if(M===b.length)return n(T,B),ze&&Fs(T,M),L;if(B===null){for(;M<b.length;M++)B=v(T,b[M],P),B!==null&&(S=s(B,S,M),O===null?L=B:O.sibling=B,O=B);return ze&&Fs(T,M),L}for(B=r(T,B);M<b.length;M++)ue=y(B,T,M,b[M],P),ue!==null&&(e&&ue.alternate!==null&&B.delete(ue.key===null?M:ue.key),S=s(ue,S,M),O===null?L=ue:O.sibling=ue,O=ue);return e&&B.forEach(function(Mt){return t(T,Mt)}),ze&&Fs(T,M),L}function I(T,S,b,P){var L=Rc(b);if(typeof L!="function")throw Error(V(150));if(b=L.call(b),b==null)throw Error(V(151));for(var O=L=null,B=S,M=S=0,ue=null,R=b.next();B!==null&&!R.done;M++,R=b.next()){B.index>M?(ue=B,B=null):ue=B.sibling;var Mt=m(T,B,R.value,P);if(Mt===null){B===null&&(B=ue);break}e&&B&&Mt.alternate===null&&t(T,B),S=s(Mt,S,M),O===null?L=Mt:O.sibling=Mt,O=Mt,B=ue}if(R.done)return n(T,B),ze&&Fs(T,M),L;if(B===null){for(;!R.done;M++,R=b.next())R=v(T,R.value,P),R!==null&&(S=s(R,S,M),O===null?L=R:O.sibling=R,O=R);return ze&&Fs(T,M),L}for(B=r(T,B);!R.done;M++,R=b.next())R=y(B,T,M,R.value,P),R!==null&&(e&&R.alternate!==null&&B.delete(R.key===null?M:R.key),S=s(R,S,M),O===null?L=R:O.sibling=R,O=R);return e&&B.forEach(function(Ar){return t(T,Ar)}),ze&&Fs(T,M),L}function C(T,S,b,P){if(typeof b=="object"&&b!==null&&b.type===Su&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ep:e:{for(var L=b.key,O=S;O!==null;){if(O.key===L){if(L=b.type,L===Su){if(O.tag===7){n(T,O.sibling),S=i(O,b.props.children),S.return=T,T=S;break e}}else if(O.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Eo&&pN(L)===O.type){n(T,O.sibling),S=i(O,b.props),S.ref=Lc(T,O,b),S.return=T,T=S;break e}n(T,O);break}else t(T,O);O=O.sibling}b.type===Su?(S=ea(b.props.children,T.mode,P,b.key),S.return=T,T=S):(P=qp(b.type,b.key,b.props,null,T.mode,P),P.ref=Lc(T,S,b),P.return=T,T=P)}return a(T);case Iu:e:{for(O=b.key;S!==null;){if(S.key===O)if(S.tag===4&&S.stateNode.containerInfo===b.containerInfo&&S.stateNode.implementation===b.implementation){n(T,S.sibling),S=i(S,b.children||[]),S.return=T,T=S;break e}else{n(T,S);break}else t(T,S);S=S.sibling}S=F_(b,T.mode,P),S.return=T,T=S}return a(T);case Eo:return O=b._init,C(T,S,O(b._payload),P)}if(Hc(b))return w(T,S,b,P);if(Rc(b))return I(T,S,b,P);fp(T,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,S!==null&&S.tag===6?(n(T,S.sibling),S=i(S,b),S.return=T,T=S):(n(T,S),S=M_(b,T.mode,P),S.return=T,T=S),a(T)):n(T,S)}return C}var Yu=qD(!0),zD=qD(!1),mh={},vi=ns(mh),Of=ns(mh),Df=ns(mh);function Ws(e){if(e===mh)throw Error(V(174));return e}function QT(e,t){switch(Me(Df,t),Me(Of,e),Me(vi,mh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ow(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ow(t,e)}Be(vi),Me(vi,t)}function Xu(){Be(vi),Be(Of),Be(Df)}function WD(e){Ws(Df.current);var t=Ws(vi.current),n=Ow(t,e.type);t!==n&&(Me(Of,e),Me(vi,n))}function YT(e){Of.current===e&&(Be(vi),Be(Of))}var Qe=ns(0);function gv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var R_=[];function XT(){for(var e=0;e<R_.length;e++)R_[e]._workInProgressVersionPrimary=null;R_.length=0}var Up=to.ReactCurrentDispatcher,P_=to.ReactCurrentBatchConfig,ca=0,Je=null,_t=null,Ct=null,mv=!1,nf=!1,xf=0,Lq=0;function Yt(){throw Error(V(321))}function JT(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xr(e[n],t[n]))return!1;return!0}function ZT(e,t,n,r,i,s){if(ca=s,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Up.current=e===null||e.memoizedState===null?jq:Vq,e=n(r,i),nf){s=0;do{if(nf=!1,xf=0,25<=s)throw Error(V(301));s+=1,Ct=_t=null,t.updateQueue=null,Up.current=Bq,e=n(r,i)}while(nf)}if(Up.current=yv,t=_t!==null&&_t.next!==null,ca=0,Ct=_t=Je=null,mv=!1,t)throw Error(V(300));return e}function eI(){var e=xf!==0;return xf=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Je.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function Sr(){if(_t===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=Ct===null?Je.memoizedState:Ct.next;if(t!==null)Ct=t,_t=e;else{if(e===null)throw Error(V(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Ct===null?Je.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Lf(e,t){return typeof t=="function"?t(e):t}function O_(e){var t=Sr(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=_t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var p=h.lane;if((ca&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=v,a=r):c=c.next=v,Je.lanes|=p,fa|=p}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,Xr(r,t.memoizedState)||(xn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Je.lanes|=s,fa|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function D_(e){var t=Sr(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Xr(s,t.memoizedState)||(xn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function HD(){}function KD(e,t){var n=Je,r=Sr(),i=t(),s=!Xr(r.memoizedState,i);if(s&&(r.memoizedState=i,xn=!0),r=r.queue,tI(YD.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,Mf(9,QD.bind(null,n,r,i,t),void 0,null),Dt===null)throw Error(V(349));ca&30||GD(n,t,i)}return i}function GD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function QD(e,t,n,r){t.value=n,t.getSnapshot=r,XD(t)&&JD(e)}function YD(e,t,n){return n(function(){XD(t)&&JD(e)})}function XD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xr(e,n)}catch{return!0}}function JD(e){var t=Qi(e,1);t!==null&&Gr(t,e,1,-1)}function vN(e){var t=ci();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:e},t.queue=e,e=e.dispatch=Uq.bind(null,Je,e),[t.memoizedState,e]}function Mf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ZD(){return Sr().memoizedState}function jp(e,t,n,r){var i=ci();Je.flags|=e,i.memoizedState=Mf(1|t,n,void 0,r===void 0?null:r)}function Ig(e,t,n,r){var i=Sr();r=r===void 0?null:r;var s=void 0;if(_t!==null){var a=_t.memoizedState;if(s=a.destroy,r!==null&&JT(r,a.deps)){i.memoizedState=Mf(t,n,s,r);return}}Je.flags|=e,i.memoizedState=Mf(1|t,n,s,r)}function gN(e,t){return jp(8390656,8,e,t)}function tI(e,t){return Ig(2048,8,e,t)}function ex(e,t){return Ig(4,2,e,t)}function tx(e,t){return Ig(4,4,e,t)}function nx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rx(e,t,n){return n=n!=null?n.concat([e]):null,Ig(4,4,nx.bind(null,t,e),n)}function nI(){}function ix(e,t){var n=Sr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&JT(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ox(e,t){var n=Sr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&JT(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sx(e,t,n){return ca&21?(Xr(n,t)||(n=lD(),Je.lanes|=n,fa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xn=!0),e.memoizedState=n)}function Mq(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var r=P_.transition;P_.transition={};try{e(!1),t()}finally{Oe=n,P_.transition=r}}function ax(){return Sr().memoizedState}function Fq(e,t,n){var r=jo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ux(e))lx(t,n);else if(n=jD(e,t,n,r),n!==null){var i=Tn();Gr(n,e,r,i),cx(n,t,r)}}function Uq(e,t,n){var r=jo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ux(e))lx(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Xr(l,a)){var c=t.interleaved;c===null?(i.next=i,KT(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=jD(e,t,i,r),n!==null&&(i=Tn(),Gr(n,e,r,i),cx(n,t,r))}}function ux(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function lx(e,t){nf=mv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,DT(e,n)}}var yv={readContext:Ir,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},jq={readContext:Ir,useCallback:function(e,t){return ci().memoizedState=[e,t===void 0?null:t],e},useContext:Ir,useEffect:gN,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,jp(4194308,4,nx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jp(4194308,4,e,t)},useInsertionEffect:function(e,t){return jp(4,2,e,t)},useMemo:function(e,t){var n=ci();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ci();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Fq.bind(null,Je,e),[r.memoizedState,e]},useRef:function(e){var t=ci();return e={current:e},t.memoizedState=e},useState:vN,useDebugValue:nI,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=vN(!1),t=e[0];return e=Mq.bind(null,e[1]),ci().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Je,i=ci();if(ze){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Dt===null)throw Error(V(349));ca&30||GD(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,gN(YD.bind(null,r,s,e),[e]),r.flags|=2048,Mf(9,QD.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ci(),t=Dt.identifierPrefix;if(ze){var n=ji,r=Ui;n=(r&~(1<<32-Kr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Lq++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vq={readContext:Ir,useCallback:ix,useContext:Ir,useEffect:tI,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:ox,useReducer:O_,useRef:ZD,useState:function(){return O_(Lf)},useDebugValue:nI,useDeferredValue:function(e){var t=Sr();return sx(t,_t.memoizedState,e)},useTransition:function(){var e=O_(Lf)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:HD,useSyncExternalStore:KD,useId:ax,unstable_isNewReconciler:!1},Bq={readContext:Ir,useCallback:ix,useContext:Ir,useEffect:tI,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:ox,useReducer:D_,useRef:ZD,useState:function(){return D_(Lf)},useDebugValue:nI,useDeferredValue:function(e){var t=Sr();return _t===null?t.memoizedState=e:sx(t,_t.memoizedState,e)},useTransition:function(){var e=D_(Lf)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:HD,useSyncExternalStore:KD,useId:ax,unstable_isNewReconciler:!1};function Ju(e,t){try{var n="",r=t;do n+=v$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function x_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function tE(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $q=typeof WeakMap=="function"?WeakMap:Map;function fx(e,t,n){n=qi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wv||(wv=!0,fE=r),tE(e,t)},n}function hx(e,t,n){n=qi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){tE(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){tE(e,t),typeof r!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function mN(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $q;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=nz.bind(null,e,t,n),t.then(e,e))}function yN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _N(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qi(-1,1),t.tag=2,Fo(n,t,1))),n.lanes|=1),e)}var qq=to.ReactCurrentOwner,xn=!1;function vn(e,t,n,r){t.child=e===null?zD(t,null,n,r):Yu(t,e.child,n,r)}function wN(e,t,n,r,i){n=n.render;var s=t.ref;return Bu(t,i),r=ZT(e,t,n,r,s,i),n=eI(),e!==null&&!xn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yi(e,t,i)):(ze&&n&&BT(t),t.flags|=1,vn(e,t,r,i),t.child)}function EN(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!cI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,dx(e,t,s,r,i)):(e=qp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Af,n(a,r)&&e.ref===t.ref)return Yi(e,t,i)}return t.flags|=1,e=Vo(s,r),e.ref=t.ref,e.return=t,t.child=e}function dx(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Af(s,r)&&e.ref===t.ref)if(xn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(xn=!0);else return t.lanes=e.lanes,Yi(e,t,i)}return nE(e,t,n,r,i)}function px(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(xu,Hn),Hn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(xu,Hn),Hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Me(xu,Hn),Hn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Me(xu,Hn),Hn|=r;return vn(e,t,i,n),t.child}function vx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function nE(e,t,n,r,i){var s=Fn(n)?ua:an.current;return s=Gu(t,s),Bu(t,i),n=ZT(e,t,n,r,s,i),r=eI(),e!==null&&!xn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yi(e,t,i)):(ze&&r&&BT(t),t.flags|=1,vn(e,t,n,i),t.child)}function TN(e,t,n,r,i){if(Fn(n)){var s=!0;cv(t)}else s=!1;if(Bu(t,i),t.stateNode===null)Vp(e,t),$D(t,n,r),eE(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ir(h):(h=Fn(n)?ua:an.current,h=Gu(t,h));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&dN(t,a,r,h),To=!1;var m=t.memoizedState;a.state=m,vv(t,r,a,i),c=t.memoizedState,l!==r||m!==c||Mn.current||To?(typeof p=="function"&&(Zw(t,n,p,r),c=t.memoizedState),(l=To||hN(t,n,l,r,m,c,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,VD(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:$r(t.type,l),a.props=h,v=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ir(c):(c=Fn(n)?ua:an.current,c=Gu(t,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==v||m!==c)&&dN(t,a,r,c),To=!1,m=t.memoizedState,a.state=m,vv(t,r,a,i);var w=t.memoizedState;l!==v||m!==w||Mn.current||To?(typeof y=="function"&&(Zw(t,n,y,r),w=t.memoizedState),(h=To||hN(t,n,h,r,m,w,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return rE(e,t,n,r,s,i)}function rE(e,t,n,r,i,s){vx(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&aN(t,n,!1),Yi(e,t,s);r=t.stateNode,qq.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Yu(t,e.child,null,s),t.child=Yu(t,null,l,s)):vn(e,t,l,s),t.memoizedState=r.state,i&&aN(t,n,!0),t.child}function gx(e){var t=e.stateNode;t.pendingContext?sN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sN(e,t.context,!1),QT(e,t.containerInfo)}function IN(e,t,n,r,i){return Qu(),qT(i),t.flags|=256,vn(e,t,n,r),t.child}var iE={dehydrated:null,treeContext:null,retryLane:0};function oE(e){return{baseLanes:e,cachePool:null,transitions:null}}function mx(e,t,n){var r=t.pendingProps,i=Qe.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Me(Qe,i&1),e===null)return Xw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=kg(a,r,0,null),e=ea(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=oE(n),t.memoizedState=iE,e):rI(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return zq(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Vo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Vo(l,s):(s=ea(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?oE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=iE,r}return s=e.child,e=s.sibling,r=Vo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function rI(e,t){return t=kg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hp(e,t,n,r){return r!==null&&qT(r),Yu(t,e.child,null,n),e=rI(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zq(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=x_(Error(V(422))),hp(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=kg({mode:"visible",children:r.children},i,0,null),s=ea(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Yu(t,e.child,null,a),t.child.memoizedState=oE(a),t.memoizedState=iE,s);if(!(t.mode&1))return hp(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(V(419)),r=x_(s,r,void 0),hp(e,t,a,r)}if(l=(a&e.childLanes)!==0,xn||l){if(r=Dt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qi(e,i),Gr(r,e,i,-1))}return lI(),r=x_(Error(V(421))),hp(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=rz.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Yn=Mo(i.nextSibling),er=t,ze=!0,Wr=null,e!==null&&(hr[dr++]=Ui,hr[dr++]=ji,hr[dr++]=la,Ui=e.id,ji=e.overflow,la=t),t=rI(t,r.children),t.flags|=4096,t)}function SN(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Jw(e.return,t,n)}function L_(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yx(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(vn(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&SN(e,n,t);else if(e.tag===19)SN(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Me(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&gv(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),L_(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gv(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}L_(t,!0,n,null,s);break;case"together":L_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Vo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wq(e,t,n){switch(t.tag){case 3:gx(t),Qu();break;case 5:WD(t);break;case 1:Fn(t.type)&&cv(t);break;case 4:QT(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Me(dv,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Me(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?mx(e,t,n):(Me(Qe,Qe.current&1),e=Yi(e,t,n),e!==null?e.sibling:null);Me(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yx(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,px(e,t,n)}return Yi(e,t,n)}var _x,sE,wx,Ex;_x=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sE=function(){};wx=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ws(vi.current);var s=null;switch(n){case"input":i=Aw(e,i),r=Aw(e,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=Pw(e,i),r=Pw(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=uv)}Dw(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ef.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ef.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&je("scroll",e),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};Ex=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mc(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hq(e,t,n){var r=t.pendingProps;switch($T(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return Fn(t.type)&&lv(),Xt(t),null;case 3:return r=t.stateNode,Xu(),Be(Mn),Be(an),XT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wr!==null&&(pE(Wr),Wr=null))),sE(e,t),Xt(t),null;case 5:YT(t);var i=Ws(Df.current);if(n=t.type,e!==null&&t.stateNode!=null)wx(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Xt(t),null}if(e=Ws(vi.current),cp(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[Pf]=s,e=(t.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<Gc.length;i++)je(Gc[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":DA(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":LA(r,s),je("invalid",r)}Dw(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&lp(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&lp(r.textContent,l,e),i=["children",""+l]):Ef.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&je("scroll",r)}switch(n){case"input":tp(r),xA(r,s,!0);break;case"textarea":tp(r),MA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uv)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=GO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[hi]=t,e[Pf]=r,_x(e,t,!1,!1),t.stateNode=e;e:{switch(a=xw(n,r),n){case"dialog":je("cancel",e),je("close",e),i=r;break;case"iframe":case"object":case"embed":je("load",e),i=r;break;case"video":case"audio":for(i=0;i<Gc.length;i++)je(Gc[i],e);i=r;break;case"source":je("error",e),i=r;break;case"img":case"image":case"link":je("error",e),je("load",e),i=r;break;case"details":je("toggle",e),i=r;break;case"input":DA(e,r),i=Aw(e,r),je("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),je("invalid",e);break;case"textarea":LA(e,r),i=Pw(e,r),je("invalid",e);break;default:i=r}Dw(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?XO(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&QO(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Tf(e,c):typeof c=="number"&&Tf(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ef.hasOwnProperty(s)?c!=null&&s==="onScroll"&&je("scroll",e):c!=null&&CT(e,s,c,a))}switch(n){case"input":tp(e),xA(e,r,!1);break;case"textarea":tp(e),MA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ko(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Fu(e,!!r.multiple,s,!1):r.defaultValue!=null&&Fu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=uv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xt(t),null;case 6:if(e&&t.stateNode!=null)Ex(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Ws(Df.current),Ws(vi.current),cp(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&(e=er,e!==null))switch(e.tag){case 3:lp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hi]=t,t.stateNode=r}return Xt(t),null;case 13:if(Be(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&Yn!==null&&t.mode&1&&!(t.flags&128))UD(),Qu(),t.flags|=98560,s=!1;else if(s=cp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(V(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[hi]=t}else Qu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xt(t),s=!1}else Wr!==null&&(pE(Wr),Wr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?Et===0&&(Et=3):lI())),t.updateQueue!==null&&(t.flags|=4),Xt(t),null);case 4:return Xu(),sE(e,t),e===null&&Nf(t.stateNode.containerInfo),Xt(t),null;case 10:return HT(t.type._context),Xt(t),null;case 17:return Fn(t.type)&&lv(),Xt(t),null;case 19:if(Be(Qe),s=t.memoizedState,s===null)return Xt(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Mc(s,!1);else{if(Et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=gv(e),a!==null){for(t.flags|=128,Mc(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Me(Qe,Qe.current&1|2),t.child}e=e.sibling}s.tail!==null&&at()>Zu&&(t.flags|=128,r=!0,Mc(s,!1),t.lanes=4194304)}else{if(!r)if(e=gv(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ze)return Xt(t),null}else 2*at()-s.renderingStartTime>Zu&&n!==1073741824&&(t.flags|=128,r=!0,Mc(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=at(),t.sibling=null,n=Qe.current,Me(Qe,r?n&1|2:n&1),t):(Xt(t),null);case 22:case 23:return uI(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Hn&1073741824&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function Kq(e,t){switch($T(t),t.tag){case 1:return Fn(t.type)&&lv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xu(),Be(Mn),Be(an),XT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return YT(t),null;case 13:if(Be(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Qu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Qe),null;case 4:return Xu(),null;case 10:return HT(t.type._context),null;case 22:case 23:return uI(),null;case 24:return null;default:return null}}var dp=!1,en=!1,Gq=typeof WeakSet=="function"?WeakSet:Set,K=null;function Du(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function aE(e,t,n){try{n()}catch(r){tt(e,t,r)}}var bN=!1;function Qq(e,t){if(zw=ov,e=bD(),VT(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,p=0,v=e,m=null;t:for(;;){for(var y;v!==n||i!==0&&v.nodeType!==3||(l=a+i),v!==s||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(y=v.firstChild)!==null;)m=v,v=y;for(;;){if(v===e)break t;if(m===n&&++h===i&&(l=a),m===s&&++p===r&&(c=a),(y=v.nextSibling)!==null)break;v=m,m=v.parentNode}v=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ww={focusedElem:e,selectionRange:n},ov=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var I=w.memoizedProps,C=w.memoizedState,T=t.stateNode,S=T.getSnapshotBeforeUpdate(t.elementType===t.type?I:$r(t.type,I),C);T.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(P){tt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return w=bN,bN=!1,w}function rf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&aE(t,n,s)}i=i.next}while(i!==r)}}function Sg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uE(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Tx(e){var t=e.alternate;t!==null&&(e.alternate=null,Tx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hi],delete t[Pf],delete t[Gw],delete t[Pq],delete t[Oq])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ix(e){return e.tag===5||e.tag===3||e.tag===4}function kN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ix(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=uv));else if(r!==4&&(e=e.child,e!==null))for(lE(e,t,n),e=e.sibling;e!==null;)lE(e,t,n),e=e.sibling}function cE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cE(e,t,n),e=e.sibling;e!==null;)cE(e,t,n),e=e.sibling}var jt=null,zr=!1;function go(e,t,n){for(n=n.child;n!==null;)Sx(e,t,n),n=n.sibling}function Sx(e,t,n){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(gg,n)}catch{}switch(n.tag){case 5:en||Du(n,t);case 6:var r=jt,i=zr;jt=null,go(e,t,n),jt=r,zr=i,jt!==null&&(zr?(e=jt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(zr?(e=jt,n=n.stateNode,e.nodeType===8?A_(e.parentNode,n):e.nodeType===1&&A_(e,n),kf(e)):A_(jt,n.stateNode));break;case 4:r=jt,i=zr,jt=n.stateNode.containerInfo,zr=!0,go(e,t,n),jt=r,zr=i;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&aE(n,t,a),i=i.next}while(i!==r)}go(e,t,n);break;case 1:if(!en&&(Du(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){tt(n,t,l)}go(e,t,n);break;case 21:go(e,t,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,go(e,t,n),en=r):go(e,t,n);break;default:go(e,t,n)}}function CN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gq),t.forEach(function(r){var i=iz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:jt=l.stateNode,zr=!1;break e;case 3:jt=l.stateNode.containerInfo,zr=!0;break e;case 4:jt=l.stateNode.containerInfo,zr=!0;break e}l=l.return}if(jt===null)throw Error(V(160));Sx(s,a,i),jt=null,zr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){tt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bx(t,e),t=t.sibling}function bx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fr(t,e),li(e),r&4){try{rf(3,e,e.return),Sg(3,e)}catch(I){tt(e,e.return,I)}try{rf(5,e,e.return)}catch(I){tt(e,e.return,I)}}break;case 1:Fr(t,e),li(e),r&512&&n!==null&&Du(n,n.return);break;case 5:if(Fr(t,e),li(e),r&512&&n!==null&&Du(n,n.return),e.flags&32){var i=e.stateNode;try{Tf(i,"")}catch(I){tt(e,e.return,I)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&HO(i,s),xw(l,a);var h=xw(l,s);for(a=0;a<c.length;a+=2){var p=c[a],v=c[a+1];p==="style"?XO(i,v):p==="dangerouslySetInnerHTML"?QO(i,v):p==="children"?Tf(i,v):CT(i,p,v,h)}switch(l){case"input":Nw(i,s);break;case"textarea":KO(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Fu(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Fu(i,!!s.multiple,s.defaultValue,!0):Fu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pf]=s}catch(I){tt(e,e.return,I)}}break;case 6:if(Fr(t,e),li(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(I){tt(e,e.return,I)}}break;case 3:if(Fr(t,e),li(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kf(t.containerInfo)}catch(I){tt(e,e.return,I)}break;case 4:Fr(t,e),li(e);break;case 13:Fr(t,e),li(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sI=at())),r&4&&CN(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(en=(h=en)||p,Fr(t,e),en=h):Fr(t,e),li(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(K=e,p=e.child;p!==null;){for(v=K=p;K!==null;){switch(m=K,y=m.child,m.tag){case 0:case 11:case 14:case 15:rf(4,m,m.return);break;case 1:Du(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(I){tt(r,n,I)}}break;case 5:Du(m,m.return);break;case 22:if(m.memoizedState!==null){NN(v);continue}}y!==null?(y.return=m,K=y):NN(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=YO("display",a))}catch(I){tt(e,e.return,I)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(I){tt(e,e.return,I)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Fr(t,e),li(e),r&4&&CN(e);break;case 21:break;default:Fr(t,e),li(e)}}function li(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ix(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tf(i,""),r.flags&=-33);var s=kN(e);cE(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=kN(e);lE(e,l,a);break;default:throw Error(V(161))}}catch(c){tt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yq(e,t,n){K=e,kx(e)}function kx(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||dp;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||en;l=dp;var h=en;if(dp=a,(en=c)&&!h)for(K=i;K!==null;)a=K,c=a.child,a.tag===22&&a.memoizedState!==null?RN(i):c!==null?(c.return=a,K=c):RN(i);for(;s!==null;)K=s,kx(s),s=s.sibling;K=i,dp=l,en=h}AN(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):AN(e)}}function AN(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:en||Sg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!en)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:$r(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&fN(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fN(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&kf(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}en||t.flags&512&&uE(t)}catch(m){tt(t,t.return,m)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function NN(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function RN(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sg(4,t)}catch(c){tt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){tt(t,i,c)}}var s=t.return;try{uE(t)}catch(c){tt(t,s,c)}break;case 5:var a=t.return;try{uE(t)}catch(c){tt(t,a,c)}}}catch(c){tt(t,t.return,c)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var Xq=Math.ceil,_v=to.ReactCurrentDispatcher,iI=to.ReactCurrentOwner,wr=to.ReactCurrentBatchConfig,Ie=0,Dt=null,ht=null,qt=0,Hn=0,xu=ns(0),Et=0,Ff=null,fa=0,bg=0,oI=0,of=null,On=null,sI=0,Zu=1/0,Li=null,wv=!1,fE=null,Uo=null,pp=!1,Po=null,Ev=0,sf=0,hE=null,Bp=-1,$p=0;function Tn(){return Ie&6?at():Bp!==-1?Bp:Bp=at()}function jo(e){return e.mode&1?Ie&2&&qt!==0?qt&-qt:xq.transition!==null?($p===0&&($p=lD()),$p):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:gD(e.type)),e):1}function Gr(e,t,n,r){if(50<sf)throw sf=0,hE=null,Error(V(185));ph(e,n,r),(!(Ie&2)||e!==Dt)&&(e===Dt&&(!(Ie&2)&&(bg|=n),Et===4&&bo(e,qt)),Un(e,r),n===1&&Ie===0&&!(t.mode&1)&&(Zu=at()+500,Eg&&rs()))}function Un(e,t){var n=e.callbackNode;x$(e,t);var r=iv(e,e===Dt?qt:0);if(r===0)n!==null&&jA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jA(n),t===1)e.tag===0?Dq(PN.bind(null,e)):LD(PN.bind(null,e)),Nq(function(){!(Ie&6)&&rs()}),n=null;else{switch(cD(r)){case 1:n=OT;break;case 4:n=aD;break;case 16:n=rv;break;case 536870912:n=uD;break;default:n=rv}n=xx(n,Cx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cx(e,t){if(Bp=-1,$p=0,Ie&6)throw Error(V(327));var n=e.callbackNode;if($u()&&e.callbackNode!==n)return null;var r=iv(e,e===Dt?qt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Tv(e,r);else{t=r;var i=Ie;Ie|=2;var s=Nx();(Dt!==e||qt!==t)&&(Li=null,Zu=at()+500,Zs(e,t));do try{ez();break}catch(l){Ax(e,l)}while(1);WT(),_v.current=s,Ie=i,ht!==null?t=0:(Dt=null,qt=0,t=Et)}if(t!==0){if(t===2&&(i=jw(e),i!==0&&(r=i,t=dE(e,i))),t===1)throw n=Ff,Zs(e,0),bo(e,r),Un(e,at()),n;if(t===6)bo(e,r);else{if(i=e.current.alternate,!(r&30)&&!Jq(i)&&(t=Tv(e,r),t===2&&(s=jw(e),s!==0&&(r=s,t=dE(e,s))),t===1))throw n=Ff,Zs(e,0),bo(e,r),Un(e,at()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Us(e,On,Li);break;case 3:if(bo(e,r),(r&130023424)===r&&(t=sI+500-at(),10<t)){if(iv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Tn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kw(Us.bind(null,e,On,Li),t);break}Us(e,On,Li);break;case 4:if(bo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Kr(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xq(r/1960))-r,10<r){e.timeoutHandle=Kw(Us.bind(null,e,On,Li),r);break}Us(e,On,Li);break;case 5:Us(e,On,Li);break;default:throw Error(V(329))}}}return Un(e,at()),e.callbackNode===n?Cx.bind(null,e):null}function dE(e,t){var n=of;return e.current.memoizedState.isDehydrated&&(Zs(e,t).flags|=256),e=Tv(e,t),e!==2&&(t=On,On=n,t!==null&&pE(t)),e}function pE(e){On===null?On=e:On.push.apply(On,e)}function Jq(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bo(e,t){for(t&=~oI,t&=~bg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kr(t),r=1<<n;e[n]=-1,t&=~r}}function PN(e){if(Ie&6)throw Error(V(327));$u();var t=iv(e,0);if(!(t&1))return Un(e,at()),null;var n=Tv(e,t);if(e.tag!==0&&n===2){var r=jw(e);r!==0&&(t=r,n=dE(e,r))}if(n===1)throw n=Ff,Zs(e,0),bo(e,t),Un(e,at()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Us(e,On,Li),Un(e,at()),null}function aI(e,t){var n=Ie;Ie|=1;try{return e(t)}finally{Ie=n,Ie===0&&(Zu=at()+500,Eg&&rs())}}function ha(e){Po!==null&&Po.tag===0&&!(Ie&6)&&$u();var t=Ie;Ie|=1;var n=wr.transition,r=Oe;try{if(wr.transition=null,Oe=1,e)return e()}finally{Oe=r,wr.transition=n,Ie=t,!(Ie&6)&&rs()}}function uI(){Hn=xu.current,Be(xu)}function Zs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Aq(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch($T(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lv();break;case 3:Xu(),Be(Mn),Be(an),XT();break;case 5:YT(r);break;case 4:Xu();break;case 13:Be(Qe);break;case 19:Be(Qe);break;case 10:HT(r.type._context);break;case 22:case 23:uI()}n=n.return}if(Dt=e,ht=e=Vo(e.current,null),qt=Hn=t,Et=0,Ff=null,oI=bg=fa=0,On=of=null,zs!==null){for(t=0;t<zs.length;t++)if(n=zs[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}zs=null}return e}function Ax(e,t){do{var n=ht;try{if(WT(),Up.current=yv,mv){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mv=!1}if(ca=0,Ct=_t=Je=null,nf=!1,xf=0,iI.current=null,n===null||n.return===null){Et=1,Ff=t,ht=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=qt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=l,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=yN(a);if(y!==null){y.flags&=-257,_N(y,a,l,s,t),y.mode&1&&mN(s,h,t),t=y,c=h;var w=t.updateQueue;if(w===null){var I=new Set;I.add(c),t.updateQueue=I}else w.add(c);break e}else{if(!(t&1)){mN(s,h,t),lI();break e}c=Error(V(426))}}else if(ze&&l.mode&1){var C=yN(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),_N(C,a,l,s,t),qT(Ju(c,l));break e}}s=c=Ju(c,l),Et!==4&&(Et=2),of===null?of=[s]:of.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var T=fx(s,c,t);cN(s,T);break e;case 1:l=c;var S=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Uo===null||!Uo.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=hx(s,l,t);cN(s,P);break e}}s=s.return}while(s!==null)}Px(n)}catch(L){t=L,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function Nx(){var e=_v.current;return _v.current=yv,e===null?yv:e}function lI(){(Et===0||Et===3||Et===2)&&(Et=4),Dt===null||!(fa&268435455)&&!(bg&268435455)||bo(Dt,qt)}function Tv(e,t){var n=Ie;Ie|=2;var r=Nx();(Dt!==e||qt!==t)&&(Li=null,Zs(e,t));do try{Zq();break}catch(i){Ax(e,i)}while(1);if(WT(),Ie=n,_v.current=r,ht!==null)throw Error(V(261));return Dt=null,qt=0,Et}function Zq(){for(;ht!==null;)Rx(ht)}function ez(){for(;ht!==null&&!b$();)Rx(ht)}function Rx(e){var t=Dx(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?Px(e):ht=t,iI.current=null}function Px(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kq(n,t),n!==null){n.flags&=32767,ht=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Et=6,ht=null;return}}else if(n=Hq(n,t,Hn),n!==null){ht=n;return}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);Et===0&&(Et=5)}function Us(e,t,n){var r=Oe,i=wr.transition;try{wr.transition=null,Oe=1,tz(e,t,n,r)}finally{wr.transition=i,Oe=r}return null}function tz(e,t,n,r){do $u();while(Po!==null);if(Ie&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(L$(e,s),e===Dt&&(ht=Dt=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pp||(pp=!0,xx(rv,function(){return $u(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wr.transition,wr.transition=null;var a=Oe;Oe=1;var l=Ie;Ie|=4,iI.current=null,Qq(e,n),bx(n,e),Eq(Ww),ov=!!zw,Ww=zw=null,e.current=n,Yq(n),k$(),Ie=l,Oe=a,wr.transition=s}else e.current=n;if(pp&&(pp=!1,Po=e,Ev=i),s=e.pendingLanes,s===0&&(Uo=null),N$(n.stateNode),Un(e,at()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wv)throw wv=!1,e=fE,fE=null,e;return Ev&1&&e.tag!==0&&$u(),s=e.pendingLanes,s&1?e===hE?sf++:(sf=0,hE=e):sf=0,rs(),null}function $u(){if(Po!==null){var e=cD(Ev),t=wr.transition,n=Oe;try{if(wr.transition=null,Oe=16>e?16:e,Po===null)var r=!1;else{if(e=Po,Po=null,Ev=0,Ie&6)throw Error(V(331));var i=Ie;for(Ie|=4,K=e.current;K!==null;){var s=K,a=s.child;if(K.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(K=h;K!==null;){var p=K;switch(p.tag){case 0:case 11:case 15:rf(8,p,s)}var v=p.child;if(v!==null)v.return=p,K=v;else for(;K!==null;){p=K;var m=p.sibling,y=p.return;if(Tx(p),p===h){K=null;break}if(m!==null){m.return=y,K=m;break}K=y}}}var w=s.alternate;if(w!==null){var I=w.child;if(I!==null){w.child=null;do{var C=I.sibling;I.sibling=null,I=C}while(I!==null)}}K=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,K=a;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rf(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,K=T;break e}K=s.return}}var S=e.current;for(K=S;K!==null;){a=K;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,K=b;else e:for(a=S;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sg(9,l)}}catch(L){tt(l,l.return,L)}if(l===a){K=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,K=P;break e}K=l.return}}if(Ie=i,rs(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(gg,e)}catch{}r=!0}return r}finally{Oe=n,wr.transition=t}}return!1}function ON(e,t,n){t=Ju(n,t),t=fx(e,t,1),e=Fo(e,t,1),t=Tn(),e!==null&&(ph(e,1,t),Un(e,t))}function tt(e,t,n){if(e.tag===3)ON(e,e,n);else for(;t!==null;){if(t.tag===3){ON(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Uo===null||!Uo.has(r))){e=Ju(n,e),e=hx(t,e,1),t=Fo(t,e,1),e=Tn(),t!==null&&(ph(t,1,e),Un(t,e));break}}t=t.return}}function nz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Tn(),e.pingedLanes|=e.suspendedLanes&n,Dt===e&&(qt&n)===n&&(Et===4||Et===3&&(qt&130023424)===qt&&500>at()-sI?Zs(e,0):oI|=n),Un(e,t)}function Ox(e,t){t===0&&(e.mode&1?(t=ip,ip<<=1,!(ip&130023424)&&(ip=4194304)):t=1);var n=Tn();e=Qi(e,t),e!==null&&(ph(e,t,n),Un(e,n))}function rz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ox(e,n)}function iz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),Ox(e,n)}var Dx;Dx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mn.current)xn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xn=!1,Wq(e,t,n);xn=!!(e.flags&131072)}else xn=!1,ze&&t.flags&1048576&&MD(t,hv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vp(e,t),e=t.pendingProps;var i=Gu(t,an.current);Bu(t,n),i=ZT(null,t,r,e,i,n);var s=eI();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fn(r)?(s=!0,cv(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,GT(t),i.updater=Tg,t.stateNode=i,i._reactInternals=t,eE(t,r,e,n),t=rE(null,t,r,!0,s,n)):(t.tag=0,ze&&s&&BT(t),vn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=sz(r),e=$r(r,e),i){case 0:t=nE(null,t,r,e,n);break e;case 1:t=TN(null,t,r,e,n);break e;case 11:t=wN(null,t,r,e,n);break e;case 14:t=EN(null,t,r,$r(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$r(r,i),nE(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$r(r,i),TN(e,t,r,i,n);case 3:e:{if(gx(t),e===null)throw Error(V(387));r=t.pendingProps,s=t.memoizedState,i=s.element,VD(e,t),vv(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ju(Error(V(423)),t),t=IN(e,t,r,n,i);break e}else if(r!==i){i=Ju(Error(V(424)),t),t=IN(e,t,r,n,i);break e}else for(Yn=Mo(t.stateNode.containerInfo.firstChild),er=t,ze=!0,Wr=null,n=zD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qu(),r===i){t=Yi(e,t,n);break e}vn(e,t,r,n)}t=t.child}return t;case 5:return WD(t),e===null&&Xw(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Hw(r,i)?a=null:s!==null&&Hw(r,s)&&(t.flags|=32),vx(e,t),vn(e,t,a,n),t.child;case 6:return e===null&&Xw(t),null;case 13:return mx(e,t,n);case 4:return QT(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yu(t,null,r,n):vn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$r(r,i),wN(e,t,r,i,n);case 7:return vn(e,t,t.pendingProps,n),t.child;case 8:return vn(e,t,t.pendingProps.children,n),t.child;case 12:return vn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Me(dv,r._currentValue),r._currentValue=a,s!==null)if(Xr(s.value,a)){if(s.children===i.children&&!Mn.current){t=Yi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=qi(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Jw(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(V(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Jw(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}vn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Bu(t,n),i=Ir(i),r=r(i),t.flags|=1,vn(e,t,r,n),t.child;case 14:return r=t.type,i=$r(r,t.pendingProps),i=$r(r.type,i),EN(e,t,r,i,n);case 15:return dx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$r(r,i),Vp(e,t),t.tag=1,Fn(r)?(e=!0,cv(t)):e=!1,Bu(t,n),$D(t,r,i),eE(t,r,i,n),rE(null,t,r,!0,e,n);case 19:return yx(e,t,n);case 22:return px(e,t,n)}throw Error(V(156,t.tag))};function xx(e,t){return sD(e,t)}function oz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(e,t,n,r){return new oz(e,t,n,r)}function cI(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sz(e){if(typeof e=="function")return cI(e)?1:0;if(e!=null){if(e=e.$$typeof,e===NT)return 11;if(e===RT)return 14}return 2}function Vo(e,t){var n=e.alternate;return n===null?(n=pr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qp(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")cI(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Su:return ea(n.children,i,s,t);case AT:a=8,i|=8;break;case Sw:return e=pr(12,n,t,i|2),e.elementType=Sw,e.lanes=s,e;case bw:return e=pr(13,n,t,i),e.elementType=bw,e.lanes=s,e;case kw:return e=pr(19,n,t,i),e.elementType=kw,e.lanes=s,e;case qO:return kg(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case BO:a=10;break e;case $O:a=9;break e;case NT:a=11;break e;case RT:a=14;break e;case Eo:a=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=pr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ea(e,t,n,r){return e=pr(7,e,r,t),e.lanes=n,e}function kg(e,t,n,r){return e=pr(22,e,r,t),e.elementType=qO,e.lanes=n,e.stateNode={isHidden:!1},e}function M_(e,t,n){return e=pr(6,e,null,t),e.lanes=n,e}function F_(e,t,n){return t=pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function az(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=m_(0),this.expirationTimes=m_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=m_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fI(e,t,n,r,i,s,a,l,c){return e=new az(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=pr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},GT(s),e}function uz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Iu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lx(e){if(!e)return Go;e=e._reactInternals;e:{if(Ca(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Fn(n))return xD(e,n,t)}return t}function Mx(e,t,n,r,i,s,a,l,c){return e=fI(n,r,!0,e,i,s,a,l,c),e.context=Lx(null),n=e.current,r=Tn(),i=jo(n),s=qi(r,i),s.callback=t??null,Fo(n,s,i),e.current.lanes=i,ph(e,i,r),Un(e,r),e}function Cg(e,t,n,r){var i=t.current,s=Tn(),a=jo(i);return n=Lx(n),t.context===null?t.context=n:t.pendingContext=n,t=qi(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fo(i,t,a),e!==null&&(Gr(e,i,a,s),Fp(e,i,a)),a}function Iv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function DN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hI(e,t){DN(e,t),(e=e.alternate)&&DN(e,t)}function lz(){return null}var Fx=typeof reportError=="function"?reportError:function(e){console.error(e)};function dI(e){this._internalRoot=e}Ag.prototype.render=dI.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Cg(e,t,null,null)};Ag.prototype.unmount=dI.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ha(function(){Cg(null,e,null,null)}),t[Gi]=null}};function Ag(e){this._internalRoot=e}Ag.prototype.unstable_scheduleHydration=function(e){if(e){var t=dD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<So.length&&t!==0&&t<So[n].priority;n++);So.splice(n,0,e),n===0&&vD(e)}};function pI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ng(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xN(){}function cz(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Iv(a);s.call(h)}}var a=Mx(t,r,e,0,null,!1,!1,"",xN);return e._reactRootContainer=a,e[Gi]=a.current,Nf(e.nodeType===8?e.parentNode:e),ha(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Iv(c);l.call(h)}}var c=fI(e,0,!1,null,null,!1,!1,"",xN);return e._reactRootContainer=c,e[Gi]=c.current,Nf(e.nodeType===8?e.parentNode:e),ha(function(){Cg(t,c,n,r)}),c}function Rg(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Iv(a);l.call(c)}}Cg(t,a,e,i)}else a=cz(n,t,e,i,r);return Iv(a)}fD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kc(t.pendingLanes);n!==0&&(DT(t,n|1),Un(t,at()),!(Ie&6)&&(Zu=at()+500,rs()))}break;case 13:ha(function(){var r=Qi(e,1);if(r!==null){var i=Tn();Gr(r,e,1,i)}}),hI(e,1)}};xT=function(e){if(e.tag===13){var t=Qi(e,134217728);if(t!==null){var n=Tn();Gr(t,e,134217728,n)}hI(e,134217728)}};hD=function(e){if(e.tag===13){var t=jo(e),n=Qi(e,t);if(n!==null){var r=Tn();Gr(n,e,t,r)}hI(e,t)}};dD=function(){return Oe};pD=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}};Mw=function(e,t,n){switch(t){case"input":if(Nw(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wg(r);if(!i)throw Error(V(90));WO(r),Nw(r,i)}}}break;case"textarea":KO(e,n);break;case"select":t=n.value,t!=null&&Fu(e,!!n.multiple,t,!1)}};eD=aI;tD=ha;var fz={usingClientEntryPoint:!1,Events:[gh,Au,wg,JO,ZO,aI]},Fc={findFiberByHostInstance:qs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hz={bundleType:Fc.bundleType,version:Fc.version,rendererPackageName:Fc.rendererPackageName,rendererConfig:Fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:to.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iD(e),e===null?null:e.stateNode},findFiberByHostInstance:Fc.findFiberByHostInstance||lz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vp.isDisabled&&vp.supportsFiber)try{gg=vp.inject(hz),pi=vp}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fz;or.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pI(t))throw Error(V(200));return uz(e,t,null,n)};or.createRoot=function(e,t){if(!pI(e))throw Error(V(299));var n=!1,r="",i=Fx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=fI(e,1,!1,null,null,n,!1,r,i),e[Gi]=t.current,Nf(e.nodeType===8?e.parentNode:e),new dI(t)};or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=iD(t),e=e===null?null:e.stateNode,e};or.flushSync=function(e){return ha(e)};or.hydrate=function(e,t,n){if(!Ng(t))throw Error(V(200));return Rg(null,e,t,!0,n)};or.hydrateRoot=function(e,t,n){if(!pI(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Fx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Mx(t,null,e,1,n??null,i,!1,s,a),e[Gi]=t.current,Nf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ag(t)};or.render=function(e,t,n){if(!Ng(t))throw Error(V(200));return Rg(null,e,t,!1,n)};or.unmountComponentAtNode=function(e){if(!Ng(e))throw Error(V(40));return e._reactRootContainer?(ha(function(){Rg(null,null,e,!1,function(){e._reactRootContainer=null,e[Gi]=null})}),!0):!1};or.unstable_batchedUpdates=aI;or.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ng(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Rg(e,t,n,!1,r)};or.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=or})(l$);var LN=Ew;ww.createRoot=LN.createRoot,ww.hydrateRoot=LN.hydrateRoot;var vE=function(e,t){return vE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},vE(e,t)};function H(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var te=function(){return te=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},te.apply(this,arguments)};function N(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(v){a(v)}}function c(p){try{h(r.throw(p))}catch(v){a(v)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function A(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function xt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function he(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ux={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $=function(e,t){if(!e)throw Nl(t)},Nl=function(e){return new Error("Firebase Database ("+Ux.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jx=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},dz=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},el={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,p=s>>2,v=(s&3)<<4|l>>4,m=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(m=64)),r.push(n[p],n[v],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(jx(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):dz(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var p=i<e.length,v=p?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||v==null)throw Error();var m=s<<2|l>>4;if(r.push(m),h!==64){var y=l<<4&240|h>>2;if(r.push(y),v!==64){var w=h<<6&192|v;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},pz=function(e){var t=jx(e);return el.encodeByteArray(t,!0)},MN=function(e){try{return el.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(e){return Uf(void 0,e)}function Uf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!vz(r)||(e[r]=Uf(e[r],t[r]));return e}function vz(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=te({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[el.encodeString(JSON.stringify(n),!1),el.encodeString(JSON.stringify(a),!1),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(da())}function $x(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gz(){return typeof self=="object"&&self.self===self}function gI(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function qx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mz(){return da().indexOf("Electron/")>=0}function yz(){var e=da();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _z(){return da().indexOf("MSAppHost/")>=0}function zx(){return Ux.NODE_ADMIN===!0}function wz(){return!$x()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yh(){return"indexedDB"in self&&indexedDB!=null}function mI(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function Wx(){return!(!navigator||!navigator.cookieEnabled)}function Ez(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tz="FirebaseError",Rl=function(e){H(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=Tz,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,no.prototype.create),s}return t}(Error),no=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?Iz(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new Rl(s,c,i);return h},e}();function Iz(e,t){return e.replace(Sz,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var Sz=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(e){return JSON.parse(e)}function wt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yI=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=jf(MN(s[0])||""),n=jf(MN(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},bz=function(e){var t=yI(e).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},kz=function(e){var t=yI(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Cz=function(e){var t=yI(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pa(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function gE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Sv(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(p){t.push(encodeURIComponent(c)+"="+encodeURIComponent(p))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nz=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],v,m,i=0;i<80;i++){i<40?i<20?(v=h^l&(c^h),m=1518500249):(v=l^c^h,m=1859775393):i<60?(v=l&c|h&(l|c),m=2400959708):(v=l^c^h,m=3395469782);var s=(a<<5|a>>>27)+v+p+m+r[i]&4294967295;p=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function Rz(e,t){var n=new Pz(e,t);return n.subscribe.bind(n)}var Pz=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Oz(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=U_),s.error===void 0&&(s.error=U_),s.complete===void 0&&(s.complete=U_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function Oz(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function U_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function jn(e,t){return e+" failed: "+t+" argument "}function At(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(jn(e,t)+"must be a valid function.")}function FN(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(jn(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dz=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,$(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Pg=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xz=1e3,Lz=2,Mz=4*60*60*1e3,Fz=.5;function mE(e,t,n){t===void 0&&(t=xz),n===void 0&&(n=Lz);var r=t*Math.pow(n,e),i=Math.round(Fz*r*(Math.random()-.5)*2);return Math.min(Mz,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(e){return e&&e._delegate?e._delegate:e}var un=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hx=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Pt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(jz(t))try{this.getOrInitializeService({instanceIdentifier:yu})}catch{}try{for(var i=xt(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Bt(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:h});c.resolve(p)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=yu),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return N(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(he(he([],Bt(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Bt(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=yu),this.instances.has(t)},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=xt(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var p=Bt(h.value,2),v=p[0],m=p[1],y=this.normalizeInstanceIdentifier(v);a===y&&m.resolve(l)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var a=xt(s),l=a.next();!l.done;l=a.next()){var c=l.value;try{c(t,n)}catch{}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Uz(n),options:i}),this.instances.set(n,s),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=yu),this.component?this.component.multipleInstances?t:yu:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function Uz(e){return e===yu?void 0:e}function jz(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kx=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new Hx(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Br(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ls,_I=[],ge;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ge||(ge={}));var Gx={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},Vz=ge.INFO,Bz=(Ls={},Ls[ge.DEBUG]="log",Ls[ge.VERBOSE]="log",Ls[ge.INFO]="info",Ls[ge.WARN]="warn",Ls[ge.ERROR]="error",Ls),$z=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=Bz[t];if(s)console[s].apply(console,Br(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Aa=function(){function e(t){this.name=t,this._logLevel=Vz,this._logHandler=$z,this._userLogHandler=null,_I.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ge))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?Gx[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Br([this,ge.DEBUG],t)),this._logHandler.apply(this,Br([this,ge.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Br([this,ge.VERBOSE],t)),this._logHandler.apply(this,Br([this,ge.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Br([this,ge.INFO],t)),this._logHandler.apply(this,Br([this,ge.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Br([this,ge.WARN],t)),this._logHandler.apply(this,Br([this,ge.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Br([this,ge.ERROR],t)),this._logHandler.apply(this,Br([this,ge.ERROR],t))},e}();function qz(e){_I.forEach(function(t){t.setLogLevel(e)})}function zz(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=Gx[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];var m=p.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l??c.logLevel)&&e({level:ge[h].toLowerCase(),message:m,args:p,type:c.name})}},r=0,i=_I;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mo,Wz=(mo={},mo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",mo["bad-app-name"]="Illegal App name: '{$appName}",mo["duplicate-app"]="Firebase App named '{$appName}' already exists",mo["app-deleted"]="Firebase App named '{$appName}' already deleted",mo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",mo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",mo),_u=new no("app","Firebase",Wz),Qx="@firebase/app",Hz="0.6.29",Kz="@firebase/analytics",Gz="@firebase/app-check",Qz="@firebase/auth",Yz="@firebase/database",Xz="@firebase/functions",Jz="@firebase/installations",Zz="@firebase/messaging",e6="@firebase/performance",t6="@firebase/remote-config",n6="@firebase/storage",r6="@firebase/firestore",i6="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,bv="[DEFAULT]",o6=(Jt={},Jt[Qx]="fire-core",Jt[Kz]="fire-analytics",Jt[Gz]="fire-app-check",Jt[Qz]="fire-auth",Jt[Yz]="fire-rtdb",Jt[Xz]="fire-fn",Jt[Jz]="fire-iid",Jt[Zz]="fire-fcm",Jt[e6]="fire-perf",Jt[t6]="fire-rc",Jt[n6]="fire-gcs",Jt[r6]="fire-fst",Jt["fire-js"]="fire-js",Jt[i6]="fire-js-all",Jt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tl=new Aa("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zp=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=Vx(t),this.container=new Kx(n.name),this._addComponent(new un("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=bv),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=bv),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){tl.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw _u.create("app-deleted",{appName:this.name_})},e}();zp.prototype.name&&zp.prototype.options||zp.prototype.delete||console.log("dc");var s6="8.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:qz,onLog:p,apps:null,SDK_VERSION:s6,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete t[m]}function s(m){if(m=m||bv,!nr(t,m))throw _u.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var w=y;y={name:w}}var I=y;I.name===void 0&&(I.name=bv);var C=I.name;if(typeof C!="string"||!C)throw _u.create("bad-app-name",{appName:String(C)});if(nr(t,C))throw _u.create("duplicate-app",{appName:C});var T=new e(m,I,r);return t[C]=T,T}function l(){return Object.keys(t).map(function(m){return t[m]})}function c(m){var y=m.name;if(n.has(y))return tl.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var w=function(S){if(S===void 0&&(S=s()),typeof S[y]!="function")throw _u.create("invalid-app-argument",{appName:y});return S[y]()};m.serviceProps!==void 0&&Uf(w,m.serviceProps),r[y]=w,e.prototype[y]=function(){for(var S=[],b=0;b<arguments.length;b++)S[b]=arguments[b];var P=this._getService.bind(this,y);return P.apply(this,m.multipleInstances?S:[])}}for(var I=0,C=Object.keys(t);I<C.length;I++){var T=C[I];t[T]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function h(m,y,w){var I,C=(I=o6[m])!==null&&I!==void 0?I:m;w&&(C+="-"+w);var T=C.match(/\s|\//),S=y.match(/\s|\//);if(T||S){var b=['Unable to register library "'+C+'" with version "'+y+'":'];T&&b.push('library name "'+C+'" contains illegal characters (whitespace or "/")'),T&&S&&b.push("and"),S&&b.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),tl.warn(b.join(" "));return}c(new un(C+"-version",function(){return{library:C,version:y}},"VERSION"))}function p(m,y){if(m!==null&&typeof m!="function")throw _u.create("invalid-log-argument");zz(m,y)}function v(m,y){if(y==="serverAuth")return null;var w=y;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(){var e=a6(zp);e.INTERNAL=te(te({},e.INTERNAL),{createFirebaseNamespace:Yx,extendNamespace:t,createSubscribe:Rz,ErrorFactory:no,deepExtend:Uf});function t(n){Uf(e,n)}return e}var wI=Yx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u6=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(l6(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function l6(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(e,t){e.INTERNAL.registerComponent(new un("platform-logger",function(n){return new u6(n)},"PRIVATE")),e.registerVersion(Qx,Hz,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(gz()&&self.firebase!==void 0){tl.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var UN=self.firebase.SDK_VERSION;UN&&UN.indexOf("LITE")>=0&&tl.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var f6=wI.initializeApp;wI.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $x()&&tl.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),f6.apply(void 0,e)};var X=wI;c6(X);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var d=0;d<o.length-1;d++){var g=o[d];g in f||(f[g]={}),f=f[g]}o=o[o.length-1],d=f[o],u=u(d),u!=d&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(E){this.b=0,this.c=void 0,this.a=[];var k=this.f();try{E(k.resolve,k.reject)}catch(x){k.reject(x)}}function f(){this.a=null}function d(E){return E instanceof u?E:new u(function(k){k(E)})}if(o)return o;f.prototype.b=function(E){if(this.a==null){this.a=[];var k=this;this.c(function(){k.g()})}this.a.push(E)};var g=r.setTimeout;f.prototype.c=function(E){g(E,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var E=this.a;this.a=[];for(var k=0;k<E.length;++k){var x=E[k];E[k]=null;try{x()}catch(F){this.f(F)}}}this.a=null},f.prototype.f=function(E){this.c(function(){throw E})},u.prototype.f=function(){function E(F){return function(ie){x||(x=!0,F.call(k,ie))}}var k=this,x=!1;return{resolve:E(this.m),reject:E(this.g)}},u.prototype.m=function(E){if(E===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(E instanceof u)this.s(E);else{e:switch(typeof E){case"object":var k=E!=null;break e;case"function":k=!0;break e;default:k=!1}k?this.v(E):this.h(E)}},u.prototype.v=function(E){var k=void 0;try{k=E.then}catch(x){this.g(x);return}typeof k=="function"?this.u(k,E):this.h(E)},u.prototype.g=function(E){this.i(2,E)},u.prototype.h=function(E){this.i(1,E)},u.prototype.i=function(E,k){if(this.b!=0)throw Error("Cannot settle("+E+", "+k+"): Promise already settled in state"+this.b);this.b=E,this.c=k,this.l()},u.prototype.l=function(){if(this.a!=null){for(var E=0;E<this.a.length;++E)_.b(this.a[E]);this.a=null}};var _=new f;return u.prototype.s=function(E){var k=this.f();E.Ra(k.resolve,k.reject)},u.prototype.u=function(E,k){var x=this.f();try{E.call(k,x.resolve,x.reject)}catch(F){x.reject(F)}},u.prototype.then=function(E,k){function x(Se,bt){return typeof Se=="function"?function(Di){try{F(Se(Di))}catch(f_){ie(f_)}}:bt}var F,ie,Ne=new u(function(Se,bt){F=Se,ie=bt});return this.Ra(x(E,F),x(k,ie)),Ne},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.Ra=function(E,k){function x(){switch(F.b){case 1:E(F.c);break;case 2:k(F.c);break;default:throw Error("Unexpected state: "+F.b)}}var F=this;this.a==null?_.b(x):this.a.push(x)},u.resolve=d,u.reject=function(E){return new u(function(k,x){x(E)})},u.race=function(E){return new u(function(k,x){for(var F=a(E),ie=F.next();!ie.done;ie=F.next())d(ie.value).Ra(k,x)})},u.all=function(E){var k=a(E),x=k.next();return x.done?d([]):new u(function(F,ie){function Ne(Di){return function(f_){Se[Di]=f_,bt--,bt==0&&F(Se)}}var Se=[],bt=0;do Se.push(void 0),bt++,d(x.value).Ra(Ne(Se.length-1),ie),x=k.next();while(!x.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function w(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function I(o){return y(o)=="function"}function C(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function T(o){return Object.prototype.hasOwnProperty.call(o,S)&&o[S]||(o[S]=++b)}var S="closure_uid_"+(1e9*Math.random()>>>0),b=0;function P(o,u,f){return o.call.apply(o.bind,arguments)}function L(o,u,f){if(!o)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),o.apply(u,g)}}return function(){return o.apply(u,arguments)}}function O(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=P:O=L,O.apply(null,arguments)}function B(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var d=f.slice();return d.push.apply(d,arguments),o.apply(this,d)}}function M(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function ue(o){return o}function R(o,u,f){this.code=Ar+o,this.message=u||cs[o]||"",this.a=f||null}M(R,Error),R.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},R.prototype.toJSON=function(){return this.w()};function Mt(o){var u=o&&o.code;return u?new R(u.substring(Ar.length),o.message,o.serverResponse):null}var Ar="auth/",cs={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ba={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function fs(o){for(var u in Ba)if(Ba[u].id===o)return o=Ba[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var Ci;Ci=fs("__EID__")?"__EID__":void 0;function $a(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function z(o){if(Error.captureStackTrace)Error.captureStackTrace(this,z);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}M(z,Error),z.prototype.name="CustomError";function oe(o,u){o=o.split("%s");for(var f="",d=o.length-1,g=0;g<d;g++)f+=o[g]+(g<u.length?u[g]:"%s");z.call(this,f+o[d])}M(oe,z),oe.prototype.name="AssertionError";function se(o,u){throw new oe("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function Ue(o,u){this.c=o,this.f=u,this.b=0,this.a=null}Ue.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function rt(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function hs(){this.b=this.a=null}var ei=new Ue(function(){return new Nr},function(o){o.reset()});hs.prototype.add=function(o,u){var f=ei.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function Kl(){var o=h1,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function Nr(){this.next=this.b=this.a=null}Nr.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},Nr.prototype.reset=function(){this.next=this.b=this.a=null};var ds=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Ke=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var d=o.length,g=typeof o=="string"?o.split(""):o,_=0;_<d;_++)_ in g&&u.call(f,g[_],_,o)};function L4(o,u){for(var f=typeof o=="string"?o.split(""):o,d=o.length-1;0<=d;--d)d in f&&u.call(void 0,f[d],d,o)}var M4=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=[],g=0,_=typeof o=="string"?o.split(""):o,E=0;E<f;E++)if(E in _){var k=_[E];u.call(void 0,k,E,o)&&(d[g++]=k)}return d},Yh=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=Array(f),g=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in g&&(d[_]=u.call(void 0,g[_],_,o));return d},F4=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in d&&u.call(void 0,d[g],g,o))return!0;return!1};function U4(o){e:{for(var u=mj,f=o.length,d=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in d&&u.call(void 0,d[g],g,o)){u=g;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function Ai(o,u){return 0<=ds(o,u)}function Xh(o,u){u=ds(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function Rr(o,u){var f=0;L4(o,function(d,g){u.call(void 0,d,g,o)&&Array.prototype.splice.call(o,g,1).length==1&&f++})}function Mm(o){return Array.prototype.concat.apply([],arguments)}function ps(o){var u=o.length;if(0<u){for(var f=Array(u),d=0;d<u;d++)f[d]=o[d];return f}return[]}var Bb=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},j4=/&/g,V4=/</g,B4=/>/g,$4=/"/g,q4=/'/g,z4=/\x00/g,W4=/[\x00&<>"']/;function Le(o,u){return o.indexOf(u)!=-1}function Fm(o,u){return o<u?-1:o>u?1:0}var qa;e:{var $b=c.navigator;if($b){var qb=$b.userAgent;if(qb){qa=qb;break e}}qa=""}function gt(o){return Le(qa,o)}function zb(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function vs(o){for(var u in o)return!1;return!0}function so(o){var u={},f;for(f in o)u[f]=o[f];return u}var Wb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cn(o,u){for(var f,d,g=1;g<arguments.length;g++){d=arguments[g];for(f in d)o[f]=d[f];for(var _=0;_<Wb.length;_++)f=Wb[_],Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}}function Hb(o,u){e:{try{var f=o&&o.ownerDocument,d=f&&(f.defaultView||f.parentWindow);if(d=d||c,d.Element&&d.Location){var g=d;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!o||!(o instanceof g[u])&&(o instanceof g.Location||o instanceof g.Element))){if(C(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;se("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function ti(o,u){this.a=o===Jh&&u||"",this.b=Kb}ti.prototype.ta=!0,ti.prototype.sa=function(){return this.a},ti.prototype.toString=function(){return"Const{"+this.a+"}"};function Um(o){return o instanceof ti&&o.constructor===ti&&o.b===Kb?o.a:(se("expected object of type Const, got '"+o+"'"),"type_error:Const")}var Kb={},Jh={},Zh;function Gb(){if(Zh===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:ue,createScript:ue,createScriptURL:ue})}catch(f){c.console&&c.console.error(f.message)}Zh=o}else Zh=o}return Zh}function za(o,u){this.a=u===Yb?o:""}za.prototype.ta=!0,za.prototype.sa=function(){return this.a.toString()},za.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Qb(o){return o instanceof za&&o.constructor===za?o.a:(se("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function jm(o,u){var f=Um(o);if(!K4.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(H4,function(d,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[g],d instanceof ti?Um(d):encodeURIComponent(String(d))}),G4(o)}var H4=/%{(\w+)}/g,K4=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Yb={};function G4(o){var u=Gb();return o=u?u.createScriptURL(o):o,new za(o,Yb)}function An(o,u){this.a=u===Gl?o:""}An.prototype.ta=!0,An.prototype.sa=function(){return this.a.toString()},An.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function ed(o){return o instanceof An&&o.constructor===An?o.a:(se("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var Q4=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Y4=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Xb=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Jb(o){if(o instanceof An)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),Xb.test(o))o=new An(o,Gl);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(Y4);o=u&&Q4.test(u[1])?new An(o,Gl):null}return o}function Zb(o){return o instanceof An?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),Xb.test(o)||(o="about:invalid#zClosurez"),new An(o,Gl))}var Gl={},e1=new An("about:invalid#zClosurez",Gl);function Wa(o,u,f){this.a=f===t1?o:""}Wa.prototype.ta=!0,Wa.prototype.sa=function(){return this.a.toString()},Wa.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function X4(o){return o instanceof Wa&&o.constructor===Wa?o.a:(se("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var t1={};function J4(o,u){Hb(o,"HTMLScriptElement"),o.src=Qb(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=v(u.document):(p===null&&(p=v(c.document)),u=p),u&&o.setAttribute("nonce",u)}function n1(o,u,f,d){return o=o instanceof An?o:Zb(o),u=u||c,f=f instanceof ti?Um(f):f||"",u.open(ed(o),f,d,void 0)}function r1(o,u){for(var f=o.split("%s"),d="",g=Array.prototype.slice.call(arguments,1);g.length&&1<f.length;)d+=f.shift()+g.shift();return d+f.join("%s")}function Vm(o){return W4.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(j4,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(V4,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(B4,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace($4,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(q4,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(z4,"&#0;"))),o}function Bm(o){return Bm[" "](o),o}Bm[" "]=m;function Z4(o,u){var f=r3;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var e3=gt("Opera"),Pr=gt("Trident")||gt("MSIE"),i1=gt("Edge"),t3=i1||Pr,o1=gt("Gecko")&&!(Le(qa.toLowerCase(),"webkit")&&!gt("Edge"))&&!(gt("Trident")||gt("MSIE"))&&!gt("Edge"),n3=Le(qa.toLowerCase(),"webkit")&&!gt("Edge");function s1(){var o=c.document;return o?o.documentMode:void 0}var td;e:{var $m="",qm=function(){var o=qa;if(o1)return/rv:([^\);]+)(\)|;)/.exec(o);if(i1)return/Edge\/([\d\.]+)/.exec(o);if(Pr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(n3)return/WebKit\/(\S+)/.exec(o);if(e3)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(qm&&($m=qm?qm[1]:""),Pr){var zm=s1();if(zm!=null&&zm>parseFloat($m)){td=String(zm);break e}}td=$m}var r3={};function a1(o){return Z4(o,function(){for(var u=0,f=Bb(String(td)).split("."),d=Bb(String(o)).split("."),g=Math.max(f.length,d.length),_=0;u==0&&_<g;_++){var E=f[_]||"",k=d[_]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],E[0].length==0&&k[0].length==0)break;u=Fm(E[1].length==0?0:parseInt(E[1],10),k[1].length==0?0:parseInt(k[1],10))||Fm(E[2].length==0,k[2].length==0)||Fm(E[2],k[2]),E=E[3],k=k[3]}while(u==0)}return 0<=u})}var Wm;if(c.document&&Pr){var u1=s1();Wm=u1||parseInt(td,10)||void 0}else Wm=void 0;var ao=Wm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var i3=!Pr||9<=Number(ao);function Ql(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function l1(o,u){zb(u,function(f,d){f&&typeof f=="object"&&f.ta&&(f=f.sa()),d=="style"?o.style.cssText=f:d=="class"?o.className=f:d=="for"?o.htmlFor=f:c1.hasOwnProperty(d)?o.setAttribute(c1[d],f):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?o.setAttribute(d,f):o[d]=f})}var c1={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function o3(o,u,f){var d=arguments,g=document,_=String(d[0]),E=d[1];if(!i3&&E&&(E.name||E.type)){if(_=["<",_],E.name&&_.push(' name="',Vm(E.name),'"'),E.type){_.push(' type="',Vm(E.type),'"');var k={};Cn(k,E),delete k.type,E=k}_.push(">"),_=_.join("")}return _=nd(g,_),E&&(typeof E=="string"?_.className=E:Array.isArray(E)?_.className=E.join(" "):l1(_,E)),2<d.length&&s3(g,_,d),_}function s3(o,u,f){function d(k){k&&u.appendChild(typeof k=="string"?o.createTextNode(k):k)}for(var g=2;g<f.length;g++){var _=f[g];if(!w(_)||C(_)&&0<_.nodeType)d(_);else{e:{if(_&&typeof _.length=="number"){if(C(_)){var E=typeof _.item=="function"||typeof _.item=="string";break e}if(I(_)){E=typeof _.item=="function";break e}}E=!1}Ke(E?ps(_):_,d)}}}function nd(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function f1(o){c.setTimeout(function(){throw o},0)}var Hm;function a3(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!gt("Presto")&&(o=function(){var g=nd(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var _=g.contentWindow;g=_.document,g.open(),g.close();var E="callImmediate"+Math.random(),k=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;g=O(function(x){(k=="*"||x.origin==k)&&x.data==E&&this.port1.onmessage()},this),_.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(E,k)}}}),typeof o<"u"&&!gt("Trident")&&!gt("MSIE")){var u=new o,f={},d=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var g=f.Hb;f.Hb=null,g()}},function(g){d.next={Hb:g},d=d.next,u.port2.postMessage(0)}}return function(g){c.setTimeout(g,0)}}function rd(o,u){id||u3(),Km||(id(),Km=!0),h1.add(o,u)}var id;function u3(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);id=function(){o.then(d1)}}else id=function(){var u=d1;!I(c.setImmediate)||c.Window&&c.Window.prototype&&!gt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(Hm||(Hm=a3()),Hm(u)):c.setImmediate(u)}}var Km=!1,h1=new hs;function d1(){for(var o;o=Kl();){try{o.a.call(o.b)}catch(u){f1(u)}rt(ei,o)}Km=!1}function me(o,u){if(this.a=gs,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(d){ms(f,Yl,d)},function(d){if(!(d instanceof Ha))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}ms(f,Ni,d)})}catch(d){ms(this,Ni,d)}}var gs=0,Yl=2,Ni=3;function p1(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}p1.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var v1=new Ue(function(){return new p1},function(o){o.reset()});function Gm(o,u,f){var d=v1.get();return d.g=o,d.b=u,d.f=f,d}function ee(o){if(o instanceof me)return o;var u=new me(m);return ms(u,Yl,o),u}function $e(o){return new me(function(u,f){f(o)})}function g1(o,u,f){w1(o,u,f,null)||rd(B(u,o))}function l3(o){return new me(function(u,f){var d=o.length,g=[];if(d)for(var _=function(F,ie){d--,g[F]=ie,d==0&&u(g)},E=function(F){f(F)},k=0,x;k<o.length;k++)x=o[k],g1(x,B(_,k),E);else u(g)})}function m1(o){return new me(function(u){var f=o.length,d=[];if(f)for(var g=function(k,x,F){f--,d[k]=x?{Qb:!0,value:F}:{Qb:!1,reason:F},f==0&&u(d)},_=0,E;_<o.length;_++)E=o[_],g1(E,B(g,_,!0),B(g,_,!1));else u(d)})}me.prototype.then=function(o,u,f){return _1(this,I(o)?o:null,I(u)?u:null,f)},me.prototype.$goog_Thenable=!0,e=me.prototype,e.oa=function(o,u){return o=Gm(o,o,u),o.c=!0,Qm(this,o),this},e.o=function(o,u){return _1(this,null,o,u)},e.cancel=function(o){if(this.a==gs){var u=new Ha(o);rd(function(){y1(this,u)},this)}};function y1(o,u){if(o.a==gs)if(o.c){var f=o.c;if(f.b){for(var d=0,g=null,_=null,E=f.b;E&&(E.c||(d++,E.a==o&&(g=E),!(g&&1<d)));E=E.next)g||(_=E);g&&(f.a==gs&&d==1?y1(f,u):(_?(d=_,d.next==f.f&&(f.f=d),d.next=d.next.next):T1(f),I1(f,g,Ni,u)))}o.c=null}else ms(o,Ni,u)}function Qm(o,u){o.b||o.a!=Yl&&o.a!=Ni||E1(o),o.f?o.f.next=u:o.b=u,o.f=u}function _1(o,u,f,d){var g=Gm(null,null,null);return g.a=new me(function(_,E){g.g=u?function(k){try{var x=u.call(d,k);_(x)}catch(F){E(F)}}:_,g.b=f?function(k){try{var x=f.call(d,k);x===void 0&&k instanceof Ha?E(k):_(x)}catch(F){E(F)}}:E}),g.a.c=o,Qm(o,g),g.a}e.$c=function(o){this.a=gs,ms(this,Yl,o)},e.ad=function(o){this.a=gs,ms(this,Ni,o)};function ms(o,u,f){o.a==gs&&(o===f&&(u=Ni,f=new TypeError("Promise cannot resolve to itself")),o.a=1,w1(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,E1(o),u!=Ni||f instanceof Ha||f3(o,f)))}function w1(o,u,f,d){if(o instanceof me)return Qm(o,Gm(u||m,f||null,d)),!0;if($a(o))return o.then(u,f,d),!0;if(C(o))try{var g=o.then;if(I(g))return c3(o,g,u,f,d),!0}catch(_){return f.call(d,_),!0}return!1}function c3(o,u,f,d,g){function _(x){k||(k=!0,d.call(g,x))}function E(x){k||(k=!0,f.call(g,x))}var k=!1;try{u.call(o,E,_)}catch(x){_(x)}}function E1(o){o.h||(o.h=!0,rd(o.gc,o))}function T1(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=T1(this);)I1(this,o,this.a,this.i);this.h=!1};function I1(o,u,f,d){if(f==Ni&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,S1(u,f,d);else try{u.c?u.g.call(u.f):S1(u,f,d)}catch(g){b1.call(null,g)}rt(v1,u)}function S1(o,u,f){u==Yl?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function f3(o,u){o.g=!0,rd(function(){o.g&&b1.call(null,u)})}var b1=f1;function Ha(o){z.call(this,o)}M(Ha,z),Ha.prototype.name="cancel";function od(){this.ya=this.ya,this.pa=this.pa}var h3=0;od.prototype.ya=!1;function k1(o){!o.ya&&(o.ya=!0,o.Da(),h3!=0)&&T(o)}od.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var d3=Object.freeze||function(o){return o},C1=!Pr||9<=Number(ao),p3=Pr&&!a1("9"),v3=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch{}return o}();function Nn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Nn.prototype.preventDefault=function(){this.defaultPrevented=!0};function ys(o,u){if(Nn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(o1){e:{try{Bm(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:g3[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}M(ys,Nn);var g3=d3({2:"touch",3:"pen",4:"mouse"});ys.prototype.preventDefault=function(){ys.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,p3)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},ys.prototype.g=function(){return this.a};var Xl="closure_listenable_"+(1e6*Math.random()|0),m3=0;function y3(o,u,f,d,g){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!d,this.Wa=g,this.key=++m3,this.wa=this.Qa=!1}function sd(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function ad(o){this.src=o,this.a={},this.b=0}ad.prototype.add=function(o,u,f,d,g){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var E=Xm(o,u,d,g);return-1<E?(u=o[E],f||(u.Qa=!1)):(u=new y3(u,this.src,_,!!d,g),u.Qa=f,o.push(u)),u};function Ym(o,u){var f=u.type;f in o.a&&Xh(o.a[f],u)&&(sd(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function Xm(o,u,f,d){for(var g=0;g<o.length;++g){var _=o[g];if(!_.wa&&_.listener==u&&_.capture==!!f&&_.Wa==d)return g}return-1}var Jm="closure_lm_"+(1e6*Math.random()|0),Zm={};function ar(o,u,f,d,g){if(d&&d.once)ey(o,u,f,d,g);else if(Array.isArray(u))for(var _=0;_<u.length;_++)ar(o,u[_],f,d,g);else f=ny(f),o&&o[Xl]?D1(o,u,f,C(d)?!!d.capture:!!d,g):A1(o,u,f,!1,d,g)}function A1(o,u,f,d,g,_){if(!u)throw Error("Invalid event type");var E=C(g)?!!g.capture:!!g,k=ud(o);if(k||(o[Jm]=k=new ad(o)),f=k.add(u,f,d,E,_),!f.proxy)if(d=_3(),f.proxy=d,d.src=o,d.listener=f,o.addEventListener)v3||(g=E),g===void 0&&(g=!1),o.addEventListener(u.toString(),d,g);else if(o.attachEvent)o.attachEvent(R1(u.toString()),d);else if(o.addListener&&o.removeListener)o.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function _3(){var o=w3,u=C1?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function ey(o,u,f,d,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)ey(o,u[_],f,d,g);else f=ny(f),o&&o[Xl]?ry(o,u,f,C(d)?!!d.capture:!!d,g):A1(o,u,f,!0,d,g)}function qn(o,u,f,d,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)qn(o,u[_],f,d,g);else d=C(d)?!!d.capture:!!d,f=ny(f),o&&o[Xl]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=Xm(_,f,d,g),-1<f&&(sd(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=ud(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Xm(u,f,d,g)),(f=-1<o?u[o]:null)&&N1(f))}function N1(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[Xl])Ym(u.v,o);else{var f=o.type,d=o.proxy;u.removeEventListener?u.removeEventListener(f,d,o.capture):u.detachEvent?u.detachEvent(R1(f),d):u.addListener&&u.removeListener&&u.removeListener(d),(f=ud(u))?(Ym(f,o),f.b==0&&(f.src=null,u[Jm]=null)):sd(o)}}}function R1(o){return o in Zm?Zm[o]:Zm[o]="on"+o}function P1(o,u,f,d){var g=!0;if((o=ud(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.wa&&(_=O1(_,d),g=g&&_!==!1)}return g}function O1(o,u){var f=o.listener,d=o.Wa||o.src;return o.Qa&&N1(o),f.call(d,u)}function w3(o,u){if(o.wa)return!0;if(!C1){if(!u)e:{u=["window","event"];for(var f=c,d=0;d<u.length;d++)if(f=f[u[d]],f==null){u=null;break e}u=f}if(d=u,u=new ys(d,this),f=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var g=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{g=!0}(g||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],g=u.b;g;g=g.parentNode)d.push(g);for(o=o.type,g=d.length-1;0<=g;g--){u.b=d[g];var _=P1(d[g],o,!0,u);f=f&&_}for(g=0;g<d.length;g++)u.b=d[g],_=P1(d[g],o,!1,u),f=f&&_}return f}return O1(o,new ys(u,this))}function ud(o){return o=o[Jm],o instanceof ad?o:null}var ty="__closure_events_fn_"+(1e9*Math.random()>>>0);function ny(o){return I(o)?o:(o[ty]||(o[ty]=function(u){return o.handleEvent(u)}),o[ty])}function fn(){od.call(this),this.v=new ad(this),this.bc=this,this.hb=null}M(fn,od),fn.prototype[Xl]=!0,fn.prototype.addEventListener=function(o,u,f,d){ar(this,o,u,f,d)},fn.prototype.removeEventListener=function(o,u,f,d){qn(this,o,u,f,d)},fn.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var d=o.type||o;if(typeof o=="string")o=new Nn(o,f);else if(o instanceof Nn)o.target=o.target||f;else{var g=o;o=new Nn(d,f),Cn(o,g)}if(g=!0,u)for(var _=u.length-1;0<=_;_--){var E=o.b=u[_];g=ld(E,d,!0,o)&&g}if(E=o.b=f,g=ld(E,d,!0,o)&&g,g=ld(E,d,!1,o)&&g,u)for(_=0;_<u.length;_++)E=o.b=u[_],g=ld(E,d,!1,o)&&g;return g},fn.prototype.Da=function(){if(fn.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],d=0;d<f.length;d++)sd(f[d]);delete o.a[u],o.b--}}this.hb=null};function D1(o,u,f,d,g){o.v.add(String(u),f,!1,d,g)}function ry(o,u,f,d,g){o.v.add(String(u),f,!0,d,g)}function ld(o,u,f,d){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,_=0;_<u.length;++_){var E=u[_];if(E&&!E.wa&&E.capture==f){var k=E.listener,x=E.Wa||E.src;E.Qa&&Ym(o.v,E),g=k.call(x,d)!==!1&&g}}return g&&!d.defaultPrevented}function iy(o,u,f){if(I(o))f&&(o=O(o,f));else if(o&&typeof o.handleEvent=="function")o=O(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function Ka(o){var u=null;return new me(function(f,d){u=iy(function(){f(void 0)},o),u==-1&&d(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function x1(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(w(o)){for(var u=[],f=o.length,d=0;d<f;d++)u.push(o[d]);return u}u=[],f=0;for(d in o)u[f++]=o[d];return u}function L1(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(w(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var d in o)u[f++]=d;return u}}function E3(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(w(o)||typeof o=="string")Ke(o,u,void 0);else for(var f=L1(o),d=x1(o),g=d.length,_=0;_<g;_++)u.call(void 0,d[_],f&&f[_],o)}function Ga(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var d=0;d<f;d+=2)this.set(arguments[d],arguments[d+1])}else if(o)if(o instanceof Ga)for(f=o.Y(),d=0;d<f.length;d++)this.set(f[d],o.get(f[d]));else for(d in o)this.set(d,o[d])}e=Ga.prototype,e.X=function(){oy(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return oy(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function oy(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var d=o.a[u];_s(o.b,d)&&(o.a[f++]=d),u++}o.a.length=f}if(o.c!=o.a.length){var g={};for(f=u=0;u<o.a.length;)d=o.a[u],_s(g,d)||(o.a[f++]=d,g[d]=1),u++;o.a.length=f}}e.get=function(o,u){return _s(this.b,o)?this.b[o]:u},e.set=function(o,u){_s(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),d=0;d<f.length;d++){var g=f[d],_=this.get(g);o.call(u,_,g,this)}};function _s(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var M1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function T3(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var d=o[f].indexOf("="),g=null;if(0<=d){var _=o[f].substring(0,d);g=o[f].substring(d+1)}else _=o[f];u(_,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function uo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof uo?(this.i=u!==void 0?u:o.i,Jl(this,o.c),this.l=o.l,this.a=o.a,Zl(this,o.g),this.f=o.f,sy(this,V1(o.b)),this.h=o.h):o&&(f=String(o).match(M1))?(this.i=!!u,Jl(this,f[1]||"",!0),this.l=ec(f[2]||""),this.a=ec(f[3]||"",!0),Zl(this,f[4]),this.f=ec(f[5]||"",!0),sy(this,f[6]||"",!0),this.h=ec(f[7]||"")):(this.i=!!u,this.b=new ws(null,this.i))}uo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(tc(u,F1,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(tc(u,F1,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(tc(f,f.charAt(0)=="/"?b3:S3,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",tc(f,C3)),o.join("")},uo.prototype.resolve=function(o){var u=new uo(this),f=!!o.c;f?Jl(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var d=o.f;if(f)Zl(u,o.g);else if(f=!!o.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var g=u.f.lastIndexOf("/");g!=-1&&(d=u.f.substr(0,g+1)+d)}if(g=d,g==".."||g==".")d="";else if(Le(g,"./")||Le(g,"/.")){d=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],E=0;E<g.length;){var k=g[E++];k=="."?d&&E==g.length&&_.push(""):k==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),d&&E==g.length&&_.push("")):(_.push(k),d=!0)}d=_.join("/")}else d=g}return f?u.f=d:f=o.b.toString()!=="",f?sy(u,V1(o.b)):f=!!o.h,f&&(u.h=o.h),u};function Jl(o,u,f){o.c=f?ec(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function Zl(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function sy(o,u,f){u instanceof ws?(o.b=u,A3(o.b,o.i)):(f||(u=tc(u,k3)),o.b=new ws(u,o.i))}function it(o,u,f){o.b.set(u,f)}function ur(o,u){return o.b.get(u)}function Rn(o){return o instanceof uo?new uo(o):new uo(o,void 0)}function cd(o,u,f,d){var g=new uo(null,void 0);return o&&Jl(g,o),u&&(g.a=u),f&&Zl(g,f),d&&(g.f=d),g}function ec(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function tc(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,I3),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function I3(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var F1=/[#\/\?@]/g,S3=/[#\?:]/g,b3=/[#\?]/g,k3=/[#\?@]/g,C3=/#/g;function ws(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function lo(o){o.a||(o.a=new Ga,o.b=0,o.c&&T3(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function U1(o){var u=L1(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new ws(null,void 0);o=x1(o);for(var d=0;d<u.length;d++){var g=u[d],_=o[d];Array.isArray(_)?j1(f,g,_):f.add(g,_)}return f}e=ws.prototype,e.add=function(o,u){lo(this),this.c=null,o=Qa(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function ni(o,u){lo(o),u=Qa(o,u),_s(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,_s(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&oy(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function ay(o,u){return lo(o),u=Qa(o,u),_s(o.a.b,u)}e.forEach=function(o,u){lo(this),this.a.forEach(function(f,d){Ke(f,function(g){o.call(u,g,d,this)},this)},this)},e.Y=function(){lo(this);for(var o=this.a.X(),u=this.a.Y(),f=[],d=0;d<u.length;d++)for(var g=o[d],_=0;_<g.length;_++)f.push(u[d]);return f},e.X=function(o){lo(this);var u=[];if(typeof o=="string")ay(this,o)&&(u=Mm(u,this.a.get(Qa(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=Mm(u,o[f])}return u},e.set=function(o,u){return lo(this),this.c=null,o=Qa(this,o),ay(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function j1(o,u,f){ni(o,u),0<f.length&&(o.c=null,o.a.set(Qa(o,u),ps(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var d=u[f],g=encodeURIComponent(String(d));d=this.X(d);for(var _=0;_<d.length;_++){var E=g;d[_]!==""&&(E+="="+encodeURIComponent(String(d[_]))),o.push(E)}}return this.c=o.join("&")};function V1(o){var u=new ws;return u.c=o.c,o.a&&(u.a=new Ga(o.a),u.b=o.b),u}function Qa(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function A3(o,u){u&&!o.f&&(lo(o),o.c=null,o.a.forEach(function(f,d){var g=d.toLowerCase();d!=g&&(ni(this,d),j1(this,g,f))},o)),o.f=u}function B1(o){var u=[];return uy(new N3,o,u),u.join("")}function N3(){}function uy(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,f.push("[");for(var g="",_=0;_<u;_++)f.push(g),uy(o,d[_],f),g=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),g="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(_=u[d],typeof _!="function"&&(f.push(g),q1(d,f),f.push(":"),uy(o,_,f),g=","));f.push("}");return}}switch(typeof u){case"string":q1(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var $1={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},R3=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function q1(o,u){u.push('"',o.replace(R3,function(f){var d=$1[f];return d||(d="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),$1[f]=d),d}),'"')}function ly(){var o=Ft();return Pr&&!!ao&&ao==11||/Edge\/\d+/.test(o)}function nc(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function z1(o,u){u=u||c.window;var f="about:blank";o&&(f=ed(Jb(o)||e1)),u.location.href=f}function W1(o,u){var f=[],d;for(d in o)d in u?typeof o[d]!=typeof u[d]?f.push(d):typeof o[d]=="object"&&o[d]!=null&&u[d]!=null?0<W1(o[d],u[d]).length&&f.push(d):o[d]!==u[d]&&f.push(d):f.push(d);for(d in u)d in o||f.push(d);return f}function P3(){var o=Ft();return o=Ya(o)!=Q1?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Pr||!ao||9<ao}function H1(o){return o=(o||Ft()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Es(o){o=o||c.window;try{o.close()}catch{}}function K1(o,u,f){var d=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var g=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<g?g:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=Ft().toLowerCase(),d&&(u.target=d,Le(f,"crios/")&&(u.target="_blank")),Ya(Ft())==hy&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),d=window,u=f instanceof An?f:Jb(typeof f.href<"u"?f.href:String(f))||e1,f=o.target||f.target,g=[];for(E in o)switch(E){case"width":case"height":case"top":case"left":g.push(E+"="+o[E]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(E+"="+(o[E]?1:0))}var E=g.join(",");if((gt("iPhone")&&!gt("iPod")&&!gt("iPad")||gt("iPad")||gt("iPod"))&&d.navigator&&d.navigator.standalone&&f&&f!="_self"?(E=nd(document,"A"),Hb(E,"HTMLAnchorElement"),u=u instanceof An?u:Zb(u),E.href=ed(u),E.setAttribute("target",f),o.noreferrer&&E.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,d,1),E.dispatchEvent(o),E={}):o.noreferrer?(E=n1("",d,f,E),o=ed(u),E&&(t3&&Le(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),E.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vm(o)+'">',o=(d=Gb())?d.createHTML(o):o,o=new Wa(o,null,t1),d=E.document)&&(d.write(X4(o)),d.close())):(E=n1(u,d,f,E))&&o.noopener&&(E.opener=null),E)try{E.focus()}catch{}return E}function O3(o){return new me(function(u){function f(){Ka(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var D3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x3=/^[^@]+@[^@]+$/;function fd(){var o=null;return new me(function(u){c.document.readyState=="complete"?u():(o=function(){u()},ey(window,"load",o))}).o(function(u){throw qn(window,"load",o),u})}function L3(){return cy(void 0)?fd().then(function(){return new me(function(o,u){var f=c.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(d),o()},!1)})}):$e(Error("Cordova must run in an Android or iOS file scheme."))}function cy(o){return o=o||Ft(),!(Ja()!=="file:"&&Ja()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function fy(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function Or(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function ri(){return X.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":X.INTERNAL.hasOwnProperty("node")?"Node":Or()?"Worker":"Browser"}function G1(){var o=ri();return o==="ReactNative"||o==="Node"}function M3(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var hy="Firefox",Q1="Chrome";function Ya(o){var u=o.toLowerCase();if(Le(u,"opera/")||Le(u,"opr/")||Le(u,"opios/"))return"Opera";if(Le(u,"iemobile"))return"IEMobile";if(Le(u,"msie")||Le(u,"trident/"))return"IE";if(Le(u,"edge/"))return"Edge";if(Le(u,"firefox/"))return hy;if(Le(u,"silk/"))return"Silk";if(Le(u,"blackberry"))return"Blackberry";if(Le(u,"webos"))return"Webos";if(!Le(u,"safari/")||Le(u,"chrome/")||Le(u,"crios/")||Le(u,"android"))if(!Le(u,"chrome/")&&!Le(u,"crios/")||Le(u,"edge/")){if(Le(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return Q1;else return"Safari";return"Other"}var Y1={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Xa(o,u){u=u||[];var f=[],d={},g;for(g in Y1)d[Y1[g]]=!0;for(g=0;g<u.length;g++)typeof d[u[g]]<"u"&&(delete d[u[g]],f.push(u[g]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=ri(),f==="Browser"?(d=Ft(),f=Ya(d)):f==="Worker"&&(d=Ft(),f=Ya(d)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function Ft(){return c.navigator&&c.navigator.userAgent||""}function qe(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function dy(){try{var o=c.localStorage,u=Is();if(o)return o.setItem(u,"1"),o.removeItem(u),ly()?!!c.indexedDB:!0}catch{return Or()&&!!c.indexedDB}return!1}function Ts(){return(hd()||Ja()==="chrome-extension:"||cy())&&!G1()&&dy()&&!Or()}function hd(){return Ja()==="http:"||Ja()==="https:"}function Ja(){return c.location&&c.location.protocol||null}function rc(o){return o=o||Ft(),!(H1(o)||Ya(o)==hy)}function ic(o){return typeof o>"u"?null:B1(o)}function X1(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function Za(o){if(o!==null)return JSON.parse(o)}function Is(o){return o||Math.floor(1e9*Math.random()).toString()}function J1(o){return o=o||Ft(),!(Ya(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function Z1(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function co(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=Ft(),u=ri(),this.b=H1(o)||u==="ReactNative"}co.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(hd()||Ja()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function py(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function F3(){var o=c.document,u=null;return py()||!o?ee():new me(function(f){u=function(){py()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function oc(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function ek(){return!(!qe("fireauth.oauthhelper",c)&&!qe("fireauth.iframe",c))}function U3(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function j3(){var o=c.navigator;return o&&o.serviceWorker?ee().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ee(null)}var tk={};function vy(o){tk[o]||(tk[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var gy;try{var my={};Object.defineProperty(my,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(my,"abcd",{configurable:!0,enumerable:!0,value:2}),gy=my.abcd==2}catch{gy=!1}function Y(o,u,f){gy?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function hn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&Y(o,f,u[f])}function ii(o){var u={};return hn(u,o),u}function V3(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function B3(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var d=o[u[f]];if(d==null||d==="")return!1}return!0}function yy(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)Y(u,f,yy(o[f]))}return u}function _y(o){var u=o&&(o[Iy]?"phone":null);if(u&&o&&o[Ty]){Y(this,"uid",o[Ty]),Y(this,"displayName",o[nk]||null);var f=null;o[Ey]&&(f=new Date(o[Ey]).toUTCString()),Y(this,"enrollmentTime",f),Y(this,"factorId",u)}else throw new R("internal-error","Internal assert: invalid MultiFactorInfo object")}_y.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function wy(o){try{var u=new sc(o)}catch{u=null}return u}var nk="displayName",Ey="enrolledAt",Ty="mfaEnrollmentId",Iy="phoneInfo";function sc(o){_y.call(this,o),Y(this,"phoneNumber",o[Iy])}M(sc,_y),sc.prototype.w=function(){var o=sc.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function $3(o){var u={},f=o[q3],d=o[W3],g=o[H3];if(o=wy(o[z3]),!g||g!=dd&&g!=ac&&!f||g==ac&&!d||g==Sy&&!o)throw Error("Invalid checkActionCode response!");g==ac?(u[ik]=f||null,u[ok]=f||null,u[rk]=d):(u[ik]=d||null,u[ok]=d||null,u[rk]=f||null),u[K3]=o||null,Y(this,Q3,g),Y(this,G3,yy(u))}var Sy="REVERT_SECOND_FACTOR_ADDITION",dd="EMAIL_SIGNIN",ac="VERIFY_AND_CHANGE_EMAIL",q3="email",z3="mfaInfo",W3="newEmail",H3="requestType",rk="email",ik="fromEmail",K3="multiFactorInfo",ok="previousEmail",G3="data",Q3="operation";function by(o){o=Rn(o);var u=ur(o,sk)||null,f=ur(o,ak)||null,d=ur(o,uk)||null;if(d=d&&Z3[d]||null,!u||!f||!d)throw new R("argument-error",sk+", "+ak+"and "+uk+" are required in a valid action code URL.");hn(this,{apiKey:u,operation:d,code:f,continueUrl:ur(o,Y3)||null,languageCode:ur(o,X3)||null,tenantId:ur(o,J3)||null})}var sk="apiKey",ak="oobCode",Y3="continueUrl",X3="languageCode",uk="mode",J3="tenantId",Z3={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Sy,signIn:dd,verifyAndChangeEmail:ac,verifyEmail:"VERIFY_EMAIL"};function lk(o){try{return new by(o)}catch{return null}}function pd(o){var u=o[ej];if(typeof u>"u")throw new R("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new R("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[ck];if(f&&typeof f=="object"){u=f[vk];var d=f[dk];if(f=f[pk],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new R("argument-error",dk+" property must be a boolean when specified.");if(this.g=!!d,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new R("argument-error",pk+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new R("argument-error",vk+" property must be a non empty string when specified.");if(typeof d<"u"||typeof f<"u")throw new R("missing-android-pkg-name")}}else if(typeof f<"u")throw new R("argument-error",ck+" property must be a non null object when specified.");if(this.f=null,(u=o[hk])&&typeof u=="object"){if(u=u[gk],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new R("argument-error",gk+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new R("argument-error",hk+" property must be a non null object when specified.");if(u=o[ky],typeof u<"u"&&typeof u!="boolean")throw new R("argument-error",ky+" property must be a boolean when specified.");if(this.c=!!u,o=o[fk],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new R("argument-error",fk+" property must be a non empty string when specified.");this.i=o||null}var ck="android",fk="dynamicLinkDomain",ky="handleCodeInApp",hk="iOS",ej="url",dk="installApp",pk="minimumVersion",vk="packageName",gk="bundleId";function vd(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function tj(o){return Yh(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var uc=null;function nj(o){var u=[];return rj(o,function(f){u.push(f)}),u}function rj(o,u){function f(x){for(;d<o.length;){var F=o.charAt(d++),ie=uc[F];if(ie!=null)return ie;if(!/^[\s\xa0]*$/.test(F))throw Error("Unknown base64 encoding at char: "+F)}return x}ij();for(var d=0;;){var g=f(-1),_=f(0),E=f(64),k=f(64);if(k===64&&g===-1)break;u(g<<2|_>>4),E!=64&&(u(_<<4&240|E>>2),k!=64&&u(E<<6&192|k))}}function ij(){if(!uc){uc={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var d=o.concat(u[f].split("")),g=0;g<d.length;g++){var _=d[g];uc[_]===void 0&&(uc[_]=g)}}}function gd(o){var u=mk(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}gd.prototype.T=function(){return this.f},gd.prototype.l=function(){return this.c},gd.prototype.toString=function(){return this.h};function md(o){try{return new gd(o)}catch{return null}}function mk(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var d=nj(o);for(o=[],f=u=0;u<d.length;){var g=d[u++];if(128>g)o[f++]=String.fromCharCode(g);else if(191<g&&224>g){var _=d[u++];o[f++]=String.fromCharCode((g&31)<<6|_&63)}else if(239<g&&365>g){_=d[u++];var E=d[u++],k=d[u++],x=((g&7)<<18|(_&63)<<12|(E&63)<<6|k&63)-65536;o[f++]=String.fromCharCode(55296+(x>>10)),o[f++]=String.fromCharCode(56320+(x&1023))}else _=d[u++],E=d[u++],o[f++]=String.fromCharCode((g&15)<<12|(_&63)<<6|E&63)}return JSON.parse(o.join(""))}catch{}return null}var yk="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),yd=["client_id","response_type","scope","redirect_uri","state"],Cy={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:yd},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:yd},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:yd},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:yk},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ay(o){for(var u in Cy)if(Cy[u].fa==o)return Cy[u];return null}function _k(o){var u={};u["facebook.com"]=Ek,u["google.com"]=Ik,u["github.com"]=Tk,u["twitter.com"]=Sk;var f=o&&o[wk];try{if(f)return u[f]?new u[f](o):new oi(o);if(typeof o[Ny]<"u")return new Ry(o)}catch{}return null}var Ny="idToken",wk="providerId";function Ry(o){var u=o[wk];if(!u&&o[Ny]){var f=md(o[Ny]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),Y(this,"providerId",u),Y(this,"isNewUser",f)}function oi(o){Ry.call(this,o),o=Za(o.rawUserInfo||"{}"),Y(this,"profile",yy(o||{}))}M(oi,Ry);function Ek(o){if(oi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}M(Ek,oi);function Tk(o){if(oi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");Y(this,"username",this.profile&&this.profile.login||null)}M(Tk,oi);function Ik(o){if(oi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}M(Ik,oi);function Sk(o){if(oi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Y(this,"username",o.screenName||null)}M(Sk,oi);function bk(o){var u=Rn(o),f=ur(u,"link"),d=ur(Rn(f),"link");return u=ur(u,"deep_link_id"),ur(Rn(u),"link")||u||d||f||o}function _d(o,u){if(!o&&!u)throw new R("internal-error","Internal assert: no raw session string available");if(o&&u)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?lc:wd}var lc="enroll",wd="signin";_d.prototype.Ha=function(){return this.a?ee(this.a):ee(this.b)},_d.prototype.w=function(){return this.type==lc?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function eu(){}eu.prototype.ka=function(){},eu.prototype.b=function(){},eu.prototype.c=function(){},eu.prototype.w=function(){};function tu(o,u){return o.then(function(f){if(f[Lr]){var d=md(f[Lr]);if(!d||u!=d.i)throw new R("user-mismatch");return f}throw new R("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==Ar+"user-not-found"?new R("user-mismatch"):f})}function Ss(o,u){if(u)this.a=u;else throw new R("internal-error","failed to construct a credential");Y(this,"providerId",o),Y(this,"signInMethod",o)}Ss.prototype.ka=function(o){return e0(o,Py(this))},Ss.prototype.b=function(o,u){var f=Py(this);return f.idToken=u,t0(o,f)},Ss.prototype.c=function(o,u){return tu(n0(o,Py(this)),u)};function Py(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Ss.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function oj(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Ss(o.providerId,o.pendingToken)}catch{}return null}function Ri(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&Y(this,"idToken",u.idToken),u.accessToken&&Y(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&Y(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)Y(this,"accessToken",u.oauthToken),Y(this,"secret",u.oauthTokenSecret);else throw new R("internal-error","failed to construct a credential");Y(this,"providerId",o),Y(this,"signInMethod",f)}Ri.prototype.ka=function(o){return e0(o,Oy(this))},Ri.prototype.b=function(o,u){var f=Oy(this);return f.idToken=u,t0(o,f)},Ri.prototype.c=function(o,u){var f=Oy(this);return tu(n0(o,f),u)};function Oy(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:U1(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Ri.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function sj(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Ri(o.providerId,u,o.signInMethod)}catch{}}return null}function bs(o,u){this.Qc=u||[],hn(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(Ay(o)||{}).Ja||null,this.pb=null}bs.prototype.Ka=function(o){return this.Jb=so(o),this};function kk(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');bs.call(this,o,[])}M(kk,bs);function zn(o){bs.call(this,o,yd),this.a=[]}M(zn,bs),zn.prototype.Ca=function(o){return Ai(this.a,o)||this.a.push(o),this},zn.prototype.Rb=function(){return ps(this.a)},zn.prototype.credential=function(o,u){var f;if(C(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ri(this.providerId,f,this.providerId)};function ks(){zn.call(this,"facebook.com")}M(ks,zn),Y(ks,"PROVIDER_ID","facebook.com"),Y(ks,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Ck(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return C(o)&&(u=o.accessToken),new ks().credential({accessToken:u})}function Cs(){zn.call(this,"github.com")}M(Cs,zn),Y(Cs,"PROVIDER_ID","github.com"),Y(Cs,"GITHUB_SIGN_IN_METHOD","github.com");function Ak(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return C(o)&&(u=o.accessToken),new Cs().credential({accessToken:u})}function As(){zn.call(this,"google.com"),this.Ca("profile")}M(As,zn),Y(As,"PROVIDER_ID","google.com"),Y(As,"GOOGLE_SIGN_IN_METHOD","google.com");function Nk(o,u){var f=o;return C(o)&&(f=o.idToken,u=o.accessToken),new As().credential({idToken:f,accessToken:u})}function nu(){bs.call(this,"twitter.com",yk)}M(nu,bs),Y(nu,"PROVIDER_ID","twitter.com"),Y(nu,"TWITTER_SIGN_IN_METHOD","twitter.com");function Rk(o,u){var f=o;if(C(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ri("twitter.com",f,"twitter.com")}function fo(o,u,f){this.a=o,this.f=u,Y(this,"providerId","password"),Y(this,"signInMethod",f===lr.EMAIL_LINK_SIGN_IN_METHOD?lr.EMAIL_LINK_SIGN_IN_METHOD:lr.EMAIL_PASSWORD_SIGN_IN_METHOD)}fo.prototype.ka=function(o){return this.signInMethod==lr.EMAIL_LINK_SIGN_IN_METHOD?ye(o,zj,{email:this.a,oobCode:this.f}):ye(o,iC,{email:this.a,password:this.f})},fo.prototype.b=function(o,u){return this.signInMethod==lr.EMAIL_LINK_SIGN_IN_METHOD?ye(o,Wj,{idToken:u,email:this.a,oobCode:this.f}):ye(o,rC,{idToken:u,email:this.a,password:this.f})},fo.prototype.c=function(o,u){return tu(this.ka(o),u)},fo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function aj(o){return o&&o.email&&o.password?new fo(o.email,o.password,o.signInMethod):null}function lr(){hn(this,{providerId:"password",isOAuthProvider:!1})}function Pk(o,u){if(u=Dy(u),!u)throw new R("argument-error","Invalid email link!");return new fo(o,u.code,lr.EMAIL_LINK_SIGN_IN_METHOD)}function Dy(o){return o=bk(o),(o=lk(o))&&o.operation===dd?o:null}hn(lr,{PROVIDER_ID:"password"}),hn(lr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),hn(lr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ho(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new R("internal-error");this.a=o,Y(this,"providerId","phone"),this.fa="phone",Y(this,"signInMethod","phone")}ho.prototype.ka=function(o){return o.gb(cc(this))},ho.prototype.b=function(o,u){var f=cc(this);return f.idToken=u,ye(o,fV,f)},ho.prototype.c=function(o,u){var f=cc(this);return f.operation="REAUTH",o=ye(o,hV,f),tu(o,u)},ho.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function uj(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Ke(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new ho(u)}return null}function cc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function Pi(o){try{this.a=o||X.auth()}catch{throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}hn(this,{providerId:"phone",isOAuthProvider:!1})}Pi.prototype.gb=function(o,u){var f=this.a.a;return ee(u.verify()).then(function(d){if(typeof d!="string")throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=C(o)?o.session:null,_=C(o)?o.phoneNumber:o,E;return g&&g.type==lc?E=g.Ha().then(function(k){return Lj(f,{idToken:k,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:d}})}):g&&g.type==wd?E=g.Ha().then(function(k){return Mj(f,{mfaPendingCredential:k,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):E=xj(f,{phoneNumber:_,recaptchaToken:d}),E.then(function(k){return typeof u.reset=="function"&&u.reset(),k},function(k){throw typeof u.reset=="function"&&u.reset(),k});default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Ok(o,u){if(!o)throw new R("missing-verification-id");if(!u)throw new R("missing-verification-code");return new ho({fb:o,eb:u})}hn(Pi,{PROVIDER_ID:"phone"}),hn(Pi,{PHONE_SIGN_IN_METHOD:"phone"});function xy(o){if(o.temporaryProof&&o.phoneNumber)return new ho({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,d=o&&o.oauthTokenSecret,g=o&&o.nonce,_=o&&o.oauthIdToken,E=o&&o.pendingToken;try{switch(u){case"google.com":return Nk(_,f);case"facebook.com":return Ck(f);case"github.com":return Ak(f);case"twitter.com":return Rk(f,d);default:return f||d||_||E?E?u.indexOf("saml.")==0?new Ss(u,E):new Ri(u,{pendingToken:E,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new zn(u).credential({idToken:_,accessToken:f,rawNonce:g}):null}}catch{return null}}function Ly(o){if(!o.isOAuthProvider)throw new R("invalid-oauth-provider")}function Dr(o,u,f,d,g,_,E){if(this.c=o,this.b=u||null,this.g=f||null,this.f=d||null,this.i=_||null,this.h=E||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}else throw new R("invalid-auth-event")}Dr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Dr.prototype.T=function(){return this.h},Dr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Dk(o){return o=o||{},o.type?new Dr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&Mt(o.error),o.postBody,o.tenantId):null}function lj(){this.b=null,this.a=[]}var My=null;function cj(o){var u=My;u.a.push(o),u.b||(u.b=function(f){for(var d=0;d<u.a.length;d++)u.a[d](f)},o=qe("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function Fy(o){var u="unauthorized-domain",f=void 0,d=Rn(o);o=d.a,d=d.c,d=="chrome-extension"?f=r1("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):d=="http"||d=="https"?f=r1("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",R.call(this,u,f)}M(Fy,R);function fc(o,u,f){R.call(this,o,f),o=u||{},o.Kb&&Y(this,"email",o.Kb),o.ea&&Y(this,"phoneNumber",o.ea),o.credential&&Y(this,"credential",o.credential),o.$b&&Y(this,"tenantId",o.$b)}M(fc,R),fc.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Cn(o,u),o},fc.prototype.toJSON=function(){return this.w()};function Ed(o){if(o.code){var u=o.code||"";u.indexOf(Ar)==0&&(u=u.substring(Ar.length));var f={credential:xy(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new R(u,o.message||void 0);return new fc(u,f,o.message)}return null}function hc(){}hc.prototype.c=null;function xk(o){return o.c||(o.c=o.b())}var Uy;function Td(){}M(Td,hc),Td.prototype.a=function(){var o=Lk(this);return o?new ActiveXObject(o):new XMLHttpRequest},Td.prototype.b=function(){var o={};return Lk(this)&&(o[0]=!0,o[1]=!0),o};function Lk(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var d=u[f];try{return new ActiveXObject(d),o.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Uy=new Td;function Id(){}M(Id,hc),Id.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new Mk;throw Error("Unsupported browser")},Id.prototype.b=function(){return{}};function Mk(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=Mk.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,jy(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",jy(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,jy(this,1)};function jy(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Vy(o,u,f){this.reset(o,u,f,void 0,void 0)}Vy.prototype.a=null,Vy.prototype.reset=function(o,u,f,d,g){delete this.a};function By(o){this.f=o,this.b=this.c=this.a=null}function dc(o,u){this.name=o,this.value=u}dc.prototype.toString=function(){return this.name};var Fk=new dc("SEVERE",1e3),$y=new dc("WARNING",900),fj=new dc("CONFIG",700),hj=new dc("FINE",500);function Uk(o){return o.c?o.c:o.a?Uk(o.a):(se("Root logger has no level set."),null)}By.prototype.log=function(o,u,f){if(o.value>=Uk(this).value)for(I(u)&&(u=u()),o=new Vy(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var qy={},Sd=null;function zy(o){Sd||(Sd=new By(""),qy[""]=Sd,Sd.c=fj);var u;if(!(u=qy[o])){u=new By(o);var f=o.lastIndexOf("."),d=o.substr(f+1);f=zy(o.substr(0,f)),f.b||(f.b={}),f.b[d]=u,u.a=f,qy[o]=u}return u}function cr(o,u){o&&o.log(hj,u,void 0)}function bd(o){this.f=o}M(bd,hc),bd.prototype.a=function(){return new kd(this.f)},bd.prototype.b=function(o){return function(){return o}}({});function kd(o){fn.call(this),this.u=o,this.h=void 0,this.readyState=Wy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=zy("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}M(kd,fn);var Wy=0;e=kd.prototype,e.open=function(o,u){if(this.readyState!=Wy)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,vc(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,pc(this)),this.readyState=Wy},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,vc(this)),this.a&&(this.readyState=3,vc(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,jk(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function jk(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?pc(this):vc(this),this.readyState==3&&jk(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,pc(this))},e.sc=function(o){this.a&&(this.response=o,pc(this))},e.Va=function(o){var u=this.i;u&&u.log($y,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&pc(this)};function pc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,vc(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log($y,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log($y,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function vc(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(kd.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function gc(o){fn.call(this),this.headers=new Ga,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Vk,this.u=this.S=!1}M(gc,fn);var Vk="";gc.prototype.b=zy("goog.net.XhrIo");var dj=/^https?$/i,pj=["POST","PUT"];function vj(o,u,f,d,g){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Uy.a(),o.C=o.D?xk(o.D):xk(Uy),o.a.onreadystatechange=O(o.Wb,o);try{cr(o.b,Oi(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(E){cr(o.b,Oi(o,"Error opening Xhr: "+E.message)),Bk(o,E);return}u=d||"";var _=new Ga(o.headers);g&&E3(g,function(E,k){_.set(k,E)}),g=U4(_.Y()),d=c.FormData&&u instanceof c.FormData,!Ai(pj,f)||g||d||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(E,k){this.a.setRequestHeader(k,E)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{zk(o),0<o.g&&(o.u=gj(o.a),cr(o.b,Oi(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=O(o.Ma,o)):o.s=iy(o.Ma,o.g,o)),cr(o.b,Oi(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(E){cr(o.b,Oi(o,"Send error: "+E.message)),Bk(o,E)}}function gj(o){return Pr&&a1(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function mj(o){return o.toLowerCase()=="content-type"}e=gc.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",cr(this.b,Oi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Bk(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,$k(o),Cd(o)}function $k(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(cr(this.b,Oi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Cd(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Cd(this,!0)),gc.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?qk(this):this.Jc())},e.Jc=function(){qk(this)};function qk(o){if(o.c&&typeof l<"u"){if(o.C[1]&&mc(o)==4&&Ad(o)==2)cr(o.b,Oi(o,"Local request error detected and ignored"));else if(o.i&&mc(o)==4)iy(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),mc(o)==4){cr(o.b,Oi(o,"Request complete")),o.c=!1;try{var u=Ad(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var d;if(!(d=f)){var g;if(g=u===0){var _=String(o.l).match(M1)[1]||null;if(!_&&c.self&&c.self.location){var E=c.self.location.protocol;_=E.substr(0,E.length-1)}g=!dj.test(_?_.toLowerCase():"")}d=g}if(d)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var k=2<mc(o)?o.a.statusText:""}catch(x){cr(o.b,"Can not get status: "+x.message),k=""}o.h=k+" ["+Ad(o)+"]",$k(o)}}finally{Cd(o)}}}}function Cd(o,u){if(o.a){zk(o);var f=o.a,d=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=d}catch(g){(o=o.b)&&o.log(Fk,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function zk(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function mc(o){return o.a?o.a.readyState:0}function Ad(o){try{return 2<mc(o)?o.a.status:-1}catch{return-1}}function yj(o){try{return o.a?o.a.responseText:""}catch(u){return cr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Vk:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(Fk,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return cr(this.b,"Can not get response: "+u.message),null}};function Oi(o,u){return u+" ["+o.P+" "+o.l+" "+Ad(o)+"]"}function Ns(o){var u=Ej;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ns.prototype.cancel=function(o){if(this.a)this.c instanceof Ns&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new _c,Nd(this),yc(this,!1,o))}},Ns.prototype.m=function(o,u){this.i=!1,yc(this,o,u)};function yc(o,u,f){o.a=!0,o.c=f,o.f=!u,Hk(o)}function Nd(o){if(o.a){if(!o.v)throw new Rd;o.v=!1}}function _j(o,u){Hy(o,null,u,void 0)}function Hy(o,u,f,d){o.g.push([u,f,d]),o.a&&Hk(o)}Ns.prototype.then=function(o,u,f){var d,g,_=new me(function(E,k){d=E,g=k});return Hy(this,d,function(E){E instanceof _c?_.cancel():g(E)}),_.then(o,u,f)},Ns.prototype.$goog_Thenable=!0;function Wk(o){return F4(o.g,function(u){return I(u[1])})}function Hk(o){if(o.h&&o.a&&Wk(o)){var u=o.h,f=Pd[u];f&&(c.clearTimeout(f.a),delete Pd[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var d=f=!1;o.g.length&&!o.i;){var g=o.g.shift(),_=g[0],E=g[1];if(g=g[2],_=o.f?E:_)try{var k=_.call(g||o.s,u);k!==void 0&&(o.f=o.f&&(k==u||k instanceof Error),o.c=u=k),($a(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(d=!0,o.i=!0)}catch(x){u=x,o.f=!0,Wk(o)||(f=!0)}}o.c=u,d&&(k=O(o.m,o,!0),d=O(o.m,o,!1),u instanceof Ns?(Hy(u,k,d),u.C=!0):u.then(k,d)),f&&(u=new Kk(u),Pd[u.a]=u,o.h=u.a)}function Rd(){z.call(this)}M(Rd,z),Rd.prototype.message="Deferred has already fired",Rd.prototype.name="AlreadyCalledError";function _c(){z.call(this)}M(_c,z),_c.prototype.message="Deferred was canceled",_c.prototype.name="CanceledError";function Kk(o){this.a=c.setTimeout(O(this.c,this),0),this.b=o}Kk.prototype.c=function(){throw delete Pd[this.a],this.b};var Pd={};function Ky(o){var u={},f=u.document||document,d=Qb(o).toString(),g=nd(document,"SCRIPT"),_={Xb:g,Ma:void 0},E=new Ns(_),k=null,x=u.timeout!=null?u.timeout:5e3;return 0<x&&(k=window.setTimeout(function(){Od(g,!0);var F=new Gy(Ij,"Timeout reached for loading script "+d);Nd(E),yc(E,!1,F)},x),_.Ma=k),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(Od(g,u.xd||!1,k),Nd(E),yc(E,!0,null))},g.onerror=function(){Od(g,!0,k);var F=new Gy(Tj,"Error while loading script "+d);Nd(E),yc(E,!1,F)},_=u.attributes||{},Cn(_,{type:"text/javascript",charset:"UTF-8"}),l1(g,_),J4(g,o),wj(f).appendChild(g),E}function wj(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function Ej(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&Od(o,!0,this.Ma)}}function Od(o,u,f){f!=null&&c.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var Tj=0,Ij=1;function Gy(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),z.call(this,f),this.code=o}M(Gy,z);function Dd(o){this.f=o}M(Dd,hc),Dd.prototype.a=function(){return new this.f},Dd.prototype.b=function(){return{}};function xr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||Sj,this.g=so(o.secureTokenHeaders||bj),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||kj,this.a=so(o.firebaseHeaders||Cj),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=ri()=="Node",f=c.XMLHttpRequest||f&&X.INTERNAL.node&&X.INTERNAL.node.XMLHttpRequest,!f&&!Or())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Or()?this.f=new bd(self):G1()?this.f=new Dd(f):this.f=new Id,this.b=null}var Qy,Lr="idToken",Sj=new co(3e4,6e4),bj={"Content-Type":"application/x-www-form-urlencoded"},kj=new co(3e4,6e4),Cj={"Content-Type":"application/json"};function Gk(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function xd(o,u){u&&(o.l=Yy("https://securetoken.googleapis.com/v1/token",u),o.h=Yy("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Yy("https://identitytoolkit.googleapis.com/v2/",u))}function Yy(o,u){return o=Rn(o),u=Rn(u.url),o.f=o.a+o.f,Jl(o,u.c),o.a=u.a,Zl(o,u.g),o.toString()}function Qk(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}xr.prototype.T=function(){return this.b};function Yk(o,u,f,d,g,_,E){P3()||Or()?o=O(o.u,o):(Qy||(Qy=new me(function(k,x){Nj(k,x)})),o=O(o.s,o)),o(u,f,d,g,_,E)}xr.prototype.u=function(o,u,f,d,g,_){if(Or()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var E=new gc(this.f);if(_){E.g=Math.max(0,_);var k=setTimeout(function(){E.dispatchEvent("timeout")},_)}D1(E,"complete",function(){k&&clearTimeout(k);var x=null;try{x=JSON.parse(yj(this))||null}catch{x=null}u&&u(x)}),ry(E,"ready",function(){k&&clearTimeout(k),k1(this)}),ry(E,"timeout",function(){k&&clearTimeout(k),k1(this),u&&u(null)}),vj(E,o,f,d,g)};var Aj=new ti(Jh,"https://apis.google.com/js/client.js?onload=%{onload}"),Xk="__fcb"+Math.floor(1e6*Math.random()).toString();function Nj(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[Xk]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=jm(Aj,{onload:Xk});_j(Ky(f),function(){u(Error("CORS_UNSUPPORTED"))})}}xr.prototype.s=function(o,u,f,d,g){var _=this;Qy.then(function(){window.gapi.client.setApiKey(_.c);var E=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:d,headers:g,authType:"none",callback:function(k){window.gapi.auth.setToken(E),u&&u(k)}})}).o(function(E){u&&u({error:{message:E&&E.message||"CORS_UNSUPPORTED"}})})};function Rj(o,u){return new me(function(f,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?Yk(o,o.l+"?key="+encodeURIComponent(o.c),function(g){g?g.error?d(i0(g)):g.access_token&&g.refresh_token?f(g):d(new R("internal-error")):d(new R("network-request-failed"))},"POST",U1(u).toString(),o.g,o.m.get()):d(new R("internal-error"))})}function Jk(o,u,f,d,g,_,E){var k=Rn(u+f);it(k,"key",o.c),E&&it(k,"cb",Date.now().toString());var x=d=="GET";if(x)for(var F in g)g.hasOwnProperty(F)&&it(k,F,g[F]);return new me(function(ie,Ne){Yk(o,k.toString(),function(Se){Se?Se.error?Ne(i0(Se,_||{})):ie(Se):Ne(new R("network-request-failed"))},d,x?void 0:B1(X1(g)),o.a,o.v.get())})}function Rs(o){if(o=o.email,typeof o!="string"||!x3.test(o))throw new R("invalid-email")}function Zk(o){"email"in o&&Rs(o)}function Pj(o,u){return ye(o,Bj,{identifier:u,continueUri:hd()?nc():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function Oj(o){return ye(o,Zj,{}).then(function(u){return u.authorizedDomains||[]})}function Pn(o){if(!o[Lr])throw o.mfaPendingCredential?new R("multi-factor-auth-required",null,so(o)):new R("internal-error")}function Xy(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new R("internal-error")}else{if(!o.sessionInfo)throw new R("missing-verification-id");if(!o.code)throw new R("missing-verification-code")}}xr.prototype.Ab=function(){return ye(this,rV,{})},xr.prototype.Cb=function(o,u){return ye(this,nC,{idToken:o,email:u})},xr.prototype.Db=function(o,u){return ye(this,rC,{idToken:o,password:u})};var Dj={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=xr.prototype,e.Eb=function(o,u){var f={idToken:o},d=[];return zb(Dj,function(g,_){var E=u[_];E===null?d.push(g):_ in u&&(f[_]=E)}),d.length&&(f.deleteAttribute=d),ye(this,nC,f)},e.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Cn(o,u),ye(this,Jj,o)},e.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Cn(o,u),ye(this,Qj,o)},e.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Cn(o,u),ye(this,Yj,o)},e.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Cn(o,f),ye(this,Xj,o)};function xj(o,u){return ye(o,nV,u)}e.gb=function(o){return ye(this,cV,o)};function Lj(o,u){return ye(o,iV,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function eC(o){if(!o.phoneVerificationInfo)throw new R("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new R("missing-verification-code")}function Mj(o,u){return ye(o,oV,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function Fj(o,u,f){return ye(o,qj,{idToken:u,deleteProvider:f})}function Jy(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new R("internal-error")}function Zy(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new ws(o.postBody),ay(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function tC(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=Ed(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=Ed(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=Ed(o)):o.errorMessage&&(u=oC(o.errorMessage)),u)throw u;Pn(o)}function e0(o,u){return u.returnIdpCredential=!0,ye(o,sV,u)}function t0(o,u){return u.returnIdpCredential=!0,ye(o,uV,u)}function n0(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,ye(o,aV,u)}function r0(o){if(!o.oobCode)throw new R("invalid-action-code")}e.ob=function(o,u){return ye(this,tV,{oobCode:o,newPassword:u})},e.Sa=function(o){return ye(this,jj,{oobCode:o})},e.kb=function(o){return ye(this,Uj,{oobCode:o})};var Uj={endpoint:"setAccountInfo",A:r0,Z:"email",B:!0},jj={endpoint:"resetPassword",A:r0,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},B:!0},Vj={endpoint:"signupNewUser",A:function(o){if(Rs(o),!o.password)throw new R("weak-password")},G:Pn,V:!0,B:!0},Bj={endpoint:"createAuthUri",B:!0},$j={endpoint:"deleteAccount",O:["idToken"]},qj={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new R("internal-error")}},zj={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Rs,G:Pn,V:!0,B:!0},Wj={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Rs,G:Pn,V:!0},Hj={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:eC,G:Pn,B:!0,Na:!0},Kj={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:eC,G:Pn,B:!0,Na:!0},Gj={endpoint:"getAccountInfo"},Qj={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new R("internal-error");Rs(o)},Z:"email",B:!0},Yj={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new R("internal-error")},Z:"email",B:!0},Xj={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},Z:"email",B:!0},Jj={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new R("internal-error");Rs(o)},Z:"email",B:!0},Zj={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},eV={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new R("internal-error")}},tV={endpoint:"resetPassword",A:r0,Z:"email",B:!0},nV={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},nC={endpoint:"setAccountInfo",O:["idToken"],A:Zk,V:!0},rC={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(Zk(o),!o.password)throw new R("weak-password")},G:Pn,V:!0},rV={endpoint:"signupNewUser",G:Pn,V:!0,B:!0},iV={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new R("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},oV={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},sV={endpoint:"verifyAssertion",A:Jy,Za:Zy,G:tC,V:!0,B:!0},aV={endpoint:"verifyAssertion",A:Jy,Za:Zy,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new R("user-not-found");if(o.errorMessage)throw oC(o.errorMessage);Pn(o)},V:!0,B:!0},uV={endpoint:"verifyAssertion",A:function(o){if(Jy(o),!o.idToken)throw new R("internal-error")},Za:Zy,G:tC,V:!0},lV={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new R("invalid-custom-token")},G:Pn,V:!0,B:!0},iC={endpoint:"verifyPassword",A:function(o){if(Rs(o),!o.password)throw new R("wrong-password")},G:Pn,V:!0,B:!0},cV={endpoint:"verifyPhoneNumber",A:Xy,G:Pn,B:!0},fV={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new R("internal-error");Xy(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Ed(o);Pn(o)}},hV={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Xy,G:Pn,B:!0},dV={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Lr]^!!o.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function ye(o,u,f){if(!B3(f,u.O))return $e(new R("internal-error"));var d=!!u.Na,g=u.Vb||"POST",_;return ee(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),d?Jk(o,o.i,u.endpoint,g,f,u.Ib,u.mb||!1):Jk(o,o.h,u.endpoint,g,f,u.Ib,u.mb||!1)}).then(function(E){return _=E,u.Za?u.Za(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new R("internal-error");return _[u.Z]})}function oC(o){return i0({error:{errors:[{message:o}],code:400,message:o}})}function i0(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=d[f]?new R(d[f]):null)return f;f=o.error&&o.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Cn(d,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in d)if(f.indexOf(g)===0)return new R(d[g],u);return!u&&o&&(u=ic(o)),new R("internal-error",u)}function pV(o){this.b=o,this.a=null,this.sb=vV(this)}function vV(o){return EV().then(function(){return new me(function(u,f){qe("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:qe("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function g(){clearTimeout(_),u()}o.a=d,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},wV.get());d.ping(g).then(g,function(){f(Error("Network Error"))})})})})}function gV(o,u){return o.sb.then(function(){return new me(function(f){o.a.send(u.type,u,f,qe("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function mV(o,u){o.sb.then(function(){o.a.register("authEvent",u,qe("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var yV=new ti(Jh,"https://apis.google.com/js/api.js?onload=%{onload}"),_V=new co(3e4,6e4),wV=new co(5e3,15e3),Ld=null;function EV(){return Ld||(Ld=new me(function(o,u){function f(){Z1(),qe("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){Z1(),u(Error("Network Error"))},timeout:_V.get()})}if(qe("gapi.iframes.Iframe"))o();else if(qe("gapi.load"))f();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[d]=function(){qe("gapi.load")?f():u(Error("Network Error"))},d=jm(yV,{onload:d}),ee(Ky(d)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw Ld=null,o}))}function sC(o,u,f,d){this.l=o,this.h=u,this.i=f,this.g=d,this.f=null,this.g?(o=Rn(this.g.url),o=cd(o.c,o.a,o.g,"/emulator/auth/iframe")):o=cd("https",this.l,null,"/__/auth/iframe"),this.a=o,it(this.a,"apiKey",this.h),it(this.a,"appName",this.i),this.b=null,this.c=[]}sC.prototype.toString=function(){return this.f?it(this.a,"v",this.f):ni(this.a.b,"v"),this.b?it(this.a,"eid",this.b):ni(this.a.b,"eid"),this.c.length?it(this.a,"fw",this.c.join(",")):ni(this.a.b,"fw"),this.a.toString()};function o0(o,u,f,d,g,_){this.u=o,this.s=u,this.c=f,this.m=d,this.v=_,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}o0.prototype.zb=function(o){return this.h=o,this},o0.prototype.toString=function(){if(this.v){var o=Rn(this.v.url);o=cd(o.c,o.a,o.g,"/emulator/auth/handler")}else o=cd("https",this.u,null,"/__/auth/handler");if(it(o,"apiKey",this.s),it(o,"appName",this.c),it(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=X.app(this.c).auth().la()}catch{f=null}u.pb=f,it(o,"providerId",this.a.providerId),f=this.a,u=X1(f.Jb);for(var d in u)u[d]=u[d].toString();d=f.Qc,u=so(u);for(var g=0;g<d.length;g++){var _=d[g];_ in u&&delete u[_]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),vs(u)||it(o,"customParameters",ic(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&it(o,"scopes",f.join(","))),this.l?it(o,"redirectUrl",this.l):ni(o.b,"redirectUrl"),this.g?it(o,"eventId",this.g):ni(o.b,"eventId"),this.i?it(o,"v",this.i):ni(o.b,"v"),this.b)for(var E in this.b)this.b.hasOwnProperty(E)&&!ur(o,E)&&it(o,E,this.b[E]);return this.h?it(o,"tid",this.h):ni(o.b,"tid"),this.f?it(o,"eid",this.f):ni(o.b,"eid"),E=s0(this.c),E.length&&it(o,"fw",E.join(",")),o.toString()};function s0(o){try{return X.app(o).auth().Ga()}catch{return[]}}function aC(o,u,f,d,g,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=d||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function uC(o){var u=nc();return Oj(o).then(function(f){e:{var d=Rn(u),g=d.c;d=d.a;for(var _=0;_<f.length;_++){var E=f[_],k=d,x=g;if(E.indexOf("chrome-extension://")==0?k=Rn(E).a==k&&x=="chrome-extension":x!="http"&&x!="https"?k=!1:D3.test(E)?k=k==E:(E=E.split(".").join("\\."),k=new RegExp("^(.+\\."+E+"|"+E+")$","i").test(k)),k){f=!0;break e}}f=!1}if(!f)throw new Fy(nc())})}function lC(o){return o.m||(o.m=fd().then(function(){if(!o.u){var u=o.c,f=o.i,d=s0(o.b),g=new sC(o.s,o.g,o.b,o.f);g.f=u,g.b=f,g.c=ps(d||[]),o.u=g.toString()}o.v=new pV(o.u),TV(o)})),o.m}e=aC.prototype,e.Pb=function(o,u,f){var d=new R("popup-closed-by-user"),g=new R("web-storage-unsupported"),_=this,E=!1;return this.ma().then(function(){IV(_).then(function(k){k||(o&&Es(o),u(g),E=!0)})}).o(function(){}).then(function(){if(!E)return O3(o)}).then(function(){if(!E)return Ka(f).then(function(){u(d)})})},e.Yb=function(){var o=Ft();return!rc(o)&&!J1(o)},e.Ub=function(){return!1},e.Nb=function(o,u,f,d,g,_,E,k){if(!o)return $e(new R("popup-blocked"));if(E&&!rc())return this.ma().o(function(F){Es(o),g(F)}),d(),ee();this.a||(this.a=uC(cC(this)));var x=this;return this.a.then(function(){var F=x.ma().o(function(ie){throw Es(o),g(ie),ie});return d(),F}).then(function(){if(Ly(f),!E){var F=wc(x.s,x.g,x.b,u,f,null,_,x.c,void 0,x.i,k,x.f);z1(F,o)}}).o(function(F){throw F.code=="auth/network-request-failed"&&(x.a=null),F})};function cC(o){return o.l||(o.C=o.c?Xa(o.c,s0(o.b)):null,o.l=new xr(o.g,fs(o.i),o.C),o.f&&xd(o.l,o.f)),o.l}e.Ob=function(o,u,f,d){this.a||(this.a=uC(cC(this)));var g=this;return this.a.then(function(){Ly(u);var _=wc(g.s,g.g,g.b,o,u,nc(),f,g.c,void 0,g.i,d,g.f);z1(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(g.a=null),_})},e.ma=function(){var o=this;return lC(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new R("network-request-failed")})},e.ac=function(){return!0};function wc(o,u,f,d,g,_,E,k,x,F,ie,Ne){return o=new o0(o,u,f,d,g,Ne),o.l=_,o.g=E,o.i=k,o.b=so(x||null),o.f=F,o.zb(ie).toString()}function TV(o){if(!o.v)throw Error("IfcHandler must be initialized!");mV(o.v,function(u){var f={};if(u&&u.authEvent){var d=!1;for(u=Dk(u.authEvent),f=0;f<o.h.length;f++)d=o.h[f](u)||d;return f={},f.status=d?"ACK":"ERROR",ee(f)}return f.status="ERROR",ee(f)})}function IV(o){var u={type:"webStorageSupport"};return lC(o).then(function(){return gV(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){Rr(this.h,function(u){return u==o})};function fC(o){if(this.a=o||X.INTERNAL.reactNative&&X.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=fC.prototype,e.get=function(o){return ee(this.a.getItem(o)).then(function(u){return u&&Za(u)})},e.set=function(o,u){return ee(this.a.setItem(o,ic(u)))},e.U=function(o){return ee(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function hC(o){this.b=o,this.a={},this.f=O(this.c,this)}var dC=[];function SV(){var o=Or()?self:null;if(Ke(dC,function(f){f.b==o&&(u=f)}),!u){var u=new hC(o);dC.push(u)}return u}hC.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,d=this.a[u];if(d&&0<d.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var g=[];Ke(d,function(_){g.push(ee().then(function(){return _(o.origin,o.data.data)}))}),m1(g).then(function(_){var E=[];Ke(_,function(k){E.push({fulfilled:k.Qb,value:k.value,reason:k.reason?k.reason.message:void 0})}),Ke(E,function(k){for(var x in k)typeof k[x]>"u"&&delete k[x]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:E})})}};function pC(o,u,f){vs(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function vC(o){this.a=o}vC.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function gC(o){this.c=o,this.b=!1,this.a=[]}function mC(o,u,f,d){var g,_=f||{},E,k,x,F=null;if(o.b)return $e(Error("connection_unavailable"));var ie=d?800:50,Ne=typeof MessageChannel<"u"?new MessageChannel:null;return new me(function(Se,bt){Ne?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ne.port1.start(),k=setTimeout(function(){bt(Error("unsupported_event"))},ie),E=function(Di){Di.data.eventId===g&&(Di.data.status==="ack"?(clearTimeout(k),x=setTimeout(function(){bt(Error("timeout"))},3e3)):Di.data.status==="done"?(clearTimeout(x),typeof Di.data.response<"u"?Se(Di.data.response):bt(Error("unknown_error"))):(clearTimeout(k),clearTimeout(x),bt(Error("invalid_response"))))},F={messageChannel:Ne,onMessage:E},o.a.push(F),Ne.port1.addEventListener("message",E),o.c.postMessage({eventType:u,eventId:g,data:_},[Ne.port2])):bt(Error("connection_unavailable"))}).then(function(Se){return a0(o,F),Se}).o(function(Se){throw a0(o,F),Se})}function a0(o,u){if(u){var f=u.messageChannel,d=u.onMessage;f&&(f.port1.removeEventListener("message",d),f.port1.close()),Rr(o.a,function(g){return g==u})}}gC.prototype.close=function(){for(;0<this.a.length;)a0(this,this.a[0]);this.b=!0};function yC(){if(!c0())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Or()&&self?(this.v=SV(),pC(this.v,"keyChanged",function(u,f){return EC(o).then(function(d){return 0<d.length&&Ke(o.a,function(g){g(d)}),{keyProcessed:Ai(d,f.key)}})}),pC(this.v,"ping",function(){return ee(["keyChanged"])})):j3().then(function(u){(o.h=u)&&(o.g=new gC(new vC(u)),mC(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&Ai(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var u0;function bV(o){return new me(function(u,f){var d=o.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(g){f(Error(g.target.error))}})}function _C(o){return new me(function(u,f){var d=o.m.open("firebaseLocalStorageDb",1);d.onerror=function(g){try{g.preventDefault()}catch{}f(Error(g.target.error))},d.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},d.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):bV(o).then(function(){return _C(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function l0(o){return o.i||(o.i=_C(o)),o.i}function Md(o,u){function f(g,_){l0(o).then(u).then(g).o(function(E){if(3<++d)_(E);else return l0(o).then(function(k){return k.close(),o.i=void 0,f(g,_)}).o(function(k){_(k)})})}var d=0;return new me(f)}function c0(){try{return!!c.indexedDB}catch{return!1}}function Ec(o){return o.objectStore("firebaseLocalStorage")}function Tc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function ru(o){return new me(function(u,f){o.onsuccess=function(d){d&&d.target?u(d.target.result):u()},o.onerror=function(d){f(d.target.error)}})}e=yC.prototype,e.set=function(o,u){var f=this,d=!1;return Md(this,function(g){return g=Ec(Tc(g,!0)),ru(g.get(o))}).then(function(g){return Md(f,function(_){if(_=Ec(Tc(_,!0)),g)return g.value=u,ru(_.put(g));f.b++,d=!0;var E={};return E.fbase_key=o,E.value=u,ru(_.add(E))})}).then(function(){return f.c[o]=u,wC(f,o)}).oa(function(){d&&f.b--})};function wC(o,u){return o.g&&o.h&&U3()===o.h?mC(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):ee()}e.get=function(o){return Md(this,function(u){return ru(Ec(Tc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return Md(this,function(d){return f=!0,u.b++,ru(Ec(Tc(d,!0)).delete(o))}).then(function(){return delete u.c[o],wC(u,o)}).oa(function(){f&&u.b--})};function EC(o){return l0(o).then(function(u){var f=Ec(Tc(u,!1));return f.getAll?ru(f.getAll()):new me(function(d,g){var _=[],E=f.openCursor();E.onsuccess=function(k){(k=k.target.result)?(_.push(k.value),k.continue()):d(_)},E.onerror=function(k){g(k.target.error)}})}).then(function(u){var f={},d=[];if(o.b==0){for(d=0;d<u.length;d++)f[u[d].fbase_key]=u[d].value;d=W1(o.c,f),o.c=f}return d})}e.ca=function(o){this.a.length==0&&kV(this),this.a.push(o)},e.ia=function(o){Rr(this.a,function(u){return u==o}),this.a.length==0&&TC(this)};function kV(o){function u(){o.f=setTimeout(function(){o.l=EC(o).then(function(f){0<f.length&&Ke(o.a,function(d){d(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}TC(o),u()}function TC(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function IC(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=ee().then(function(){if(c0()){var d=Is(),g="__sak"+d;return u0||(u0=new yC),f=u0,f.set(g,d).then(function(){return f.get(g)}).then(function(_){if(_!==d)throw Error("indexedDB not supported!");return f.U(g)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(g){Ke(u.a,function(_){_(g)})}),d})}e=IC.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){Rr(this.a,function(u){return u==o})};function Ic(){this.a={},this.type="inMemory"}e=Ic.prototype,e.get=function(o){return ee(this.a[o])},e.set=function(o,u){return this.a[o]=u,ee()},e.U=function(o){return delete this.a[o],ee()},e.ca=function(){},e.ia=function(){};function Fd(){if(!CV())throw ri()=="Node"?new R("internal-error","The LocalStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=SC()||X.INTERNAL.node.localStorage,this.type="localStorage"}function SC(){try{var o=c.localStorage,u=Is();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function CV(){var o=ri()=="Node";if(o=SC()||o&&X.INTERNAL.node&&X.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Fd.prototype,e.get=function(o){var u=this;return ee().then(function(){var f=u.a.getItem(o);return Za(f)})},e.set=function(o,u){var f=this;return ee().then(function(){var d=ic(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return ee().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&ar(c.window,"storage",o)},e.ia=function(o){c.window&&qn(c.window,"storage",o)};function f0(){this.type="nullStorage"}e=f0.prototype,e.get=function(){return ee(null)},e.set=function(){return ee()},e.U=function(){return ee()},e.ca=function(){},e.ia=function(){};function h0(){if(!AV())throw ri()=="Node"?new R("internal-error","The SessionStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=bC()||X.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function bC(){try{var o=c.sessionStorage,u=Is();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function AV(){var o=ri()=="Node";if(o=bC()||o&&X.INTERNAL.node&&X.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=h0.prototype,e.get=function(o){var u=this;return ee().then(function(){var f=u.a.getItem(o);return Za(f)})},e.set=function(o,u){var f=this;return ee().then(function(){var d=ic(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return ee().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function NV(){var o={};o.Browser=RV,o.Node=PV,o.ReactNative=OV,o.Worker=DV,this.a=o[ri()]}var d0,RV={F:Fd,cb:h0},PV={F:Fd,cb:h0},OV={F:fC,cb:f0},DV={F:Fd,cb:f0},iu={rd:"local",NONE:"none",td:"session"};function xV(o){var u=new R("invalid-persistence-type"),f=new R("unsupported-persistence-type");e:{for(d in iu)if(iu[d]==o){var d=!0;break e}d=!1}if(!d||typeof o!="string")throw u;switch(ri()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!c0()&&o!=="none")throw f;break;default:if(!dy()&&o!=="none")throw f}}function kC(){var o=!!(!J1(Ft())&&fy()),u=rc(),f=dy();this.m=o,this.h=u,this.l=f,this.a={},d0||(d0=new NV),o=d0;try{this.g=!ly()&&ek()||!c.indexedDB?new o.a.F:new IC(Or()?new Ic:new o.a.F)}catch{this.g=new Ic,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new Ic}this.v=new Ic,this.f=O(this.Zb,this),this.b={}}var p0;function Sc(){return p0||(p0=new kC),p0}function Ps(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function ou(o,u){return"firebase:"+o.name+(u?":"+u:"")}function LV(o,u,f){var d=ou(u,f),g=Ps(o,u.F);return o.get(u,f).then(function(_){var E=null;try{E=Za(c.localStorage.getItem(d))}catch{}if(E&&!_)return c.localStorage.removeItem(d),o.set(u,E,f);E&&_&&g.type!="localStorage"&&c.localStorage.removeItem(d)})}e=kC.prototype,e.get=function(o,u){return Ps(this,o.F).get(ou(o,u))};function su(o,u,f){return f=ou(u,f),u.F=="local"&&(o.b[f]=null),Ps(o,u.F).U(f)}e.set=function(o,u,f){var d=ou(o,f),g=this,_=Ps(this,o.F);return _.set(d,u).then(function(){return _.get(d)}).then(function(E){o.F=="local"&&(g.b[d]=E)})},e.addListener=function(o,u,f){o=ou(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),vs(this.a)&&(Ps(this,"local").ca(this.f),this.h||(ly()||!ek())&&c.indexedDB||!this.l||MV(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=ou(o,u),this.a[o]&&(Rr(this.a[o],function(d){return d==f}),this.a[o].length==0&&delete this.a[o]),vs(this.a)&&(Ps(this,"local").ia(this.f),v0(this))};function MV(o){v0(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),d=o.b[u];f!=d&&(o.b[u]=f,f=new ys({type:"storage",key:u,target:window,oldValue:d,newValue:f,a:!0}),o.Zb(f))}},1e3)}function v0(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var d=this.b[f];typeof d>"u"&&(d=null);var g=c.localStorage.getItem(f);g!==d&&(this.b[f]=g,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Ps(this,"local").ia(this.f):v0(this),this.m){if(f=c.localStorage.getItem(u),d=o.a.newValue,d!==f)d!==null?c.localStorage.setItem(u,d):c.localStorage.removeItem(u);else if(this.b[u]===d&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==c.localStorage.getItem(u))&&(_.b[u]=c.localStorage.getItem(u),_.nb(u))},Pr&&ao&&ao==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Ke(o,O(this.nb,this))},e.nb=function(o){this.a[o]&&Ke(this.a[o],function(u){u()})};function FV(o){this.a=o,this.b=Sc()}var g0={name:"authEvent",F:"local"};function UV(o){return o.b.get(g0,o.a).then(function(u){return Dk(u)})}function jV(){this.a=Sc()}function VV(){this.b=-1}function Ud(o,u){this.b=CC,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),jd===void 0&&(c.Int32Array?jd=new Int32Array(RC):jd=RC),this.reset()}var jd;M(Ud,VV);for(var CC=64,BV=CC-1,AC=[],m0=0;m0<BV;m0++)AC[m0]=0;var NC=Mm(128,AC);Ud.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):ps(this.h)};function y0(o){for(var u=o.f,f=o.l,d=0,g=0;g<u.length;)f[d++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*d;for(u=16;64>u;u++){g=f[u-15]|0,d=f[u-2]|0;var _=(f[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,E=(f[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;f[u]=_+E|0}d=o.a[0]|0,g=o.a[1]|0;var k=o.a[2]|0,x=o.a[3]|0,F=o.a[4]|0,ie=o.a[5]|0,Ne=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Se=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&g^d&k^g&k)|0;E=F&ie^~F&Ne,_=_+((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))|0,E=E+(jd[u]|0)|0,E=_+(E+(f[u]|0)|0)|0,_=Ne,Ne=ie,ie=F,F=x+E|0,x=k,k=g,g=d,d=E+Se|0}o.a[0]=o.a[0]+d|0,o.a[1]=o.a[1]+g|0,o.a[2]=o.a[2]+k|0,o.a[3]=o.a[3]+x|0,o.a[4]=o.a[4]+F|0,o.a[5]=o.a[5]+ie|0,o.a[6]=o.a[6]+Ne|0,o.a[7]=o.a[7]+_|0}function _0(o,u,f){f===void 0&&(f=u.length);var d=0,g=o.c;if(typeof u=="string")for(;d<f;)o.f[g++]=u.charCodeAt(d++),g==o.b&&(y0(o),g=0);else if(w(u))for(;d<f;){var _=u[d++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[g++]=_,g==o.b&&(y0(o),g=0)}else throw Error("message must be string or array");o.c=g,o.g+=f}var RC=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function PC(){Ud.call(this,8,$V)}M(PC,Ud);var $V=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function OC(o,u,f,d,g,_){this.v=o,this.i=u,this.l=f,this.m=d||null,this.u=g||null,this.s=_,this.h=u+":"+f,this.C=new jV,this.g=new FV(this.h),this.f=null,this.b=[],this.a=this.c=null}function Vd(o){return new R("invalid-cordova-configuration",o)}e=OC.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=L3().then(function(){if(typeof qe("universalLinks.subscribe",c)!="function")throw Vd("cordova-universal-links-plugin-fix is not installed");if(typeof qe("BuildInfo.packageName",c)>"u")throw Vd("cordova-plugin-buildinfo is not installed");if(typeof qe("cordova.plugins.browsertab.openUrl",c)!="function")throw Vd("cordova-plugin-browsertab is not installed");if(typeof qe("cordova.InAppBrowser.open",c)!="function")throw Vd("cordova-plugin-inappbrowser is not installed")},function(){throw new R("cordova-not-ready")})};function qV(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function zV(o){var u=new PC;_0(u,o),o=[];var f=8*u.g;56>u.c?_0(u,NC,56-u.c):_0(u,NC,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=f&255,f/=256;for(y0(u),d=f=0;d<u.i;d++)for(var g=24;0<=g;g-=8)o[f++]=u.a[d]>>g&255;return tj(o)}e.Pb=function(o,u){return u(new R("operation-not-supported-in-this-environment")),ee()},e.Nb=function(){return $e(new R("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,u,f,d){if(this.c)return $e(new R("redirect-operation-pending"));var g=this,_=c.document,E=null,k=null,x=null,F=null;return this.c=ee().then(function(){return Ly(u),xC(g)}).then(function(){return WV(g,o,u,f,d)}).then(function(){return new me(function(ie,Ne){k=function(){var Se=qe("cordova.plugins.browsertab.close",c);return ie(),typeof Se=="function"&&Se(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(k),x=function(){E||(E=Ka(2e3).then(function(){Ne(new R("redirect-cancelled-by-user"))}))},F=function(){py()&&x()},_.addEventListener("resume",x,!1),Ft().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",F,!1)}).o(function(ie){return w0(g).then(function(){throw ie})})}).oa(function(){x&&_.removeEventListener("resume",x,!1),F&&_.removeEventListener("visibilitychange",F,!1),E&&E.cancel(),k&&g.Ta(k),g.c=null})};function WV(o,u,f,d,g){var _=qV(),E=new Dr(u,d,null,_,new R("no-auth-event"),null,g),k=qe("BuildInfo.packageName",c);if(typeof k!="string")throw new R("invalid-cordova-configuration");var x=qe("BuildInfo.displayName",c),F={};if(Ft().toLowerCase().match(/iphone|ipad|ipod/))F.ibi=k;else if(Ft().toLowerCase().match(/android/))F.apn=k;else return $e(new R("operation-not-supported-in-this-environment"));x&&(F.appDisplayName=x),_=zV(_),F.sessionId=_;var ie=wc(o.v,o.i,o.l,u,f,null,d,o.m,F,o.u,g,o.s);return o.ma().then(function(){var Ne=o.h;return o.C.a.set(g0,E.w(),Ne)}).then(function(){var Ne=qe("cordova.plugins.browsertab.isAvailable",c);if(typeof Ne!="function")throw new R("invalid-cordova-configuration");var Se=null;Ne(function(bt){if(bt){if(Se=qe("cordova.plugins.browsertab.openUrl",c),typeof Se!="function")throw new R("invalid-cordova-configuration");Se(ie)}else{if(Se=qe("cordova.InAppBrowser.open",c),typeof Se!="function")throw new R("invalid-cordova-configuration");bt=Ft(),o.a=Se(ie,bt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||bt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function DC(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function xC(o){return o.f||(o.f=o.ma().then(function(){return new me(function(u){function f(d){return u(d),o.Ta(f),!1}o.Ea(f),HV(o)})})),o.f}function w0(o){var u=null;return UV(o.g).then(function(f){return u=f,f=o.g,su(f.b,g0,f.a)}).then(function(){return u})}function HV(o){function u(E){d=!0,g&&g.cancel(),w0(o).then(function(k){var x=f;if(k&&E&&E.url){var F=null;x=bk(E.url),x.indexOf("/__/auth/callback")!=-1&&(F=Rn(x),F=Za(ur(F,"firebaseError")||null),F=(F=typeof F=="object"?Mt(F):null)?new Dr(k.c,k.b,null,null,F,null,k.T()):new Dr(k.c,k.b,x,k.f,null,null,k.T())),x=F||f}DC(o,x)})}var f=new Dr("unknown",null,null,null,new R("no-auth-event")),d=!1,g=Ka(500).then(function(){return w0(o).then(function(){d||DC(o,f)})}),_=c.handleOpenURL;c.handleOpenURL=function(E){if(E.toLowerCase().indexOf(qe("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:E}),typeof _=="function")try{_(E)}catch(k){console.error(k)}},My||(My=new lj),cj(u)}e.Ea=function(o){this.b.push(o),xC(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Dr("unknown",null,null,null,new R("no-auth-event")),o(u))})},e.Ta=function(o){Rr(this.b,function(u){return u==o})};function KV(o){this.a=o,this.b=Sc()}var E0={name:"pendingRedirect",F:"session"};function GV(o){return o.b.set(E0,"pending",o.a)}function T0(o){return su(o.b,E0,o.a)}function QV(o){return o.b.get(E0,o.a).then(function(u){return u=="pending"})}function Bd(o,u,f,d){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=d,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new qd,this.C=new zC,this.g=new KV(BC(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=LC(this.D,this.v,this.m,Ci,this.J)}function LC(o,u,f,d,g){var _=X.SDK_VERSION||null;return cy()?new OC(o,u,f,_,d,g):new aC(o,u,f,_,d,g)}Bd.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=LC(this.D,this.v,this.m,null,this.J),this.i={}};function MC(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function FC(o){o.a.Yb()&&MC(o).o(function(u){var f=new Dr("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));S0(u)&&o.s(f)}),o.a.Ub()||$C(o.b)}function $d(o,u){Ai(o.h,u)||o.h.push(u),o.f||QV(o.g).then(function(f){f?T0(o.g).then(function(){MC(o).o(function(d){var g=new Dr("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));S0(d)&&o.s(g)})}):FC(o)}).o(function(){FC(o)})}function I0(o,u){Rr(o.h,function(f){return f==u})}Bd.prototype.s=function(o){if(!o)throw new R("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var d=this.h[f];if(d.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,d),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return $C(this.b),u};var YV=new co(2e3,1e4),XV=new co(3e4,6e4);Bd.prototype.ra=function(){return this.b.ra()};function UC(o,u,f,d,g,_,E){return o.a.Nb(u,f,d,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},g,_,E)}function S0(o){return!!(o&&o.code=="auth/cordova-not-ready")}function jC(o,u,f,d,g){var _;return GV(o.g).then(function(){return o.a.Ob(u,f,d,g).o(function(E){if(S0(E))throw new R("operation-not-supported-in-this-environment");return _=E,T0(o.g).then(function(){throw _})}).then(function(){return o.a.ac()?new me(function(){}):T0(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function VC(o,u,f,d,g){return o.a.Pb(d,function(_){u.na(f,null,_,g)},YV.get())}var b0={};function BC(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function k0(o,u,f,d){var g=BC(u,f,d);return b0[g]||(b0[g]=new Bd(o,u,f,d)),b0[g]}function qd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}qd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},qd.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,d=o.b,g=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!_),f!="unknown"||g||_?o.a?(Os(this,!0,null,o.a),ee()):u.Fa(f,d)?JV(this,o,u):$e(new R("invalid-auth-event")):(Os(this,!1,null,null),ee())}else $e(new R("invalid-auth-event"))};function $C(o){o.g||(o.g=!0,Os(o,!1,null,null))}function zd(o){o.g&&!o.i&&Os(o,!1,null,null)}function JV(o,u,f){f=f.Fa(u.c,u.b);var d=u.g,g=u.f,_=u.i,E=u.T(),k=!!u.c.match(/Redirect$/);f(d,g,E,_).then(function(x){Os(o,k,x,null)}).o(function(x){Os(o,k,null,x)})}function ZV(o,u){if(o.b=function(){return $e(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function qC(o,u){if(o.b=function(){return ee(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Os(o,u,f,d){u?d?ZV(o,d):qC(o,f):qC(o,{user:null}),o.f=[],o.c=[]}qd.prototype.ra=function(){var o=this;return new me(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),eB(o))})};function eB(o){var u=new R("timeout");o.a&&o.a.cancel(),o.a=Ka(XV.get()).then(function(){o.b||(o.g=!0,Os(o,!0,null,u))})}function zC(){}zC.prototype.h=function(o,u){if(o){var f=o.c,d=o.b;o.a?(u.na(o.c,null,o.a,o.b),ee()):u.Fa(f,d)?tB(o,u):$e(new R("invalid-auth-event"))}else $e(new R("invalid-auth-event"))};function tB(o,u){var f=o.b,d=o.c;u.Fa(d,f)(o.g,o.f,o.T(),o.i).then(function(g){u.na(d,g,null,f)}).o(function(g){u.na(d,null,g,f)})}function WC(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function C0(o,u){this.a=u,Y(this,"verificationId",o)}C0.prototype.confirm=function(o){return o=Ok(this.verificationId,o),this.a(o)};function A0(o,u,f,d){return new Pi(o).gb(u,f).then(function(g){return new C0(g,d)})}function nB(o){var u=mk(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");hn(this,{token:o,expirationTime:oc(1e3*u.exp),authTime:oc(1e3*u.auth_time),issuedAtTime:oc(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function N0(o,u,f){var d=u&&u[KC];if(!d)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=so(u),this.g=f,this.c=new _d(null,d),this.b=[];var g=this;Ke(u[HC]||[],function(_){(_=wy(_))&&g.b.push(_)}),Y(this,"auth",this.a),Y(this,"session",this.c),Y(this,"hints",this.b)}var HC="mfaInfo",KC="mfaPendingCredential";N0.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var d=so(u.f);return delete d[HC],delete d[KC],Cn(d,f),u.g(d)})};function R0(o,u,f,d){R.call(this,"multi-factor-auth-required",d,u),this.b=new N0(o,u,f),Y(this,"resolver",this.b)}M(R0,R);function GC(o,u,f){if(o&&C(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new R0(u,o.serverResponse,f,o.message)}catch{}return null}function QC(){}QC.prototype.tb=function(o,u,f){return u.type==lc?rB(this,o,u,f):iB(this,o,u)};function rB(o,u,f,d){return f.Ha().then(function(g){return g={idToken:g},typeof d<"u"&&(g.displayName=d),Cn(g,{phoneVerificationInfo:cc(o.a)}),ye(u,Hj,g)})}function iB(o,u,f){return f.Ha().then(function(d){return d={mfaPendingCredential:d},Cn(d,{phoneVerificationInfo:cc(o.a)}),ye(u,Kj,d)})}function P0(o){Y(this,"factorId",o.fa),this.a=o}M(P0,QC);function YC(o){if(P0.call(this,o),this.a.fa!=Pi.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}M(YC,P0);function au(o,u){Nn.call(this,o);for(var f in u)this[f]=u[f]}M(au,Nn);function O0(o,u){this.a=o,this.b=[],this.c=O(this.yc,this),ar(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Ke(u.multiFactor.enrolledFactors,function(d){var g=null,_={};if(d){d.uid&&(_[Ty]=d.uid),d.displayName&&(_[nk]=d.displayName),d.enrollmentTime&&(_[Ey]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(_[Iy]=d.phoneNumber);try{g=new sc(_)}catch{}d=g}else d=null;d&&f.push(d)}),Wd(this,f)}function oB(o){var u=[];return Ke(o.mfaInfo||[],function(f){(f=wy(f))&&u.push(f)}),u}e=O0.prototype,e.yc=function(o){Wd(this,oB(o.hd))};function Wd(o,u){o.b=u,Y(o,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(o){return new _d(o,null)})},e.fc=function(o,u){var f=this,d=this.a.a;return this.Sb().then(function(g){return o.tb(d,g,u)}).then(function(g){return si(f.a,g),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,d=this.a.a;return this.a.I().then(function(g){return ye(d,dV,{idToken:g,mfaEnrollmentId:f})}).then(function(g){var _=M4(u.b,function(E){return E.uid!=f});return Wd(u,_),si(u.a,g),u.a.reload().o(function(E){if(E.code!="auth/user-token-expired")throw E})})},e.w=function(){return{multiFactor:{enrolledFactors:Yh(this.b,function(o){return o.w()})}}};function D0(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}D0.prototype.start=function(){this.a=this.c,x0(this,!0)};function sB(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function x0(o,u){o.stop(),o.b=Ka(sB(o,u)).then(function(){return F3()}).then(function(){return o.h()}).then(function(){x0(o,!0)}).o(function(f){o.i(f)&&x0(o,!1)})}D0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function L0(o){this.f=o,this.b=this.a=null,this.c=Date.now()}L0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function XC(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function JC(o,u){o.b=md(u[Lr]||""),o.a=u.refreshToken,u=u.expiresIn,XC(o,typeof u<"u"?Number(u):void 0)}function aB(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function uB(o,u){return Rj(o.f,u).then(function(f){return o.b=md(f.access_token),o.a=f.refresh_token,XC(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}L0.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?$e(new R("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?uB(this,{grant_type:"refresh_token",refresh_token:this.a}):ee(null):ee({accessToken:this.b.toString(),refreshToken:this.a})};function Hd(o,u){this.a=o||null,this.b=u||null,hn(this,{lastSignInTime:oc(u||null),creationTime:oc(o||null)})}function lB(o){return new Hd(o.a,o.b)}Hd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function cB(o,u,f,d,g,_){hn(this,{uid:o,displayName:d||null,photoURL:g||null,email:f||null,phoneNumber:_||null,providerId:u})}function Wn(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var d=X.SDK_VERSION?Xa(X.SDK_VERSION):null;this.a=new xr(this.l,fs(Ci),d),(this.u=o.emulatorConfig||null)&&xd(this.a,this.u),this.h=new L0(this.a),$0(this,u[Lr]),JC(this.h,u),Y(this,"refreshToken",this.h.a),eA(this,f||{}),fn.call(this),this.P=!1,this.s&&Ts()&&(this.b=k0(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=fB(this),this.ba=O(this.ib,this);var g=this;this.za=null,this.Pa=function(_){g.xa(_.h)},this.qa=null,this.Ba=function(_){M0(g,_.c)},this.$=null,this.aa=[],this.Oa=function(_){bc(g,_.f)},this.ja=null,this.S=new O0(this,f),Y(this,"multiFactor",this.S)}M(Wn,fn),Wn.prototype.xa=function(o){this.za=o,Gk(this.a,o)};function M0(o,u){o.u=u,xd(o.a,u),o.b&&(u=o.b,o.b=k0(o.s,o.l,o.m,o.u),o.P&&(I0(u,o),$d(o.b,o)))}Wn.prototype.la=function(){return this.za};function F0(o,u){o.qa&&qn(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&ar(u,"languageCodeChanged",o.Pa)}function U0(o,u){o.$&&qn(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&ar(u,"emulatorConfigChanged",o.Ba)}function bc(o,u){o.aa=u,Qk(o.a,X.SDK_VERSION?Xa(X.SDK_VERSION,o.aa):null)}Wn.prototype.Ga=function(){return ps(this.aa)};function j0(o,u){o.ja&&qn(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&ar(u,"frameworkChanged",o.Oa)}Wn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function V0(o){try{return X.app(o.m).auth()}catch{throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function fB(o){return new D0(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function ZC(o){o.J||o.D.b||(o.D.start(),qn(o,"tokenChanged",o.ba),ar(o,"tokenChanged",o.ba))}function B0(o){qn(o,"tokenChanged",o.ba),o.D.stop()}function $0(o,u){o.Aa=u,Y(o,"_lat",u)}function hB(o,u){Rr(o.W,function(f){return f==u})}function Ds(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return m1(u).then(function(){return o})}function kc(o){o.b&&!o.P&&(o.P=!0,$d(o.b,o))}function eA(o,u){hn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Hd(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}Y(Wn.prototype,"providerId","firebase");function tA(){}function q0(o){return ee().then(function(){if(o.J)throw new R("app-deleted")})}function z0(o){return Yh(o.providerData,function(u){return u.providerId})}function W0(o,u){u&&(nA(o,u.providerId),o.providerData.push(u))}function nA(o,u){Rr(o.providerData,function(f){return f.providerId==u})}function po(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&Y(o,u,f)}function Kd(o,u){o!=u&&(hn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?Y(o,"metadata",lB(u.metadata)):Y(o,"metadata",new Hd),Ke(u.providerData,function(f){W0(o,f)}),aB(o.h,u.h),Y(o,"refreshToken",o.h.a),Wd(o.S,u.S.b))}e=Wn.prototype,e.reload=function(){var o=this;return mt(this,q0(this).then(function(){return H0(o).then(function(){return Ds(o)}).then(tA)}))};function H0(o){return o.I().then(function(u){var f=o.isAnonymous;return dB(o,u).then(function(){return f||po(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new nB(u)})},e.I=function(o){var u=this;return mt(this,q0(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new R("internal-error");return f.accessToken!=u.Aa&&($0(u,f.accessToken),u.dispatchEvent(new au("tokenChanged"))),po(u,"refreshToken",f.refreshToken),f.accessToken}))};function si(o,u){u[Lr]&&o.Aa!=u[Lr]&&(JC(o.h,u),o.dispatchEvent(new au("tokenChanged")),$0(o,u[Lr]),po(o,"refreshToken",o.h.a))}function dB(o,u){return ye(o.a,Gj,{idToken:u}).then(O(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new R("internal-error");o=o[0],eA(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=pB(o),f=0;f<u.length;f++)W0(this,u[f]);po(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new au("userReloaded",{hd:o}))};function pB(o){return(o=o.providerUserInfo)&&o.length?Yh(o,function(u){return new cB(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return vy("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var u=this,f=null;return mt(this,o.c(this.a,this.uid).then(function(d){return si(u,d),f=Cc(u,d,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function Gd(o,u){return H0(o).then(function(){if(Ai(z0(o),u))return Ds(o).then(function(){throw new R("provider-already-linked")})})}e.Cc=function(o){return vy("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var u=this,f=null;return mt(this,Gd(this,o.providerId).then(function(){return u.I()}).then(function(d){return o.b(u.a,d)}).then(function(d){return f=Cc(u,d,"link"),rA(u,d)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return mt(this,Gd(this,"phone").then(function(){return A0(V0(f),o,u,O(f.rb,f))}))},e.Mc=function(o,u){var f=this;return mt(this,ee().then(function(){return A0(V0(f),o,u,O(f.ub,f))}),!0)};function Cc(o,u,f){var d=xy(u);return u=_k(u),ii({user:o,credential:d,additionalUserInfo:u,operationType:f})}function rA(o,u){return si(o,u),o.reload().then(function(){return o})}e.Cb=function(o){var u=this;return mt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return si(u,f),u.reload()}))},e.ed=function(o){var u=this;return mt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return si(u,f),u.reload()}))},e.Db=function(o){var u=this;return mt(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return si(u,f),u.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return q0(this);var u=this;return mt(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return si(u,f),po(u,"displayName",f.displayName||null),po(u,"photoURL",f.photoUrl||null),Ke(u.providerData,function(d){d.providerId==="password"&&(Y(d,"displayName",u.displayName),Y(d,"photoURL",u.photoURL))}),Ds(u)}).then(tA))},e.cd=function(o){var u=this;return mt(this,H0(this).then(function(f){return Ai(z0(u),o)?Fj(u.a,f,[o]).then(function(d){var g={};return Ke(d.providerUserInfo||[],function(_){g[_.providerId]=!0}),Ke(z0(u),function(_){g[_]||nA(u,_)}),g[Pi.PROVIDER_ID]||Y(u,"phoneNumber",null),Ds(u)}):Ds(u).then(function(){throw new R("no-such-provider")})}))},e.delete=function(){var o=this;return mt(this,this.I().then(function(u){return ye(o.a,$j,{idToken:u})}).then(function(){o.dispatchEvent(new au("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");F0(o,null),U0(o,null),j0(o,null),o.N=[],o.J=!0,B0(o),Y(o,"refreshToken",null),o.b&&I0(o.b,o)})},e.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,d){o!="linkViaPopup"&&o!="reauthViaPopup"||d!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?O(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?O(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Mb,this):null},e.Ec=function(o){var u=this;return iA(this,"linkViaPopup",o,function(){return Gd(u,o.providerId).then(function(){return Ds(u)})},!1)},e.Nc=function(o){return iA(this,"reauthViaPopup",o,function(){return ee()},!0)};function iA(o,u,f,d,g){if(!Ts())return $e(new R("operation-not-supported-in-this-environment"));if(o.i&&!g)return $e(o.i);var _=Ay(f.providerId),E=Is(o.uid+":::"),k=null;(!rc()||fy())&&o.s&&f.isOAuthProvider&&(k=wc(o.s,o.l,o.m,u,f,null,E,X.SDK_VERSION||null,null,null,o.tenantId,o.u));var x=K1(k,_&&_.va,_&&_.ua);return d=d().then(function(){if(sA(o),!g)return o.I().then(function(){})}).then(function(){return UC(o.b,x,u,f,E,!!k,o.tenantId)}).then(function(){return new me(function(F,ie){o.na(u,null,new R("cancelled-popup-request"),o.g||null),o.f=F,o.C=ie,o.g=E,o.c=VC(o.b,o,u,x,E)})}).then(function(F){return x&&Es(x),F?ii(F):null}).o(function(F){throw x&&Es(x),F}),mt(o,d,g)}e.Fc=function(o){var u=this;return oA(this,"linkViaRedirect",o,function(){return Gd(u,o.providerId)},!1)},e.Oc=function(o){return oA(this,"reauthViaRedirect",o,function(){return ee()},!0)};function oA(o,u,f,d,g){if(!Ts())return $e(new R("operation-not-supported-in-this-environment"));if(o.i&&!g)return $e(o.i);var _=null,E=Is(o.uid+":::");return d=d().then(function(){if(sA(o),!g)return o.I().then(function(){})}).then(function(){return o.ga=E,Ds(o)}).then(function(k){return o.ha&&(k=o.ha,k=k.b.set(K0,o.w(),k.a)),k}).then(function(){return jC(o.b,u,f,E,o.tenantId)}).o(function(k){if(_=k,o.ha)return uA(o.ha);throw _}).then(function(){if(_)throw _}),mt(o,d,g)}function sA(o){if(!o.b||!o.P)throw o.b&&!o.P?new R("internal-error"):new R("auth-domain-config-required")}e.Lb=function(o,u,f,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(E){return t0(g.a,{requestUri:o,postBody:d,sessionId:u,idToken:E})}).then(function(E){return _=Cc(g,E,"link"),rA(g,E)}).then(function(){return _}),mt(this,f)},e.Mb=function(o,u,f,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null,E=ee().then(function(){return tu(n0(g.a,{requestUri:o,sessionId:u,postBody:d,tenantId:f}),g.uid)}).then(function(k){return _=Cc(g,k,"reauthenticate"),si(g,k),g.i=null,g.reload()}).then(function(){return _});return mt(this,E,!0)},e.vb=function(o){var u=this,f=null;return mt(this,this.I().then(function(d){return f=d,typeof o>"u"||vs(o)?{}:vd(new pd(o))}).then(function(d){return u.a.vb(f,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Fb=function(o,u){var f=this,d=null;return mt(this,this.I().then(function(g){return d=g,typeof u>"u"||vs(u)?{}:vd(new pd(u))}).then(function(g){return f.a.Fb(d,o,g)}).then(function(g){if(f.email!=g)return f.reload()}).then(function(){}))};function mt(o,u,f){var d=vB(o,u,f);return o.N.push(d),d.oa(function(){Xh(o.N,d)}),d.o(function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=GC(g.w(),V0(o),O(o.jc,o))),_||g})}e.jc=function(o){var u=null,f=this;return o=tu(ee(o),f.uid).then(function(d){return u=Cc(f,d,"reauthenticate"),si(f,d),f.i=null,f.reload()}).then(function(){return u}),mt(this,o,!0)};function vB(o,u,f){return o.i&&!f?(u.cancel(),$e(o.i)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new au("userInvalidated")),o.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Cn(o,this.metadata.w()),Ke(this.providerData,function(u){o.providerData.push(V3(u))}),Cn(o,this.S.w()),o};function aA(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Lr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var d=o.stsTokenManager.expirationTime;d&&(f.expiresIn=(d-Date.now())/1e3)}else return null;var g=new Wn(u,f,o);return o.providerData&&Ke(o.providerData,function(_){_&&W0(g,ii(_))}),o.redirectEventId&&(g.ga=o.redirectEventId),g}function gB(o,u,f,d){var g=new Wn(o,u);return f&&(g.ha=f),d&&bc(g,d),g.reload().then(function(){return g})}function mB(o,u,f,d){var g=o.h,_={};return _[Lr]=g.b&&g.b.toString(),_.refreshToken=g.a,u=new Wn(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),d&&bc(u,d),Kd(u,o),u}function yB(o){this.a=o,this.b=Sc()}var K0={name:"redirectUser",F:"session"};function uA(o){return su(o.b,K0,o.a)}function _B(o,u){return o.b.get(K0,o.a).then(function(f){return f&&u&&(f.authDomain=u),aA(f||{})})}function G0(o){this.a=o,this.b=Sc(),this.c=null,this.f=wB(this),this.b.addListener(ai("local"),this.a,O(this.g,this))}G0.prototype.g=function(){var o=this,u=ai("local");uu(this,function(){return ee().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return Q0(o,"local").then(function(){o.c=u})})})};function Q0(o,u){var f=[],d;for(d in iu)iu[d]!==u&&f.push(su(o.b,ai(iu[d]),o.a));return f.push(su(o.b,Y0,o.a)),l3(f)}function wB(o){var u=ai("local"),f=ai("session"),d=ai("none");return LV(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(g){return g?f:o.b.get(d,o.a).then(function(_){return _?d:o.b.get(u,o.a).then(function(E){return E?u:o.b.get(Y0,o.a).then(function(k){return k?ai(k):u})})})}).then(function(g){return o.c=g,Q0(o,g.F)}).o(function(){o.c||(o.c=u)})}var Y0={name:"persistence",F:"session"};function ai(o){return{name:"authUser",F:o}}G0.prototype.yb=function(o){var u=null,f=this;return xV(o),uu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(d){return u=d,Q0(f,o)}).then(function(){if(f.c=ai(o),u)return f.b.set(f.c,u,f.a)}):ee()})};function EB(o){return uu(o,function(){return o.b.set(Y0,o.c.F,o.a)})}function lA(o,u){return uu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function cA(o){return uu(o,function(){return su(o.b,o.c,o.a)})}function fA(o,u,f){return uu(o,function(){return o.b.get(o.c,o.a).then(function(d){return d&&u&&(d.authDomain=u),d&&f&&(d.emulatorConfig=f),aA(d||{})})})}function uu(o,u){return o.f=o.f.then(u,u),o.f}function Mr(o){if(this.l=!1,Y(this,"settings",new WC),Y(this,"app",o),De(this).options&&De(this).options.apiKey)o=X.SDK_VERSION?Xa(X.SDK_VERSION):null,this.a=new xr(De(this).options&&De(this).options.apiKey,fs(Ci),o);else throw new R("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=X.INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=X.INTERNAL.createSubscribe(O(this.Ac,this)),lu(this,null),this.i=new G0(De(this).options.apiKey+":"+De(this).name),this.D=new yB(De(this).options.apiKey+":"+De(this).name),this.$=et(this,CB(this)),this.h=et(this,AB(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,SB(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,fn.call(this),IB(this),this.J=[],this.R=null}M(Mr,fn);function hA(o){Nn.call(this,"languageCodeChanged"),this.h=o}M(hA,Nn);function dA(o){Nn.call(this,"emulatorConfigChanged"),this.c=o}M(dA,Nn);function pA(o){Nn.call(this,"frameworkChanged"),this.f=o}M(pA,Nn),e=Mr.prototype,e.yb=function(o){return o=this.i.yb(o),et(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,Gk(this.a,this.aa),this.dispatchEvent(new hA(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,TB(u),this.R={url:o,ec:u},this.settings.jb=!0,xd(this.a,this.R),this.dispatchEvent(new dA(this.R))}};function TB(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&fd().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),Qk(this.a,X.SDK_VERSION?Xa(X.SDK_VERSION,this.J):null),this.dispatchEvent(new pA(this.J))},e.Ga=function(){return ps(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function IB(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=Rn(this.R.url);u=ii({protocol:u.c,host:u.a,port:u.g,options:ii({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:De(this).options.apiKey,authDomain:De(this).options.authDomain,appName:De(this).name,currentUser:ce(this)&&ce(this).w()}};function X0(o){return o.Oa||$e(new R("auth-domain-config-required"))}function SB(o){var u=De(o).options.authDomain,f=De(o).options.apiKey;u&&Ts()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=k0(u,f,De(o).name,o.R),$d(o.b,o),ce(o)&&kc(ce(o)),o.m){kc(o.m);var d=o.m;d.xa(o.la()),F0(d,o),d=o.m,bc(d,o.J),j0(d,o),d=o.m,M0(d,o.R),U0(d,o),o.m=null}return o.b}}))}e.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,d){o=="signInViaPopup"&&this.g==d&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(o,u,f,d){var g=this,_={requestUri:o,postBody:d,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return xs(g,e0(g.a,_))})},e.Xc=function(o){if(!Ts())return $e(new R("operation-not-supported-in-this-environment"));var u=this,f=Ay(o.providerId),d=Is(),g=null;(!rc()||fy())&&De(this).options.authDomain&&o.isOAuthProvider&&(g=wc(De(this).options.authDomain,De(this).options.apiKey,De(this).name,"signInViaPopup",o,null,d,X.SDK_VERSION||null,null,null,this.T(),this.R));var _=K1(g,f&&f.va,f&&f.ua);return f=X0(this).then(function(E){return UC(E,_,"signInViaPopup",o,d,!!g,u.T())}).then(function(){return new me(function(E,k){u.na("signInViaPopup",null,new R("cancelled-popup-request"),u.g),u.f=E,u.C=k,u.g=d,u.c=VC(u.b,u,"signInViaPopup",_,d)})}).then(function(E){return _&&Es(_),E?ii(E):null}).o(function(E){throw _&&Es(_),E}),et(this,f)},e.Yc=function(o){if(!Ts())return $e(new R("operation-not-supported-in-this-environment"));var u=this,f=X0(this).then(function(){return EB(u.i)}).then(function(){return jC(u.b,"signInViaRedirect",o,void 0,u.T())});return et(this,f)};function vA(o){if(!Ts())return $e(new R("operation-not-supported-in-this-environment"));var u=X0(o).then(function(){return o.b.ra()}).then(function(f){return f?ii(f):null});return et(o,u)}e.ra=function(){var o=this;return vA(this).then(function(u){return o.b&&zd(o.b.b),u}).o(function(u){throw o.b&&zd(o.b.b),u})},e.dd=function(o){if(!o)return $e(new R("null-user"));if(this.S!=o.tenantId)return $e(new R("tenant-id-mismatch"));var u=this,f={};f.apiKey=De(this).options.apiKey,f.authDomain=De(this).options.authDomain,f.appName=De(this).name;var d=mB(o,f,u.D,u.Ga());return et(this,this.h.then(function(){if(De(u).options.apiKey!=o.l)return d.reload()}).then(function(){return ce(u)&&o.uid==ce(u).uid?(Kd(ce(u),o),u.da(o)):(lu(u,d),kc(d),u.da(d))}).then(function(){Ac(u)}))};function bB(o,u){var f={};return f.apiKey=De(o).options.apiKey,f.authDomain=De(o).options.authDomain,f.appName=De(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return gB(f,u,o.D,o.Ga())}).then(function(d){return ce(o)&&d.uid==ce(o).uid?(Kd(ce(o),d),o.da(d)):(lu(o,d),kc(d),o.da(d))}).then(function(){Ac(o)})}function lu(o,u){ce(o)&&(hB(ce(o),o.Ba),qn(ce(o),"tokenChanged",o.qa),qn(ce(o),"userDeleted",o.za),qn(ce(o),"userInvalidated",o.Aa),B0(ce(o))),u&&(u.W.push(o.Ba),ar(u,"tokenChanged",o.qa),ar(u,"userDeleted",o.za),ar(u,"userInvalidated",o.Aa),0<o.u&&ZC(u)),Y(o,"currentUser",u),u&&(u.xa(o.la()),F0(u,o),bc(u,o.J),j0(u,o),M0(u,o.R),U0(u,o))}e.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&zd(o.b.b),ce(o)?(lu(o,null),cA(o.i).then(function(){Ac(o)})):ee()});return et(this,u)};function kB(o){var u=_B(o.D,De(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),uA(o.D)});return et(o,u)}function CB(o){var u=De(o).options.authDomain,f=kB(o).then(function(){return fA(o.i,u,o.R)}).then(function(d){return d?(d.ha=o.D,o.m&&(o.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return lA(o.i,d).then(function(){return d})}).o(function(g){return g.code=="auth/network-request-failed"?d:cA(o.i)})):null}).then(function(d){lu(o,d||null)});return et(o,f)}function AB(o){return o.$.then(function(){return vA(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(ai("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return fA(this.i,De(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=ce(o)&&u){f=ce(o).uid;var d=u.uid;f=f==null||f===""||d===void 0||d===null||d===""?!1:f==d}if(f)return Kd(ce(o),u),ce(o).I();(ce(o)||u)&&(lu(o,u),u&&(kc(u),u.ha=o.D),o.b&&$d(o.b,o),Ac(o))}})},e.da=function(o){return lA(this.i,o)},e.mc=function(){Ac(this),this.da(ce(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function xs(o,u){var f=null,d=null;return et(o,u.then(function(g){return f=xy(g),d=_k(g),bB(o,g)},function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=GC(g.w(),o,O(o.kc,o))),_||g}).then(function(){return ii({user:ce(o),credential:f,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return xs(u,ee(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(ce(u))})},e.Ac=function(o){var u=this;NB(this,function(){o.next(ce(u))})},e.Ic=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(ce(d)):typeof o.next=="function"&&o.next(ce(d))}),this.Pa(o,u,f)},e.Hc=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof o=="function"?o(ce(d)):typeof o.next=="function"&&o.next(ce(d))}),this.ib(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return ce(u)?ce(u).I(o).then(function(d){return{accessToken:d}}):null});return et(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return xs(u,ye(u.a,lV,{token:o}))}).then(function(f){var d=f.user;return po(d,"isAnonymous",!1),u.da(d),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return xs(f,ye(f.a,iC,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return xs(f,ye(f.a,Vj,{email:o,password:u}))})},e.ab=function(o){var u=this;return this.h.then(function(){return xs(u,o.ka(u.a))})},e.Sc=function(o){return vy("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var u=ce(o);if(u&&u.isAnonymous){var f=ii({providerId:null,isNewUser:!1});return ii({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return xs(o,o.a.Ab()).then(function(d){var g=d.user;return po(g,"isAnonymous",!0),o.da(g),d})})};function De(o){return o.app}function ce(o){return o.currentUser}e.getUid=function(){return ce(this)&&ce(this).uid||null};function Qd(o){return ce(o)&&ce(o)._lat||null}function Ac(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Qd(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u](Qd(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&ce(this)&&ZC(ce(this))},e.Pc=function(o){var u=this;Ke(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&ce(this)&&B0(ce(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),et(this,this.h.then(function(){u.l||Ai(u.s,o)&&o(Qd(u))}))},e.removeAuthTokenListener=function(o){Rr(this.s,function(u){return u==o})};function NB(o,u){o.N.push(u),et(o,o.h.then(function(){!o.l&&Ai(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u(Qd(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(ai("local"),o.a,this.ja)),this.b&&(I0(this.b,this),zd(this.b.b)),Promise.resolve()};function et(o,u){return o.P.push(u),u.oa(function(){Xh(o.P,u)}),u}e.hc=function(o){return et(this,Pj(this.a,o))},e.Bc=function(o){return!!Dy(o)},e.xb=function(o,u){var f=this;return et(this,ee().then(function(){var d=new pd(u);if(!d.c)throw new R("argument-error",ky+" must be true when sending sign in link to email");return vd(d)}).then(function(d){return f.a.xb(o,d)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},e.ob=function(o,u){return et(this,this.a.ob(o,u).then(function(){}))},e.Sa=function(o){return et(this,this.a.Sa(o).then(function(u){return new $3(u)}))},e.kb=function(o){return et(this,this.a.kb(o).then(function(){}))},e.wb=function(o,u){var f=this;return et(this,ee().then(function(){return typeof u>"u"||vs(u)?{}:vd(new pd(u))}).then(function(d){return f.a.wb(o,d)}).then(function(){}))},e.Wc=function(o,u){return et(this,A0(this,o,u,O(this.ab,this)))},e.Vc=function(o,u){var f=this;return et(this,ee().then(function(){var d=u||nc(),g=Pk(o,d);if(d=Dy(d),!d)throw new R("argument-error","Invalid email link!");if(d.tenantId!==f.T())throw new R("tenant-id-mismatch");return f.ab(g)}))};function Nc(){}Nc.prototype.render=function(){},Nc.prototype.reset=function(){},Nc.prototype.getResponse=function(){},Nc.prototype.execute=function(){};function cu(){this.a={},this.b=1e12}var J0=null;cu.prototype.render=function(o,u){return this.a[this.b.toString()]=new Yd(o,u),this.b++},cu.prototype.reset=function(o){var u=Z0(this,o);o=gA(o),u&&o&&(u.delete(),delete this.a[o])},cu.prototype.getResponse=function(o){return(o=Z0(this,o))?o.getResponse():null},cu.prototype.execute=function(o){(o=Z0(this,o))&&o.execute()};function Z0(o,u){return(u=gA(u))&&o.a[u]||null}function gA(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Yd(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Ql(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():ar(this.f,"click",this.i)}Yd.prototype.getResponse=function(){return e_(this),this.b},Yd.prototype.execute=function(){e_(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=M3();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Yd.prototype.delete=function(){e_(this),this.g=!0,clearTimeout(this.a),this.a=null,qn(this.f,"click",this.i)};function e_(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function t_(){}Y(t_,"FACTOR_ID","phone");function n_(){}n_.prototype.g=function(){return J0||(J0=new cu),ee(J0)},n_.prototype.c=function(){};var r_=null;function i_(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var RB=new ti(Jh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),PB=new co(3e4,6e4);i_.prototype.g=function(o){var u=this;return new me(function(f,d){var g=setTimeout(function(){d(new R("network-request-failed"))},PB.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var E=c.grecaptcha.render;c.grecaptcha.render=function(k,x){return k=E(k,x),u.b++,k},clearTimeout(g),f(c.grecaptcha)}else clearTimeout(g),d(new R("internal-error"));delete c[u.a]};var _=jm(RB,{onload:u.a,hl:o||""});ee(Ky(_)).o(function(){clearTimeout(g),d(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),f(c.grecaptcha)})},i_.prototype.c=function(){this.b--};var o_=null;function s_(o,u,f,d,g,_,E){if(Y(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,E?(r_||(r_=new n_),E=r_):(o_||(o_=new i_),E=o_),this.m=E,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[_A])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[OB]==="invisible",!c.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Ql(u)||!this.i&&Ql(u).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new xr(o,_||null,g||null),this.u=d||function(){return null};var k=this;this.l=[];var x=this.a[mA];this.a[mA]=function(ie){if(wA(k,ie),typeof x=="function")x(ie);else if(typeof x=="string"){var Ne=qe(x,c);typeof Ne=="function"&&Ne(ie)}};var F=this.a[yA];this.a[yA]=function(){if(wA(k,null),typeof F=="function")F();else if(typeof F=="string"){var ie=qe(F,c);typeof ie=="function"&&ie()}}}var mA="callback",yA="expired-callback",_A="sitekey",OB="size";function wA(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function DB(o,u){Rr(o.l,function(f){return f==u})}function a_(o,u){return o.h.push(u),u.oa(function(){Xh(o.h,u)}),u}e=s_.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=a_(this,ee().then(function(){if(hd()&&!Or())return fd();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,ye(o.s,eV,{})}).then(function(u){o.a[_A]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Xd(this);var o=this;return a_(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=Ql(u);u=o3("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Xd(this);var o=this;return a_(this,this.render().then(function(u){return new me(function(f){var d=o.g.getResponse(u);if(d)f(d);else{var g=function(_){_&&(DB(o,g),f(_))};o.l.push(g),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Xd(this),this.c!==null&&this.g.reset(this.c)};function Xd(o){if(o.J)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Xd(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Ql(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function u_(o,u,f){var d=!1;try{this.b=f||X.app()}catch{throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new R("invalid-api-key");var g=this,_=null;try{_=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=X.SDK_VERSION?Xa(X.SDK_VERSION,_):null,s_.call(this,f,o,u,function(){try{var E=g.b.auth().la()}catch{E=null}return E},_,fs(Ci),d)}M(u_,s_);function EA(o,u,f,d){e:{f=Array.prototype.slice.call(f);for(var g=0,_=!1,E=0;E<u.length;E++)if(u[E].optional)_=!0;else{if(_)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(_=u.length,f.length<g||_<f.length)d="Expected "+(g==_?g==1?"1 argument":g+" arguments":g+"-"+_+" arguments")+" but got "+f.length+".";else{for(g=0;g<f.length;g++)if(_=u[g].optional&&f[g]===void 0,!u[g].M(f[g])&&!_){if(u=u[g],0>g||g>=TA.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");f=TA[g],d=(d?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new R("argument-error",o+" failed: "+d)}var TA="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Q(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function l_(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function lt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:C}}function fu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function ui(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function xB(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function LB(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Mr)}}}function MB(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof X.app.App)}}}function vo(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function IA(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function hu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function c_(o,u){return C(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function SA(o){return C(o)&&typeof o.uid=="string"}function Jd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function ot(o,u,f,d){return{name:f||"",K:o.K+" or "+u.K,optional:!!d,M:function(g){return o.M(g)||u.M(g)}}}function Ge(o,u){for(var f in u){var d=u[f].name;o[d]=kA(d,o[f],u[f].j)}}function bA(o,u){for(var f in u){var d=u[f].name;d!==f&&Object.defineProperty(o,d,{get:B(function(g){return this[g]},f),set:B(function(g,_,E,k){EA(g,[E],[k],!0),this[_]=k},d,f,u[f].lb),enumerable:!0})}}function st(o,u,f,d){o[u]=kA(u,f,d)}function kA(o,u,f){function d(){var E=Array.prototype.slice.call(arguments);return EA(g,f,E),u.apply(this,E)}if(!f)return u;var g=FB(o),_;for(_ in u)d[_]=u[_];for(_ in u.prototype)d.prototype[_]=u.prototype[_];return d}function FB(o){return o=o.split("."),o[o.length-1]}Ge(Mr.prototype,{kb:{name:"applyActionCode",j:[Q("code")]},Sa:{name:"checkActionCode",j:[Q("code")]},ob:{name:"confirmPasswordReset",j:[Q("code"),Q("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Q("email"),Q("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Q("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Q("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ot(lt(),fu(),"nextOrObserver"),fu("opt_error",!0),fu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ot(lt(),fu(),"nextOrObserver"),fu("opt_error",!0),fu("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Q("email"),ot(lt("opt_actionCodeSettings",!0),ui(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Q("email"),lt("actionCodeSettings")]},yb:{name:"setPersistence",j:[Q("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[vo()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[vo()]},Tc:{name:"signInWithCustomToken",j:[Q("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Q("email"),Q("password")]},Vc:{name:"signInWithEmailLink",j:[Q("email"),Q("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Q("phoneNumber"),Jd()]},Xc:{name:"signInWithPopup",j:[hu()]},Yc:{name:"signInWithRedirect",j:[hu()]},dd:{name:"updateCurrentUser",j:[ot(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Wn)}}}(),ui(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Q(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Q("url"),lt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Q("code")]}}),bA(Mr.prototype,{lc:{name:"languageCode",lb:ot(Q(),ui(),"languageCode")},ti:{name:"tenantId",lb:ot(Q(),ui(),"tenantId")}}),Mr.Persistence=iu,Mr.Persistence.LOCAL="local",Mr.Persistence.SESSION="session",Mr.Persistence.NONE="none",Ge(Wn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[l_("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[l_("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[vo()]},rb:{name:"linkWithCredential",j:[vo()]},Dc:{name:"linkWithPhoneNumber",j:[Q("phoneNumber"),Jd()]},Ec:{name:"linkWithPopup",j:[hu()]},Fc:{name:"linkWithRedirect",j:[hu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[vo()]},ub:{name:"reauthenticateWithCredential",j:[vo()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Q("phoneNumber"),Jd()]},Nc:{name:"reauthenticateWithPopup",j:[hu()]},Oc:{name:"reauthenticateWithRedirect",j:[hu()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ot(lt("opt_actionCodeSettings",!0),ui(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Q(null,!0)]},cd:{name:"unlink",j:[Q("provider")]},Cb:{name:"updateEmail",j:[Q("email")]},Db:{name:"updatePassword",j:[Q("password")]},ed:{name:"updatePhoneNumber",j:[vo("phone")]},Eb:{name:"updateProfile",j:[lt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Q("email"),ot(lt("opt_actionCodeSettings",!0),ui(null,!0),"opt_actionCodeSettings",!0)]}}),Ge(cu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ge(Nc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ge(me.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),bA(WC.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:l_("appVerificationDisabledForTesting")}}),Ge(C0.prototype,{confirm:{name:"confirm",j:[Q("verificationCode")]}}),st(eu,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[sj,aj,uj,oj],d=0;d<f.length;d++)if(u=f[d](o))return u;return null},[ot(Q(),lt(),"json")]),st(lr,"credential",function(o,u){return new fo(o,u)},[Q("email"),Q("password")]),Ge(fo.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),Ge(ks.prototype,{Ca:{name:"addScope",j:[Q("scope")]},Ka:{name:"setCustomParameters",j:[lt("customOAuthParameters")]}}),st(ks,"credential",Ck,[ot(Q(),lt(),"token")]),st(lr,"credentialWithLink",Pk,[Q("email"),Q("emailLink")]),Ge(Cs.prototype,{Ca:{name:"addScope",j:[Q("scope")]},Ka:{name:"setCustomParameters",j:[lt("customOAuthParameters")]}}),st(Cs,"credential",Ak,[ot(Q(),lt(),"token")]),Ge(As.prototype,{Ca:{name:"addScope",j:[Q("scope")]},Ka:{name:"setCustomParameters",j:[lt("customOAuthParameters")]}}),st(As,"credential",Nk,[ot(Q(),ot(lt(),ui()),"idToken"),ot(Q(),ui(),"accessToken",!0)]),Ge(nu.prototype,{Ka:{name:"setCustomParameters",j:[lt("customOAuthParameters")]}}),st(nu,"credential",Rk,[ot(Q(),lt(),"token"),Q("secret",!0)]),Ge(zn.prototype,{Ca:{name:"addScope",j:[Q("scope")]},credential:{name:"credential",j:[ot(Q(),ot(lt(),ui()),"optionsOrIdToken"),ot(Q(),ui(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[lt("customOAuthParameters")]}}),Ge(Ri.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),Ge(Ss.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),st(Pi,"credential",Ok,[Q("verificationId"),Q("verificationCode")]),Ge(Pi.prototype,{gb:{name:"verifyPhoneNumber",j:[ot(Q(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?c_(f.session,lc)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?c_(f.session,wd)&&SA(f.multiFactorHint):f.session&&f.multiFactorUid?c_(f.session,wd)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Jd()]}}),Ge(ho.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),Ge(R.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Ge(fc.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Ge(Fy.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Ge(R0.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Ge(N0.prototype,{Rc:{name:"resolveSignIn",j:[IA()]}}),Ge(O0.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[IA(),Q("displayName",!0)]},bd:{name:"unenroll",j:[ot({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:SA},Q(),"multiFactorInfoIdentifier")]}}),Ge(u_.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),st(by,"parseLink",lk,[Q("link")]),st(t_,"assertion",function(o){return new YC(o)},[vo("phone")]),function(){if(typeof X<"u"&&X.INTERNAL&&X.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:dd,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Sy,VERIFY_AND_CHANGE_EMAIL:ac,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Mr,AuthCredential:eu,Error:R};st(o,"EmailAuthProvider",lr,[]),st(o,"FacebookAuthProvider",ks,[]),st(o,"GithubAuthProvider",Cs,[]),st(o,"GoogleAuthProvider",As,[]),st(o,"TwitterAuthProvider",nu,[]),st(o,"OAuthProvider",zn,[Q("providerId")]),st(o,"SAMLAuthProvider",kk,[Q("providerId")]),st(o,"PhoneAuthProvider",Pi,[LB()]),st(o,"RecaptchaVerifier",u_,[ot(Q(),xB(),"recaptchaContainer"),lt("recaptchaParameters",!0),MB()]),st(o,"ActionCodeURL",by,[]),st(o,"PhoneMultiFactorGenerator",t_,[]),X.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Mr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),X.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),X.registerVersion("@firebase/auth","0.16.8"),X.INTERNAL.extendNamespace({User:Wn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var h6="@firebase/database",d6="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xx="";function Jx(e){Xx=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p6=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),wt(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:jf(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v6=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return nr(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zx=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new p6(t)}}catch{}return new v6},Hs=Zx("localStorage"),yE=Zx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qu=new Aa("@firebase/database"),eL=function(){var e=1;return function(){return e++}}(),tL=function(e){var t=Dz(e),n=new Nz;n.update(t);var r=n.digest();return el.encodeByteArray(r)},_h=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=_h.apply(null,i):typeof i=="object"?n+=wt(i):n+=i,n+=" "}return n},ta=null,jN=!0,nL=function(e,t){$(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(qu.logLevel=ge.VERBOSE,ta=qu.log.bind(qu),t&&yE.set("logging_enabled",!0)):typeof e=="function"?ta=e:(ta=null,yE.remove("logging_enabled"))},Nt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(jN===!0&&(jN=!1,ta===null&&yE.get("logging_enabled")===!0&&nL(!0)),ta){var n=_h.apply(null,e);ta(n)}},wh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Nt.apply(void 0,he([e],Bt(t)))}},_E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+_h.apply(void 0,he([],Bt(e)));qu.error(n)},Ei=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+_h.apply(void 0,he([],Bt(e)));throw qu.error(n),new Error(n)},zt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+_h.apply(void 0,he([],Bt(e)));qu.warn(n)},g6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Og=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},m6=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xi="[MIN_NAME]",Ti="[MAX_NAME]",Na=function(e,t){if(e===t)return 0;if(e===Xi||t===Ti)return-1;if(t===Xi||e===Ti)return 1;var n=kv(e),r=kv(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},y6=function(e,t){return e===t?0:e<t?-1:1},Uc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+wt(t))},EI=function(e){if(typeof e!="object"||e===null)return wt(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=wt(t[i]),r+=":",r+=EI(e[t[i]]);return r+="}",r},rL=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function St(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var iL=function(e){$(!Og(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var p=h.join(""),v="";for(c=0;c<64;c+=8){var m=parseInt(p.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),v=v+m}return v.toLowerCase()},_6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},w6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function E6(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var T6=new RegExp("^-?(0*)\\d{1,10}$"),oL=-2147483648,TI=2147483647,kv=function(e){if(T6.test(e)){var t=Number(e);if(t>=oL&&t<=TI)return t}return null},Pl=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw zt("Exception was thrown by user callback.",n),t},Math.floor(0))}},I6=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},af=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S6=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){zt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b6=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zt(t)},e}(),uf=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var II="5",sL="v",aL="s",uL="r",lL="f",cL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fL="ls",k6="p",wE="ac",hL="websocket",dL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SI=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hs.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Hs.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function C6(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function pL(e,t,n){$(typeof t=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");var r;if(t===hL)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===dL)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);C6(e)&&(n.ns=e.namespace);var i=[];return St(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A6=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),nr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return Vx(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j_={},V_={};function bI(e){var t=e.toString();return j_[t]||(j_[t]=new A6),j_[t]}function N6(e,t){var n=e.toString();return V_[n]||(V_[n]=t()),V_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R6=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(p){l[p]&&Pl(function(){r.onMessage_(l[p])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VN="start",P6="close",O6="pLPCommand",D6="pRTLPCB",vL="id",gL="pw",mL="ser",x6="cb",L6="seg",M6="ts",F6="d",U6="dframe",yL=1870,_L=30,j6=yL-_L,V6=25e3,B6=3e4,kI=function(){function e(t,n,r,i,s,a,l){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wh(t),this.stats_=bI(n),this.urlFn=function(h){return c.appCheckToken&&(h[wE]=c.appCheckToken),pL(n,dL,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new R6(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(B6)),m6(function(){if(!r.isClosed_){r.scriptTagHolder=new $6(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Bt(a,5),h=c[0],p=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===VN)r.id=p,r.password=v;else if(h===P6)p?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(p,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Bt(a,2),h=c[0],p=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,p)},function(){r.onClosed_()},r.urlFn);var i={};i[VN]="t",i[mL]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[x6]=r.scriptTagHolder.uniqueCallbackIdentifier),i[sL]=II,r.transportSessionId&&(i[aL]=r.transportSessionId),r.lastSessionId&&(i[fL]=r.lastSessionId),r.applicationId&&(i[k6]=r.applicationId),r.appCheckToken&&(i[wE]=r.appCheckToken),typeof location<"u"&&location.hostname&&cL.test(location.hostname)&&(i[uL]=lL);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_6()&&!w6()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=wt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=pz(n),i=rL(r,j6),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[U6]="t",r[vL]=t,r[gL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=wt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),$6=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=eL(),window[O6+this.uniqueCallbackIdentifier]=t,window[D6+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Nt("frame writing exception"),c.stack&&Nt(c.stack),Nt(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Nt("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[vL]=this.myID,t[gL]=this.myPW,t[mL]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+_L+r.length<=yL){var a=this.pendingSegs.shift();r=r+"&"+L6+i+"="+a.seg+"&"+M6+i+"="+a.ts+"&"+F6+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(V6)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Nt("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q6=16384,z6=45e3,Cv=null;typeof MozWebSocket<"u"?Cv=MozWebSocket:typeof WebSocket<"u"&&(Cv=WebSocket);var Bs=function(){function e(t,n,r,i,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wh(this.connId),this.stats_=bI(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[sL]=II,typeof location<"u"&&location.hostname&&cL.test(location.hostname)&&(s[uL]=lL),n&&(s[aL]=n),r&&(s[fL]=r),i&&(s[wE]=i),pL(t,hL,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hs.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!zx()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Cv(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var p=h.message||h.data;p&&r.log_(p),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Cv!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return Hs.isInMemoryStorage||Hs.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){Hs.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=jf(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if($(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=wt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=rL(n,q6);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(z6))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W6=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[kI,Bs]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Bs&&Bs.isAvailable(),s=i&&!Bs.previouslyFailed();if(t.webSocketOnly&&(i||zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Bs];else{var a=this.transports_=[];try{for(var l=xt(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H6=6e4,K6=5e3,G6=10*1024,Q6=100*1024,B_="t",BN="d",Y6="s",$N="r",X6="e",qN="o",zN="a",WN="n",HN="p",J6="h",wL=function(){function e(t,n,r,i,s,a,l,c,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wh("c:"+this.id+":"),this.transportManager_=new W6(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=af(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>Q6?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>G6?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(B_ in t){var n=t[B_];n===zN?this.upgradeIfSecondaryHealthy_():n===$N?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===qN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Uc("t",t),r=Uc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:HN,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:WN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Uc("t",t),r=Uc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Uc(B_,t);if(BN in t){var r=t[BN];if(n===J6)this.onHandshake_(r);else if(n===WN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Y6?this.onConnectionShutdown_(r):n===$N?this.onReset_(r):n===X6?_E("Server Error: "+r):n===qN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_E("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),II!==r&&zt("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),af(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(H6))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):af(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(K6))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:HN,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EL=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TL=function(){function e(t){this.allowedEvents_=t,this.listeners_={},$(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=he([],Bt(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){$(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KN=function(e){H(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!vI()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return $(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(TL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GN=32,QN=768,Ae=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function ke(){return new Ae("")}function de(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Qo(e){return e.pieces_.length-e.pieceNum_}function xe(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ae(e.pieces_,t)}function CI(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Z6(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Vf(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function IL(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ae(t,0)}function He(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ae)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Ae(n,0)}function pe(e){return e.pieceNum_>=e.pieces_.length}function wn(e,t){var n=de(e),r=de(t);if(n===null)return t;if(n===r)return wn(xe(e),xe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function eW(e,t){for(var n=Vf(e,0),r=Vf(t,0),i=0;i<n.length&&i<r.length;i++){var s=Na(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function AI(e,t){if(Qo(e)!==Qo(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function vr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Qo(e)>Qo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var tW=function(){function e(t,n){this.errorPrefix_=n,this.parts_=Vf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Pg(this.parts_[r]);SL(this)}return e}();function nW(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Pg(t),SL(e)}function rW(e){var t=e.parts_.pop();e.byteLength_-=Pg(t),e.parts_.length>0&&(e.byteLength_-=1)}function SL(e){if(e.byteLength_>QN)throw new Error(e.errorPrefix_+"has a key path longer than "+QN+" bytes ("+e.byteLength_+").");if(e.parts_.length>GN)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+GN+") or object contains a cycle "+js(e))}function js(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iW=function(e){H(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return $(n==="visible","Unknown event type: "+n),[this.visible_]},t}(TL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jc=1e3,oW=60*5*1e3,sW=3*1e3,YN=30*1e3,aW=1.3,uW=3e4,lW="server_kill",XN=3,na=function(e){H(t,e);function t(n,r,i,s,a,l,c,h){var p=e.call(this)||this;if(p.repoInfo_=n,p.applicationId_=r,p.onDataUpdate_=i,p.onConnectStatus_=s,p.onServerInfoUpdate_=a,p.authTokenProvider_=l,p.appCheckTokenProvider_=c,p.authOverride_=h,p.id=t.nextPersistentConnectionId_++,p.log_=wh("p:"+p.id+":"),p.interruptReasons_={},p.listens=new Map,p.outstandingPuts_=[],p.outstandingGets_=[],p.outstandingPutCount_=0,p.outstandingGetCount_=0,p.onDisconnectRequestQueue_=[],p.connected_=!1,p.reconnectDelay_=jc,p.maxReconnectDelay_=oW,p.securityDebugCallback_=null,p.lastSessionId=null,p.establishConnectionTimer_=null,p.visible_=!1,p.requestCBHash_={},p.requestNumber_=0,p.realtime_=null,p.authToken_=null,p.appCheckToken_=null,p.forceTokenRefresh_=!1,p.invalidAuthTokenCount_=0,p.invalidAppCheckTokenCount_=0,p.firstConnection_=!0,p.lastConnectionAttemptTime_=null,p.lastConnectionEstablishedTime_=null,h&&!zx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return iW.getInstance().on("visible",p.onVisible_,p),n.host.indexOf("fblocal")===-1&&KN.getInstance().on("online",p.onOnline_,p),p}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(wt(a)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new Pt,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},sW),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var p=h.d,v=h.s;t.warnOnListenWarnings_(p,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,p))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&nr(n,"w")){var i=pa(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();zt("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||Cz(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=YN)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=kz(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+wt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):_E("Unrecognized action received from server: "+wt(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=jc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>uW&&(this.reconnectDelay_=jc),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aW)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,v,m,y,w,I,C=this;return A(this,function(T){switch(T.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},p=function(S){$(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(S)},this.realtime_={close:h,sendRequest:p},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,T.label=1;case 1:return T.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return m=Bt.apply(void 0,[T.sent(),2]),y=m[0],w=m[1],l?Nt("getToken() completed but was canceled"):(Nt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,c=new wL(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(S){zt(S+" ("+C.repoInfo_.toString()+")"),C.interrupt(lW)},a)),[3,4];case 3:return I=T.sent(),this.log_("Failed to get token: "+I),l||(this.repoInfo_.nodeAdmin&&zt(I),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){Nt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Nt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],gE(this.interruptReasons_)&&(this.reconnectDelay_=jc,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return EI(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Ae(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){Nt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=XN&&(this.reconnectDelay_=YN,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){Nt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=XN&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=xt(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,xt(c.values())),p=h.next();!p.done;p=h.next()){var v=p.value;this.sendListen_(v)}}catch(w){i={error:w}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+Xx.replace(/\./g,"-")]=1,vI()?n["framework.cordova"]=1:qx()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=KN.getInstance().currentlyOnline();return gE(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(EL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dg=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new we(Xi,t),i=new we(Xi,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return we.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gp,bL=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return gp},set:function(n){gp=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return Na(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw Nl("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return we.MIN},t.prototype.maxPost=function(){return new we(Ti,gp)},t.prototype.makePost=function(n,r){return $(typeof n=="string","KeyIndex indexValue must always be a string."),new we(n,gp)},t.prototype.toString=function(){return".key"},t}(Dg),gi=new bL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mp=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),qr=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??Vi.EMPTY_NODE,this.right=s??Vi.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Vi.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Vi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),cW=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new qr(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Vi=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,qr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,qr.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new mp(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new mp(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new mp(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new mp(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new cW,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(e,t){return Na(e.name,t.name)}function NI(e,t){return Na(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EE;function hW(e){EE=e}var kL=function(e){return typeof e=="number"?"number:"+iL(e):"string:"+e},CL=function(e){if(e.isLeafNode()){var t=e.val();$(typeof t=="string"||typeof t=="number"||typeof t=="object"&&nr(t,".sv"),"Priority must be a string or number.")}else $(e===EE||e.isEmpty(),"priority of unexpected type.");$(e===EE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JN,nl=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),CL(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return JN},set:function(t){JN=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return pe(t)?this:de(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=de(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:($(r!==".priority"||Qo(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(xe(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+kL(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=iL(this.value_):t+=this.value_,this.lazyHash_=tL(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:($(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return $(i>=0,"Unknown leaf type: "+n),$(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AL,NL;function dW(e){AL=e}function pW(e){NL=e}var vW=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Na(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return we.MIN},t.prototype.maxPost=function(){return new we(Ti,new nl("[PRIORITY-POST]",NL))},t.prototype.makePost=function(n,r){var i=AL(n);return new we(r,new nl("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(Dg),Fe=new vW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gW=Math.log(2),mW=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/gW,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),Av=function(e,t,n,r){e.sort(t);var i=function(c,h){var p=h-c,v,m;if(p===0)return null;if(p===1)return v=e[c],m=n?n(v):v,new qr(m,v.node,qr.BLACK,null,null);var y=parseInt(p/2,10)+c,w=i(c,y),I=i(y+1,h);return v=e[y],m=n?n(v):v,new qr(m,v.node,qr.BLACK,w,I)},s=function(c){for(var h=null,p=null,v=e.length,m=function(T,S){var b=v-T,P=v;v-=T;var L=i(b+1,P),O=e[b],B=n?n(O):O;y(new qr(B,O.node,S,null,L))},y=function(T){h?(h.left=T,h=T):(p=T,h=T)},w=0;w<c.count;++w){var I=c.nextBitIsOne(),C=Math.pow(2,c.count-(w+1));I?m(C,qr.BLACK):(m(C,qr.BLACK),m(C,qr.RED))}return p},a=new mW(e.length),l=s(a);return new Vi(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $_,pu={},Nv=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return $(pu&&Fe,"ChildrenNode.ts has not been loaded"),$_=$_||new e({".priority":pu},{".priority":Fe}),$_},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=pa(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Vi?n:null},e.prototype.hasIndex=function(t){return nr(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){$(t!==gi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(we.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=Av(r,t.getCompare()):l=pu;var c=t.toString(),h=te({},this.indexSet_);h[c]=t;var p=te({},this.indexes_);return p[c]=l,new e(p,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Sv(this.indexes_,function(s,a){var l=pa(r.indexSet_,a);if($(l,"Missing index implementation for "+a),s===pu)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(we.Wrap),p=h.getNext();p;)p.name!==t.name&&c.push(p),p=h.getNext();return c.push(t),Av(c,l.getCompare())}else return pu;else{var v=n.get(t.name),m=s;return v&&(m=m.remove(new we(t.name,v))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Sv(this.indexes_,function(i){if(i===pu)return i;var s=n.get(t.name);return s?i.remove(new we(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vc,le=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&CL(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Vc||(Vc=new e(new Vi(NI),null,Nv.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Vc},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?Vc:n},e.prototype.getChild=function(t){var n=de(t);return n===null?this:this.getImmediateChild(n).getChild(xe(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if($(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new we(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Vc:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=de(t);if(r===null)return n;$(de(t)!==".priority"||Qo(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(xe(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(Fe,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+kL(this.getPriority().val())+":"),this.forEachChild(Fe,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":tL(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new we(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new we(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new we(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,we.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,we.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Eh?-1:0},e.prototype.withIndex=function(t){if(t===gi||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===gi||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(Fe),i=n.getIterator(Fe),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===gi?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),yW=function(e){H(t,e);function t(){return e.call(this,new Vi(NI),le.EMPTY_NODE,Nv.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return le.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(le),Eh=new yW;Object.defineProperties(we,{MIN:{value:new we(Xi,le.EMPTY_NODE)},MAX:{value:new we(Ti,Eh)}});bL.__EMPTY_NODE=le.EMPTY_NODE;nl.__childrenNodeConstructor=le;hW(Eh);pW(Eh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _W=!0;function Xe(e,t){if(t===void 0&&(t=null),e===null)return le.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),$(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new nl(n,Xe(t))}if(!(e instanceof Array)&&_W){var r=[],i=!1,s=e;if(St(s,function(h,p){if(h.substring(0,1)!=="."){var v=Xe(p);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new we(h,v)))}}),r.length===0)return le.EMPTY_NODE;var a=Av(r,fW,function(h){return h.name},NI);if(i){var l=Av(r,Fe.getCompare());return new le(a,Xe(t),new Nv({".priority":l},{".priority":Fe}))}else return new le(a,Xe(t),Nv.Default)}else{var c=le.EMPTY_NODE;return St(e,function(h,p){if(nr(e,h)&&h.substring(0,1)!=="."){var v=Xe(p);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(h,v))}}),c.updatePriority(Xe(t))}}dW(Xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RI=function(e){H(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,$(!pe(n)&&de(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Na(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=Xe(n),s=le.EMPTY_NODE.updateChild(this.indexPath_,i);return new we(r,s)},t.prototype.maxPost=function(){var n=le.EMPTY_NODE.updateChild(this.indexPath_,Eh);return new we(Ti,n)},t.prototype.toString=function(){return Vf(this.indexPath_,0).join("/")},t}(Dg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wW=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Na(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return we.MIN},t.prototype.maxPost=function(){return we.MAX},t.prototype.makePost=function(n,r){var i=Xe(n);return new we(r,i)},t.prototype.toString=function(){return".value"},t}(Dg),PI=new wW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",TE="-",RL="z",PL=786,EW=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=rl.charAt(n%64),n=Math.floor(n/64);$(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=rl.charAt(t[i]);return $(a.length===20,"nextPushId: Length should be 20."),a}}(),ZN=function(e){if(e===""+TI)return TE;var t=kv(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<PL)return n.push(TE),n.join("");for(var i=n.length-1;i>=0&&n[i]===RL;)i--;if(i===-1)return Ti;var s=n[i],a=rl.charAt(rl.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},eR=function(e){if(e===""+oL)return Xi;var t=kv(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===TE?n.length===1?""+TI:(delete n[n.length-1],n.join("")):(n[n.length-1]=rl.charAt(rl.indexOf(n[n.length-1])-1),n.join("")+RL.repeat(PL-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(e){return{type:"value",snapshotNode:e}}function il(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Bf(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function $f(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function TW(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OI=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){$(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(Bf(n,l)):$(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(il(n,r)):a.trackChildChange($f(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Fe,function(i,s){n.hasChild(i)||r.trackChildChange(Bf(i,s))}),n.isLeafNode()||n.forEachChild(Fe,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange($f(i,s,a))}else r.trackChildChange(il(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?le.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DL=function(){function e(t){this.indexedFilter_=new OI(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new we(n,r))||(r=le.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=le.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(le.EMPTY_NODE);var s=this;return n.forEachChild(Fe,function(a,l){s.matches(new we(a,l))||(i=i.updateImmediateChild(a,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IW=function(){function e(t){this.rangedFilter_=new DL(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new we(n,r))||(r=le.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=le.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(le.EMPTY_NODE);var h=void 0,p=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();v=function(C,T){return m(T,C)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&v(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&v(l,p)<=0;c?a++:i=i.updateImmediateChild(l.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(S,b){return l(b,S)}}else a=this.index_.getCompare();var c=t;$(c.numChildren()===this.limit_,"");var h=new we(n,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var m=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,p,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var w=y==null?1:a(y,h),I=v&&!r.isEmpty()&&w>=0;if(I)return s!=null&&s.trackChildChange($f(n,r,m)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Bf(n,m));var C=c.updateImmediateChild(n,le.EMPTY_NODE),T=y!=null&&this.rangedFilter_.matches(y);return T?(s!=null&&s.trackChildChange(il(y.name,y.node)),C.updateImmediateChild(y.name,y.node)):C}else return r.isEmpty()?t:v&&a(p,h)>=0?(s!=null&&(s.trackChildChange(Bf(p.name,p.node)),s.trackChildChange(il(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(p.name,le.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xL=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xi},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ti},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Fe},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function SW(e){return e.loadsAllData()?new OI(e.getIndex()):e.hasLimit()?new IW(e):new DL(e)}function bW(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function kW(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function IE(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function CW(e,t,n){var r;if(e.index_===gi)typeof t=="string"&&(t=ZN(t)),r=IE(e,t,n);else{var i=void 0;n==null?i=Ti:i=ZN(n),r=IE(e,t,i)}return r.startAfterSet_=!0,r}function SE(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function AW(e,t,n){var r,i;return e.index_===gi?(typeof t=="string"&&(t=eR(t)),i=SE(e,t,n)):(n==null?r=Xi:r=eR(n),i=SE(e,t,r)),i.endBeforeSet_=!0,i}function xg(e,t){var n=e.copy();return n.index_=t,n}function tR(e){var t={};if(e.isDefault())return t;var n;return e.index_===Fe?n="$priority":e.index_===PI?n="$value":e.index_===gi?n="$key":($(e.index_ instanceof RI,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=wt(n),e.startSet_&&(t.startAt=wt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+wt(e.indexStartName_))),e.endSet_&&(t.endAt=wt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+wt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function nR(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Fe&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NW=function(e){H(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=wh("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:($(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var p=tR(n._queryParams);this.restRequest_(l+".json",p,function(v,m){var y=m;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(l,y,!1,i),pa(a.listens_,c)===h){var w;v?v===401?w="permission_denied":w="rest_error:"+v:w="ok",s(w,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=tR(n._queryParams),s=n._path.toString(),a=new Pt;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=Bt(a,2),c=l[0],h=l[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var p=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+Az(r);s.log_("Sending REST request for "+p);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+p+" received. status:",v.status,"response:",v.responseText);var m=null;if(v.status>=200&&v.status<300){try{m=jf(v.responseText)}catch{zt("Failed to parse JSON response for "+p+": "+v.responseText)}i(null,m)}else v.status!==401&&v.status!==404&&zt("Got unsuccessful REST response for "+p+" Status: "+v.status),i(v.status);i=null}},v.open("GET",p,!0),v.send()})},t}(EL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RW=function(){function e(){this.rootNode_=le.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(){return{value:null,children:new Map}}function Ol(e,t,n){if(pe(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=de(t);e.children.has(r)||e.children.set(r,Rv());var i=e.children.get(r);t=xe(t),Ol(i,t,n)}}function bE(e,t){if(pe(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Fe,function(s,a){Ol(e,new Ae(s),a)}),bE(e,t)}else if(e.children.size>0){var r=de(t);if(t=xe(t),e.children.has(r)){var i=bE(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function kE(e,t,n){e.value!==null?n(t,e.value):PW(e,function(r,i){var s=new Ae(t.toString()+"/"+r);kE(i,s,n)})}function PW(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LL=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=te({},t);return this.last_&&St(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rR=10*1e3,OW=30*1e3,DW=5*60*1e3,xW=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new LL(t);var r=rR+(OW-rR)*Math.random();af(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;St(n,function(s,a){a>0&&nr(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),af(this.reportStats_.bind(this),Math.floor(Math.random()*2*DW))},e}();function LW(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Hr||(Hr={}));function DI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function LI(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MW=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Hr.ACK_USER_WRITE,this.source=DI()}return e.prototype.operationForChild=function(t){if(pe(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ae(t));return new e(ke(),n,this.revert)}else return $(de(this.path)===t,"operationForChild called for unrelated child."),new e(xe(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ML=function(){function e(t,n){this.source=t,this.path=n,this.type=Hr.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return pe(this.path)?new e(this.source,ke()):new e(this.source,xe(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lg=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Hr.OVERWRITE}return e.prototype.operationForChild=function(t){return pe(this.path)?new e(this.source,ke(),this.snap.getImmediateChild(t)):new e(this.source,xe(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MI=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Hr.MERGE}return e.prototype.operationForChild=function(t){if(pe(this.path)){var n=this.children.subtree(new Ae(t));return n.isEmpty()?null:n.value?new Lg(this.source,ke(),n.value):new e(this.source,ke(),n)}else return $(de(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,xe(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yo=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(pe(t))return this.isFullyInitialized()&&!this.filtered_;var n=de(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FW=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function UW(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(TW(a.childName,a.snapshotNode))}),Bc(e,i,"child_removed",t,r,n),Bc(e,i,"child_added",t,r,n),Bc(e,i,"child_moved",s,r,n),Bc(e,i,"child_changed",t,r,n),Bc(e,i,"value",t,r,n),i}function Bc(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return VW(e,l,c)}),a.forEach(function(l){var c=jW(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function jW(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function VW(e,t,n){if(t.childName==null||n.childName==null)throw Nl("Should only compare child_ events.");var r=new we(t.childName,t.snapshotNode),i=new we(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(e,t){return{eventCache:e,serverCache:t}}function lf(e,t,n,r){return Mg(new Yo(t,n,r),e.serverCache)}function FL(e,t,n,r){return Mg(e.eventCache,new Yo(t,n,r))}function Pv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function va(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q_,BW=function(){return q_||(q_=new Vi(y6)),q_},rr=function(){function e(t,n){n===void 0&&(n=BW()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return St(t,function(r,i){n=n.set(new Ae(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:ke(),value:this.value};if(pe(t))return null;var r=de(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(xe(t),n);if(s!=null){var a=He(new Ae(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(pe(t))return this;var n=de(t),r=this.children.get(n);return r!==null?r.subtree(xe(t)):new e(null)},e.prototype.set=function(t,n){if(pe(t))return new e(n,this.children);var r=de(t),i=this.children.get(r)||new e(null),s=i.set(xe(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(pe(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=de(t),r=this.children.get(n);if(r){var i=r.remove(xe(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(pe(t))return this.value;var n=de(t),r=this.children.get(n);return r?r.get(xe(t)):null},e.prototype.setTree=function(t,n){if(pe(t))return n;var r=de(t),i=this.children.get(r)||new e(null),s=i.setTree(xe(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(ke(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(He(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,ke(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(pe(t))return null;var s=de(t),a=this.children.get(s);return a?a.findOnPath_(xe(t),He(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,ke(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(pe(t))return this;this.value&&r(n,this.value);var i=de(t),s=this.children.get(i);return s?s.foreachOnPath_(xe(t),He(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(ke(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(He(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zi=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new rr(null))},e}();function cf(e,t,n){if(pe(t))return new zi(new rr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=wn(i,t);return s=s.updateChild(a,n),new zi(e.writeTree_.set(i,s))}else{var l=new rr(n),c=e.writeTree_.setTree(t,l);return new zi(c)}}function CE(e,t,n){var r=e;return St(n,function(i,s){r=cf(r,He(t,i),s)}),r}function iR(e,t){if(pe(t))return zi.empty();var n=e.writeTree_.setTree(t,new rr(null));return new zi(n)}function AE(e,t){return Ra(e,t)!=null}function Ra(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(wn(n.path,t)):null}function oR(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Fe,function(r,i){t.push(new we(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new we(r,i.value))}),t}function Bo(e,t){if(pe(t))return e;var n=Ra(e,t);return n!=null?new zi(new rr(n)):new zi(e.writeTree_.subtree(t))}function NE(e){return e.writeTree_.isEmpty()}function ol(e,t){return UL(ke(),e.writeTree_,t)}function UL(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?($(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=UL(He(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(He(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(e,t){return $L(t,e)}function $W(e,t,n,r,i){$(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=cf(e.visibleWrites,t,n)),e.lastWriteId=r}function qW(e,t,n,r){$(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=CE(e.visibleWrites,t,n),e.lastWriteId=r}function zW(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function WW(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});$(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&HW(l,r.path)?i=!1:vr(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return KW(e),!0;if(r.snap)e.visibleWrites=iR(e.visibleWrites,r.path);else{var c=r.children;St(c,function(h){e.visibleWrites=iR(e.visibleWrites,He(r.path,h))})}return!0}else return!1}function HW(e,t){if(e.snap)return vr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&vr(He(e.path,n),t))return!0;return!1}function KW(e){e.visibleWrites=jL(e.allWrites,GW,ke()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function GW(e){return e.visible}function jL(e,t,n){for(var r=zi.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)vr(n,a)?(l=wn(n,a),r=cf(r,l,s.snap)):vr(a,n)&&(l=wn(a,n),r=cf(r,ke(),s.snap.getChild(l)));else if(s.children){if(vr(n,a))l=wn(n,a),r=CE(r,l,s.children);else if(vr(a,n))if(l=wn(a,n),pe(l))r=CE(r,ke(),s.children);else{var c=pa(s.children,de(l));if(c){var h=c.getChild(xe(l));r=cf(r,ke(),h)}}}else throw Nl("WriteRecord should have .snap or .children")}}return r}function VL(e,t,n,r,i){if(!r&&!i){var s=Ra(e.visibleWrites,t);if(s!=null)return s;var a=Bo(e.visibleWrites,t);if(NE(a))return n;if(n==null&&!AE(a,ke()))return null;var l=n||le.EMPTY_NODE;return ol(a,l)}else{var c=Bo(e.visibleWrites,t);if(!i&&NE(c))return n;if(!i&&n==null&&!AE(c,ke()))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(vr(m.path,t)||vr(t,m.path))},p=jL(e.allWrites,h,t),l=n||le.EMPTY_NODE;return ol(p,l)}}function QW(e,t,n){var r=le.EMPTY_NODE,i=Ra(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Fe,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=Bo(e.visibleWrites,t);return n.forEachChild(Fe,function(l,c){var h=ol(Bo(s,new Ae(l)),c);r=r.updateImmediateChild(l,h)}),oR(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=Bo(e.visibleWrites,t);return oR(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function YW(e,t,n,r,i){$(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=He(t,n);if(AE(e.visibleWrites,s))return null;var a=Bo(e.visibleWrites,s);return NE(a)?i.getChild(n):ol(a,i.getChild(n))}function XW(e,t,n,r){var i=He(t,n),s=Ra(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Bo(e.visibleWrites,i);return ol(a,r.getNode().getImmediateChild(n))}else return null}function JW(e,t){return Ra(e.visibleWrites,t)}function ZW(e,t,n,r,i,s,a){var l,c=Bo(e.visibleWrites,t),h=Ra(c,ke());if(h!=null)l=h;else if(n!=null)l=ol(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var p=[],v=a.getCompare(),m=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=m.getNext();y&&p.length<i;)v(y,r)!==0&&p.push(y),y=m.getNext();return p}else return[]}function eH(){return{visibleWrites:zi.empty(),allWrites:[],lastWriteId:-1}}function Ov(e,t,n,r){return VL(e.writeTree,e.treePath,t,n,r)}function FI(e,t){return QW(e.writeTree,e.treePath,t)}function sR(e,t,n,r){return YW(e.writeTree,e.treePath,t,n,r)}function Dv(e,t){return JW(e.writeTree,He(e.treePath,t))}function tH(e,t,n,r,i,s){return ZW(e.writeTree,e.treePath,t,n,r,i,s)}function UI(e,t,n){return XW(e.writeTree,e.treePath,t,n)}function BL(e,t){return $L(He(e.treePath,t),e.writeTree)}function $L(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nH=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,$f(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Bf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,il(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,$f(r,t.snapshotNode,i.oldSnap));else throw Nl("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rH=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),qL=new rH,jI=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new Yo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return UI(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:va(this.viewCache_),s=tH(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(e){return{filter:e}}function oH(e,t){$(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),$(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function sH(e,t,n,r,i){var s=new nH,a,l;if(n.type===Hr.OVERWRITE){var c=n;c.source.fromUser?a=RE(e,t,c.path,c.snap,r,i,s):($(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!pe(c.path),a=xv(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===Hr.MERGE){var h=n;h.source.fromUser?a=uH(e,t,h.path,h.children,r,i,s):($(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=PE(e,t,h.path,h.children,r,i,l,s))}else if(n.type===Hr.ACK_USER_WRITE){var p=n;p.revert?a=fH(e,t,p.path,r,i,s):a=lH(e,t,p.path,p.affectedTree,r,i,s)}else if(n.type===Hr.LISTEN_COMPLETE)a=cH(e,t,n.path,r,s);else throw Nl("Unknown operation type: "+n.type);var v=s.getChanges();return aH(t,a,v),{viewCache:a,changes:v}}function aH(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Pv(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(OL(Pv(t)))}}function zL(e,t,n,r,i,s){var a=t.eventCache;if(Dv(r,n)!=null)return t;var l=void 0,c=void 0;if(pe(n))if($(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=va(t),p=h instanceof le?h:le.EMPTY_NODE,v=FI(r,p);l=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var m=Ov(r,va(t));l=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{var y=de(n);if(y===".priority"){$(Qo(n)===1,"Can't have a priority with additional path components");var w=a.getNode();c=t.serverCache.getNode();var I=sR(r,n,w,c);I!=null?l=e.filter.updatePriority(w,I):l=a.getNode()}else{var C=xe(n),T=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var S=sR(r,n,a.getNode(),c);S!=null?T=a.getNode().getImmediateChild(y).updateChild(C,S):T=a.getNode().getImmediateChild(y)}else T=UI(r,y,t.serverCache);T!=null?l=e.filter.updateChild(a.getNode(),y,T,C,i,s):l=a.getNode()}}return lf(t,l,a.isFullyInitialized()||pe(n),e.filter.filtersNodes())}function xv(e,t,n,r,i,s,a,l){var c=t.serverCache,h,p=a?e.filter:e.filter.getIndexedFilter();if(pe(n))h=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);h=p.updateFullNode(c.getNode(),v,null)}else{var m=de(n);if(!c.isCompleteForPath(n)&&Qo(n)>1)return t;var y=xe(n),w=c.getNode().getImmediateChild(m),I=w.updateChild(y,r);m===".priority"?h=p.updatePriority(c.getNode(),I):h=p.updateChild(c.getNode(),m,I,y,qL,null)}var C=FL(t,h,c.isFullyInitialized()||pe(n),p.filtersNodes()),T=new jI(i,C,s);return zL(e,C,n,i,T,l)}function RE(e,t,n,r,i,s,a){var l=t.eventCache,c,h,p=new jI(i,t,s);if(pe(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=lf(t,h,!0,e.filter.filtersNodes());else{var v=de(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=lf(t,h,l.isFullyInitialized(),l.isFiltered());else{var m=xe(n),y=l.getNode().getImmediateChild(v),w=void 0;if(pe(m))w=r;else{var I=p.getCompleteChild(v);I!=null?CI(m)===".priority"&&I.getChild(IL(m)).isEmpty()?w=I:w=I.updateChild(m,r):w=le.EMPTY_NODE}if(y.equals(w))c=t;else{var C=e.filter.updateChild(l.getNode(),v,w,m,p,a);c=lf(t,C,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function aR(e,t){return e.eventCache.isCompleteForChild(t)}function uH(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var p=He(n,c);aR(t,de(p))&&(l=RE(e,l,p,h,i,s,a))}),r.foreach(function(c,h){var p=He(n,c);aR(t,de(p))||(l=RE(e,l,p,h,i,s,a))}),l}function uR(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function PE(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;pe(n)?h=r:h=new rr(null).setTree(n,r);var p=t.serverCache.getNode();return h.children.inorderTraversal(function(v,m){if(p.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),w=uR(e,y,m);c=xv(e,c,new Ae(v),w,i,s,a,l)}}),h.children.inorderTraversal(function(v,m){var y=!t.serverCache.isCompleteForChild(v)&&m.value===void 0;if(!p.hasChild(v)&&!y){var w=t.serverCache.getNode().getImmediateChild(v),I=uR(e,w,m);c=xv(e,c,new Ae(v),I,i,s,a,l)}}),c}function lH(e,t,n,r,i,s,a){if(Dv(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(pe(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return xv(e,t,n,c.getNode().getChild(n),i,s,l,a);if(pe(n)){var h=new rr(null);return c.getNode().forEachChild(gi,function(v,m){h=h.set(new Ae(v),m)}),PE(e,t,n,h,i,s,l,a)}else return t}else{var p=new rr(null);return r.foreach(function(v,m){var y=He(n,v);c.isCompleteForPath(y)&&(p=p.set(v,c.getNode().getChild(y)))}),PE(e,t,n,p,i,s,l,a)}}function cH(e,t,n,r,i){var s=t.serverCache,a=FL(t,s.getNode(),s.isFullyInitialized()||pe(n),s.isFiltered());return zL(e,a,n,r,qL,i)}function fH(e,t,n,r,i,s){var a;if(Dv(r,n)!=null)return t;var l=new jI(r,t,i),c=t.eventCache.getNode(),h=void 0;if(pe(n)||de(n)===".priority"){var p=void 0;if(t.serverCache.isFullyInitialized())p=Ov(r,va(t));else{var v=t.serverCache.getNode();$(v instanceof le,"serverChildren would be complete if leaf node"),p=FI(r,v)}p=p,h=e.filter.updateFullNode(c,p,s)}else{var m=de(n),y=UI(r,m,t.serverCache);y==null&&t.serverCache.isCompleteForChild(m)&&(y=c.getImmediateChild(m)),y!=null?h=e.filter.updateChild(c,m,y,xe(n),l,s):t.eventCache.getNode().hasChild(m)?h=e.filter.updateChild(c,m,le.EMPTY_NODE,xe(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Ov(r,va(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||Dv(r,ke())!=null,lf(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hH=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new OI(r.getIndex()),s=SW(r);this.processor_=iH(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(le.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(le.EMPTY_NODE,l.getNode(),null),p=new Yo(c,a.isFullyInitialized(),i.filtersNodes()),v=new Yo(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Mg(v,p),this.eventGenerator_=new FW(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function dH(e){return e.viewCache_.serverCache.getNode()}function pH(e){return Pv(e.viewCache_)}function vH(e,t){var n=va(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!pe(t)&&!n.getImmediateChild(de(t)).isEmpty())?n.getChild(t):null}function lR(e){return e.eventRegistrations_.length===0}function gH(e,t){e.eventRegistrations_.push(t)}function cR(e,t,n){var r=[];if(n){$(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function fR(e,t,n,r){t.type===Hr.MERGE&&t.source.queryId!==null&&($(va(e.viewCache_),"We should always have a full cache before handling merges"),$(Pv(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=sH(e.processor_,i,t,n,r);return oH(e.processor_,s.viewCache),$(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,WL(e,s.changes,s.viewCache.eventCache.getNode(),null)}function mH(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(Fe,function(s,a){r.push(il(s,a))})}return n.isFullyInitialized()&&r.push(OL(n.getNode())),WL(e,r,n.getNode(),t)}function WL(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return UW(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lv,HL=function(){function e(){this.views=new Map}return e}();function yH(e){$(!Lv,"__referenceConstructor has already been defined"),Lv=e}function _H(){return $(Lv,"Reference.ts has not been loaded"),Lv}function wH(e){return e.views.size===0}function VI(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return $(l!=null,"SyncTree gave us an op for an invalid query."),fR(l,t,n,r)}else{var c=[];try{for(var h=xt(e.views.values()),p=h.next();!p.done;p=h.next()){var l=p.value;c=c.concat(fR(l,t,n,r))}}catch(v){i={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function KL(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var l=Ov(n,i?r:null),c=!1;l?c=!0:r instanceof le?(l=FI(n,r),c=!1):(l=le.EMPTY_NODE,c=!1);var h=Mg(new Yo(l,c,!1),new Yo(r,i,!1));return new hH(t,h)}return a}function EH(e,t,n,r,i,s){var a=KL(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),gH(a,n),mH(a,n)}function TH(e,t,n,r){var i,s,a=t._queryIdentifier,l=[],c=[],h=Xo(e);if(a==="default")try{for(var p=xt(e.views.entries()),v=p.next();!v.done;v=p.next()){var m=Bt(v.value,2),y=m[0],w=m[1];c=c.concat(cR(w,n,r)),lR(w)&&(e.views.delete(y),w.query._queryParams.loadsAllData()||l.push(w.query))}}catch(I){i={error:I}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}else{var w=e.views.get(a);w&&(c=c.concat(cR(w,n,r)),lR(w)&&(e.views.delete(a),w.query._queryParams.loadsAllData()||l.push(w.query)))}return h&&!Xo(e)&&l.push(new(_H())(t._repo,t._path)),{removed:l,events:c}}function GL(e){var t,n,r=[];try{for(var i=xt(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function $o(e,t){var n,r,i=null;try{for(var s=xt(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||vH(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function QL(e,t){var n=t._queryParams;if(n.loadsAllData())return Ug(e);var r=t._queryIdentifier;return e.views.get(r)}function YL(e,t){return QL(e,t)!=null}function Xo(e){return Ug(e)!=null}function Ug(e){var t,n;try{for(var r=xt(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mv;function IH(e){$(!Mv,"__referenceConstructor has already been defined"),Mv=e}function SH(){return $(Mv,"Reference.ts has not been loaded"),Mv}var bH=1,hR=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new rr(null),this.pendingWriteTree_=eH(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function BI(e,t,n,r,i){return $W(e.pendingWriteTree_,t,n,r,i),i?Dl(e,new Lg(DI(),t,n)):[]}function kH(e,t,n,r){qW(e.pendingWriteTree_,t,n,r);var i=rr.fromObject(n);return Dl(e,new MI(DI(),t,i))}function Oo(e,t,n){n===void 0&&(n=!1);var r=zW(e.pendingWriteTree_,t),i=WW(e.pendingWriteTree_,t);if(i){var s=new rr(null);return r.snap!=null?s=s.set(ke(),!0):St(r.children,function(a){s=s.set(new Ae(a),!0)}),Dl(e,new MW(r.path,s,n))}else return[]}function Th(e,t,n){return Dl(e,new Lg(xI(),t,n))}function CH(e,t,n){var r=rr.fromObject(n);return Dl(e,new MI(xI(),t,r))}function AH(e,t){return Dl(e,new ML(xI(),t))}function NH(e,t,n){var r=$I(e,n);if(r){var i=qI(r),s=i.path,a=i.queryId,l=wn(s,t),c=new ML(LI(a),l);return zI(e,s,c)}else return[]}function OE(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||YL(s,t))){var l=TH(s,t,n,r);wH(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(S){return S._queryParams.loadsAllData()})!==-1,p=e.syncPointTree_.findOnPath(i,function(S,b){return Xo(b)});if(h&&!p){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var m=DH(v),y=0;y<m.length;++y){var w=m[y],I=w.query,C=ZL(e,w);e.listenProvider_.startListening(ff(I),Fv(e,I),C.hashFn,C.onComplete)}}if(!p&&c.length>0&&!r)if(h){var T=null;e.listenProvider_.stopListening(ff(t),T)}else c.forEach(function(S){var b=e.queryToTagMap.get(Vg(S));e.listenProvider_.stopListening(ff(S),b)});xH(e,c)}return a}function RH(e,t,n,r){var i=$I(e,r);if(i!=null){var s=qI(i),a=s.path,l=s.queryId,c=wn(a,t),h=new Lg(LI(l),c,n);return zI(e,a,h)}else return[]}function PH(e,t,n,r){var i=$I(e,r);if(i){var s=qI(i),a=s.path,l=s.queryId,c=wn(a,t),h=rr.fromObject(n),p=new MI(LI(l),c,h);return zI(e,a,p)}else return[]}function dR(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(I,C){var T=wn(I,r);i=i||$o(C,T),s=s||Xo(C)});var a=e.syncPointTree_.get(r);a?(s=s||Xo(a),i=i||$o(a,ke())):(a=new HL,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=le.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(I,C){var T=$o(C,ke());T&&(i=i.updateImmediateChild(I,T))})}var h=YL(a,t);if(!h&&!t._queryParams.loadsAllData()){var p=Vg(t);$(!e.queryToTagMap.has(p),"View does not exist, but we have a tag");var v=LH();e.queryToTagMap.set(p,v),e.tagToQueryMap.set(v,p)}var m=Fg(e.pendingWriteTree_,r),y=EH(a,t,n,m,i,l);if(!h&&!s){var w=QL(a,t);y=y.concat(MH(e,t,w))}return y}function jg(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=wn(a,t),h=$o(l,c);if(h)return h});return VL(i,t,s,n,r)}function OH(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,p){var v=wn(h,n);r=r||$o(p,v)});var i=e.syncPointTree_.get(n);i?r=r||$o(i,ke()):(i=new HL,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new Yo(r,!0,!1):null,l=Fg(e.pendingWriteTree_,t._path),c=KL(i,t,l,s?a.getNode():le.EMPTY_NODE,s);return pH(c)}function Dl(e,t){return XL(t,e.syncPointTree_,null,Fg(e.pendingWriteTree_,ke()))}function XL(e,t,n,r){if(pe(e.path))return JL(e,t,n,r);var i=t.get(ke());n==null&&i!=null&&(n=$o(i,ke()));var s=[],a=de(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,p=BL(r,a);s=s.concat(XL(l,c,h,p))}return i&&(s=s.concat(VI(i,e,r,n))),s}function JL(e,t,n,r){var i=t.get(ke());n==null&&i!=null&&(n=$o(i,ke()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=BL(r,a),p=e.operationForChild(a);p&&(s=s.concat(JL(p,l,c,h)))}),i&&(s=s.concat(VI(i,e,r,n))),s}function ZL(e,t){var n=t.query,r=Fv(e,n);return{hashFn:function(){var i=dH(t)||le.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?NH(e,n._path,r):AH(e,n._path);var s=E6(i,n);return OE(e,n,null,s)}}}function Fv(e,t){var n=Vg(t);return e.queryToTagMap.get(n)}function Vg(e){return e._path.toString()+"$"+e._queryIdentifier}function $I(e,t){return e.tagToQueryMap.get(t)}function qI(e){var t=e.indexOf("$");return $(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ae(e.substr(0,t))}}function zI(e,t,n){var r=e.syncPointTree_.get(t);$(r,"Missing sync point for query tag that we're tracking");var i=Fg(e.pendingWriteTree_,t);return VI(r,n,i,null)}function DH(e){return e.fold(function(t,n,r){if(n&&Xo(n)){var i=Ug(n);return[i]}else{var s=[];return n&&(s=GL(n)),St(r,function(a,l){s=s.concat(l)}),s}})}function ff(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(SH())(e._repo,e._path):e}function xH(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Vg(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function LH(){return bH++}function MH(e,t,n){var r=t._path,i=Fv(e,t),s=ZL(e,n),a=e.listenProvider_.startListening(ff(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)$(!Xo(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(v,m,y){if(!pe(v)&&m&&Xo(m))return[Ug(m).query];var w=[];return m&&(w=w.concat(GL(m).map(function(I){return I.query}))),St(y,function(I,C){w=w.concat(C)}),w}),h=0;h<c.length;++h){var p=c[h];e.listenProvider_.stopListening(ff(p),Fv(e,p))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FH=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),UH=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=He(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return jg(this.syncTree_,this.path_)},e}(),jH=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},pR=function(e,t,n){if(!e||typeof e!="object")return e;if($(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return VH(e[".sv"],t,n);if(typeof e[".sv"]=="object")return BH(e[".sv"],t);$(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},VH=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+e)}},BH=function(e,t,n){e.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&$(!1,"Unexpected increment value: "+r);var i=t.node();if($(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},e2=function(e,t,n,r){return HI(t,new UH(n,e),r)},WI=function(e,t,n){return HI(e,new FH(t),n)};function HI(e,t,n){var r=e.getPriority().val(),i=pR(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=pR(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new nl(l,Xe(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new nl(i))),c.forEachChild(Fe,function(h,p){var v=HI(p,t.getImmediateChild(h),n);v!==p&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KI=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function Bg(e,t){for(var n=t instanceof Ae?t:new Ae(t),r=e,i=de(n);i!==null;){var s=pa(r.node.children,i)||{children:{},childCount:0};r=new KI(i,r,s),n=xe(n),i=de(n)}return r}function Pa(e){return e.node.value}function GI(e,t){e.node.value=t,DE(e)}function t2(e){return e.node.childCount>0}function $H(e){return Pa(e)===void 0&&!t2(e)}function $g(e,t){St(e.node.children,function(n,r){t(new KI(n,e,r))})}function n2(e,t,n,r){n&&!r&&t(e),$g(e,function(i){n2(i,t,!0,r)}),n&&r&&t(e)}function qH(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Ih(e){return new Ae(e.parent===null?e.name:Ih(e.parent)+"/"+e.name)}function DE(e){e.parent!==null&&zH(e.parent,e.name,e)}function zH(e,t,n){var r=$H(n),i=nr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,DE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,DE(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WH=/[\[\].#$\/\u0000-\u001F\u007F]/,HH=/[\[\].#$\u0000-\u001F\u007F]/,z_=10*1024*1024,qg=function(e){return typeof e=="string"&&e.length!==0&&!WH.test(e)},r2=function(e){return typeof e=="string"&&e.length!==0&&!HH.test(e)},KH=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),r2(e)},qf=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Og(e)||e&&typeof e=="object"&&nr(e,".sv")},Ii=function(e,t,n,r){r&&t===void 0||Sh(jn(e,"value"),t,n)},Sh=function(e,t,n){var r=n instanceof Ae?new tW(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+js(r));if(typeof t=="function")throw new Error(e+"contains a function "+js(r)+" with contents = "+t.toString());if(Og(t))throw new Error(e+"contains "+t.toString()+" "+js(r));if(typeof t=="string"&&t.length>z_/3&&Pg(t)>z_)throw new Error(e+"contains a string greater than "+z_+" utf8 bytes "+js(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(St(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!qg(a)))throw new Error(e+" contains an invalid key ("+a+") "+js(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nW(r,a),Sh(e,l,r),rW(r)}),i&&s)throw new Error(e+' contains ".value" child '+js(r)+" in addition to actual children.")}},GH=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=Vf(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!qg(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(eW);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&vr(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},i2=function(e,t,n,r){if(!(r&&t===void 0)){var i=jn(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];St(t,function(a,l){var c=new Ae(a);if(Sh(i,l,He(n,c)),CI(c)===".priority"&&!qf(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),GH(i,s)}},QI=function(e,t,n){if(!(n&&t===void 0)){if(Og(t))throw new Error(jn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qf(t))throw new Error(jn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},QH=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(jn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},bh=function(e,t,n,r){if(!(r&&n===void 0)&&!qg(n))throw new Error(jn(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},zf=function(e,t,n,r){if(!(r&&n===void 0)&&!r2(n))throw new Error(jn(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},YH=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zf(e,t,n,r)},gr=function(e,t){if(de(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},o2=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!qg(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!KH(n))throw new Error(jn(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},XH=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(jn(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JH=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function zg(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!AI(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function YI(e,t,n){zg(e,n),s2(e,function(r){return AI(r,t)})}function br(e,t,n){zg(e,n),s2(e,function(r){return vr(r,t)||vr(t,r)})}function s2(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(ZH(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function ZH(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();ta&&Nt("event: "+n.toString()),Pl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a2="repo_interrupt",eK=25,tK=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new JH,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rv(),this.transactionQueueTree_=new KI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function nK(e,t,n){if(e.stats_=bI(e.repoInfo_),e.forceRestClient_||I6())e.server_=new NW(e.repoInfo_,function(r,i,s,a){vR(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return gR(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{wt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new na(e.repoInfo_,t,function(r,i,s,a){vR(e,r,i,s,a)},function(r){gR(e,r)},function(r){iK(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=N6(e.repoInfo_,function(){return new xW(e.stats_,e.server_)}),e.infoData_=new RW,e.infoSyncTree_=new hR({startListening:function(r,i,s,a){var l=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=Th(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),XI(e,"connected",!1),e.serverSyncTree_=new hR({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(l,c){var h=a(l,c);br(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function u2(e){var t=e.infoData_.getNode(new Ae(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function kh(e){return jH({timestamp:u2(e)})}function vR(e,t,n,r,i){e.dataUpdateCount++;var s=new Ae(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=Sv(n,function(m){return Xe(m)});a=PH(e.serverSyncTree_,s,l,i)}else{var c=Xe(n);a=RH(e.serverSyncTree_,s,c,i)}else if(r){var h=Sv(n,function(m){return Xe(m)});a=CH(e.serverSyncTree_,s,h)}else{var p=Xe(n);a=Th(e.serverSyncTree_,s,p)}var v=s;a.length>0&&(v=sl(e,s)),br(e.eventQueue_,v,a)}function rK(e,t){e.interceptServerDataCallback_=t}function gR(e,t){XI(e,"connected",t),t===!1&&aK(e)}function iK(e,t){St(t,function(n,r){XI(e,n,r)})}function XI(e,t,n){var r=new Ae("/.info/"+t),i=Xe(n);e.infoData_.updateSnapshot(r,i);var s=Th(e.infoSyncTree_,r,i);br(e.eventQueue_,r,s)}function Wg(e){return e.nextWriteId_++}function oK(e,t){var n=OH(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=Xe(r).withIndex(t._queryParams.getIndex()),s=Th(e.serverSyncTree_,t._path,i);return YI(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return xl(e,"get for query "+wt(t)+" failed: "+r),Promise.reject(new Error(r))})}function JI(e,t,n,r,i){xl(e,"set",{path:t.toString(),value:n,priority:r});var s=kh(e),a=Xe(n,r),l=jg(e.serverSyncTree_,t),c=WI(a,l,s),h=Wg(e),p=BI(e.serverSyncTree_,t,c,h,!0);zg(e.eventQueue_,p),e.server_.put(t.toString(),a.val(!0),function(m,y){var w=m==="ok";w||zt("set at "+t+" failed: "+m);var I=Oo(e.serverSyncTree_,h,!w);br(e.eventQueue_,t,I),Jo(e,i,m,y)});var v=eS(e,t);sl(e,v),br(e.eventQueue_,v,[])}function sK(e,t,n,r){xl(e,"update",{path:t.toString(),value:n});var i=!0,s=kh(e),a={};if(St(n,function(h,p){i=!1,a[h]=e2(He(t,h),Xe(p),e.serverSyncTree_,s)}),i)Nt("update() called with empty data.  Don't do anything."),Jo(e,r,"ok",void 0);else{var l=Wg(e),c=kH(e.serverSyncTree_,t,a,l);zg(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,p){var v=h==="ok";v||zt("update at "+t+" failed: "+h);var m=Oo(e.serverSyncTree_,l,!v),y=m.length>0?sl(e,t):t;br(e.eventQueue_,y,m),Jo(e,r,h,p)}),St(n,function(h){var p=eS(e,He(t,h));sl(e,p)}),br(e.eventQueue_,t,[])}}function aK(e){xl(e,"onDisconnectEvents");var t=kh(e),n=Rv();kE(e.onDisconnect_,ke(),function(i,s){var a=e2(i,s,e.serverSyncTree_,t);Ol(n,i,a)});var r=[];kE(n,ke(),function(i,s){r=r.concat(Th(e.serverSyncTree_,i,s));var a=eS(e,i);sl(e,a)}),e.onDisconnect_=Rv(),br(e.eventQueue_,ke(),r)}function uK(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&bE(e.onDisconnect_,t),Jo(e,n,r,i)})}function mR(e,t,n,r){var i=Xe(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&Ol(e.onDisconnect_,t,i),Jo(e,r,s,a)})}function lK(e,t,n,r,i){var s=Xe(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&Ol(e.onDisconnect_,t,s),Jo(e,i,a,l)})}function cK(e,t,n,r){if(gE(n)){Nt("onDisconnect().update() called with empty data.  Don't do anything."),Jo(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&St(n,function(a,l){var c=Xe(l);Ol(e.onDisconnect_,He(t,a),c)}),Jo(e,r,i,s)})}function fK(e,t,n){var r;de(t._path)===".info"?r=dR(e.infoSyncTree_,t,n):r=dR(e.serverSyncTree_,t,n),YI(e.eventQueue_,t._path,r)}function xE(e,t,n){var r;de(t._path)===".info"?r=OE(e.infoSyncTree_,t,n):r=OE(e.serverSyncTree_,t,n),YI(e.eventQueue_,t._path,r)}function l2(e){e.persistentConnection_&&e.persistentConnection_.interrupt(a2)}function hK(e){e.persistentConnection_&&e.persistentConnection_.resume(a2)}function dK(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new LL(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);St(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function pK(e,t){e.stats_.incrementCounter(t),LW(e.statsReporter_,t)}function xl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Nt.apply(void 0,he([r],Bt(t)))}function Jo(e,t,n,r){t&&Pl(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function vK(e,t,n,r,i,s){xl(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:eL(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=ZI(e,t,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Sh("transaction failed: Data returned ",c,a.path),a.status=0;var h=Bg(e.transactionQueueTree_,t),p=Pa(h)||[];p.push(a),GI(h,p);var v=void 0;if(typeof c=="object"&&c!==null&&nr(c,".priority"))v=pa(c,".priority"),$(qf(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=jg(e.serverSyncTree_,t)||le.EMPTY_NODE;v=m.getPriority().val()}var y=kh(e),w=Xe(c,v),I=WI(w,l,y);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=I,a.currentWriteId=Wg(e);var C=BI(e.serverSyncTree_,t,I,a.currentWriteId,a.applyLocally);br(e.eventQueue_,t,C),Hg(e,e.transactionQueueTree_)}}function ZI(e,t,n){return jg(e.serverSyncTree_,t,n)||le.EMPTY_NODE}function Hg(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||Kg(e,t),Pa(t)){var n=f2(e,t);$(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&gK(e,Ih(t),n)}else t2(t)&&$g(t,function(i){Hg(e,i)})}function gK(e,t,n){for(var r=n.map(function(m){return m.currentWriteId}),i=ZI(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];$(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=wn(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var p=s.val(!0),v=t;e.server_.put(v.toString(),p,function(m){xl(e,"transaction put response",{path:v.toString(),status:m});var y=[];if(m==="ok"){for(var w=[],I=function(T){n[T].status=2,y=y.concat(Oo(e.serverSyncTree_,n[T].currentWriteId)),n[T].onComplete&&w.push(function(){return n[T].onComplete(null,!0,n[T].currentOutputSnapshotResolved)}),n[T].unwatcher()},C=0;C<n.length;C++)I(C);Kg(e,Bg(e.transactionQueueTree_,t)),Hg(e,e.transactionQueueTree_),br(e.eventQueue_,t,y);for(var C=0;C<w.length;C++)Pl(w[C])}else{if(m==="datastale")for(var C=0;C<n.length;C++)n[C].status===3?n[C].status=4:n[C].status=0;else{zt("transaction at "+v.toString()+" failed: "+m);for(var C=0;C<n.length;C++)n[C].status=4,n[C].abortReason=m}sl(e,t)}},a)}function sl(e,t){var n=c2(e,t),r=Ih(n),i=f2(e,n);return mK(e,i,r),r}function mK(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),l=function(h){var p=t[h],v=wn(n,p.path),m=!1,y;if($(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)m=!0,y=p.abortReason,i=i.concat(Oo(e.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=eK)m=!0,y="maxretry",i=i.concat(Oo(e.serverSyncTree_,p.currentWriteId,!0));else{var w=ZI(e,p.path,a);p.currentInputSnapshot=w;var I=t[h].update(w.val());if(I!==void 0){Sh("transaction failed: Data returned ",I,p.path);var C=Xe(I),T=typeof I=="object"&&I!=null&&nr(I,".priority");T||(C=C.updatePriority(w.getPriority()));var S=p.currentWriteId,b=kh(e),P=WI(C,w,b);p.currentOutputSnapshotRaw=C,p.currentOutputSnapshotResolved=P,p.currentWriteId=Wg(e),a.splice(a.indexOf(S),1),i=i.concat(BI(e.serverSyncTree_,p.path,P,p.currentWriteId,p.applyLocally)),i=i.concat(Oo(e.serverSyncTree_,S,!0))}else m=!0,y="nodata",i=i.concat(Oo(e.serverSyncTree_,p.currentWriteId,!0))}br(e.eventQueue_,n,i),i=[],m&&(t[h].status=2,function(L){setTimeout(L,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},c=0;c<t.length;c++)l(c);Kg(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Pl(r[c]);Hg(e,e.transactionQueueTree_)}}function c2(e,t){var n,r=e.transactionQueueTree_;for(n=de(t);n!==null&&Pa(r)===void 0;)r=Bg(r,n),t=xe(t),n=de(t);return r}function f2(e,t){var n=[];return h2(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function h2(e,t,n){var r=Pa(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);$g(t,function(s){h2(e,s,n)})}function Kg(e,t){var n=Pa(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,GI(t,n.length>0?n:void 0)}$g(t,function(s){Kg(e,s)})}function eS(e,t){var n=Ih(c2(e,t)),r=Bg(e.transactionQueueTree_,t);return qH(r,function(i){W_(e,i)}),W_(e,r),n2(r,function(i){W_(e,i)}),n}function W_(e,t){var n=Pa(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?($(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):($(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Oo(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?GI(t,void 0):n.length=s+1,br(e.eventQueue_,Ih(t),i);for(var a=0;a<r.length;a++)Pl(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function _K(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=xt(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):zt("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var LE=function(e,t){var n=wK(e),r=n.namespace;n.domain==="firebase.com"&&Ei(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ei("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||g6();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new SI(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Ae(n.pathString)}},wK=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var p=e.indexOf("/");p===-1&&(p=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(p,v)),p<v&&(i=yK(e.substring(p,v)));var m=_K(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d2=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+wt(this.snapshot.exportVal())},e}(),p2=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v2=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EK=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new Pt;return uK(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){gr("OnDisconnect.remove",this._path);var t=new Pt;return mR(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){gr("OnDisconnect.set",this._path),Ii("OnDisconnect.set",t,this._path,!1);var n=new Pt;return mR(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){gr("OnDisconnect.setWithPriority",this._path),Ii("OnDisconnect.setWithPriority",t,this._path,!1),QI("OnDisconnect.setWithPriority",n,!1);var r=new Pt;return lK(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){gr("OnDisconnect.update",this._path),i2("OnDisconnect.update",t,this._path,!1);var n=new Pt;return cK(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return pe(this._path)?null:CI(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new bi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=nR(this._queryParams),n=EI(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return nR(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=fe(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=AI(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+Z6(this._path)},e}();function Gg(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function is(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===gi){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==Xi)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==Ti)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Fe){if(t!=null&&!qf(t)||n!=null&&!qf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if($(e.getIndex()instanceof RI||e.getIndex()===PI,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Qg(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var bi=function(e){H(t,e);function t(n,r){return e.call(this,n,r,new xL,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=IL(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Cr),Yg=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Ae(t),r=ga(this.ref,t);return new e(this._node.getChild(n),r,Fe)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,ga(n.ref,i),Fe))})},e.prototype.hasChild=function(t){var n=new Ae(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function g2(e,t){return e=fe(e),e._checkNotDeleted("ref"),t!==void 0?ga(e._root,t):e._root}function yR(e,t){e=fe(e),e._checkNotDeleted("refFromURL");var n=LE(t,e._repo.repoInfo_.nodeAdmin);o2("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Ei("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),g2(e,n.path.toString())}function ga(e,t){return e=fe(e),de(e._path)===null?YH("child","path",t,!1):zf("child","path",t,!1),new bi(e._repo,He(e._path,t))}function TK(e,t){e=fe(e),gr("push",e._path),Ii("push",t,e._path,!0);var n=u2(e._repo),r=EW(n),i=ga(e,r),s=ga(e,r),a;return t!=null?a=tS(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function IK(e){return gr("remove",e._path),tS(e,null)}function tS(e,t){e=fe(e),gr("set",e._path),Ii("set",t,e._path,!1);var n=new Pt;return JI(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function SK(e,t){e=fe(e),gr("setPriority",e._path),QI("setPriority",t,!1);var n=new Pt;return JI(e._repo,He(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function bK(e,t,n){if(gr("setWithPriority",e._path),Ii("setWithPriority",t,e._path,!1),QI("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Pt;return JI(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function kK(e,t){i2("update",t,e._path,!1);var n=new Pt;return sK(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function CK(e){return e=fe(e),oK(e._repo,e).then(function(t){return new Yg(t,new bi(e._repo,e._path),e._queryParams.getIndex())})}var m2=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new d2("value",this,new Yg(t.snapshotNode,new bi(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new p2(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),y2=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new p2(this,t,n):null},e.prototype.createEvent=function(t,n){$(t.childName!=null,"Child events should have a childName.");var r=ga(new bi(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new d2(t.type,this,new Yg(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Ch(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,l=function(p,v){xE(e._repo,e,h),a(p,v)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new v2(n,s||void 0),h=t==="value"?new m2(c):new y2(t,c);return fK(e._repo,e,h),function(){return xE(e._repo,e,h)}}function ME(e,t,n,r){return Ch(e,"value",t,n,r)}function _R(e,t,n,r){return Ch(e,"child_added",t,n,r)}function wR(e,t,n,r){return Ch(e,"child_changed",t,n,r)}function ER(e,t,n,r){return Ch(e,"child_moved",t,n,r)}function TR(e,t,n,r){return Ch(e,"child_removed",t,n,r)}function IR(e,t,n){var r=null,i=n?new v2(n):null;t==="value"?r=new m2(i):t&&(r=new y2(t,i)),xE(e._repo,e,r)}var Zr=function(){function e(){}return e}(),_2=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ii("endAt",this._value,n._path,!0);var r=SE(n._queryParams,this._value,this._key);if(Qg(r),is(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Cr(n._repo,n._path,r,n._orderByCalled)},t}(Zr);function AK(e,t){return bh("endAt","key",t,!0),new _2(e,t)}var NK=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ii("endBefore",this._value,n._path,!1);var r=AW(n._queryParams,this._value,this._key);if(Qg(r),is(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Cr(n._repo,n._path,r,n._orderByCalled)},t}(Zr);function RK(e,t){return bh("endBefore","key",t,!0),new NK(e,t)}var w2=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ii("startAt",this._value,n._path,!0);var r=IE(n._queryParams,this._value,this._key);if(Qg(r),is(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Cr(n._repo,n._path,r,n._orderByCalled)},t}(Zr);function PK(e,t){return e===void 0&&(e=null),bh("startAt","key",t,!0),new w2(e,t)}var OK=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ii("startAfter",this._value,n._path,!1);var r=CW(n._queryParams,this._value,this._key);if(Qg(r),is(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Cr(n._repo,n._path,r,n._orderByCalled)},t}(Zr);function DK(e,t){return bh("startAfter","key",t,!0),new OK(e,t)}var xK=function(e){H(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Cr(n._repo,n._path,bW(n._queryParams,this._limit),n._orderByCalled)},t}(Zr);function LK(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new xK(e)}var MK=function(e){H(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Cr(n._repo,n._path,kW(n._queryParams,this._limit),n._orderByCalled)},t}(Zr);function FK(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new MK(e)}var UK=function(e){H(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){Gg(n,"orderByChild");var r=new Ae(this._path);if(pe(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new RI(r),s=xg(n._queryParams,i);return is(s),new Cr(n._repo,n._path,s,!0)},t}(Zr);function jK(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return zf("orderByChild","path",e,!1),new UK(e)}var VK=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Gg(n,"orderByKey");var r=xg(n._queryParams,gi);return is(r),new Cr(n._repo,n._path,r,!0)},t}(Zr);function BK(){return new VK}var $K=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Gg(n,"orderByPriority");var r=xg(n._queryParams,Fe);return is(r),new Cr(n._repo,n._path,r,!0)},t}(Zr);function qK(){return new $K}var zK=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Gg(n,"orderByValue");var r=xg(n._queryParams,PI);return is(r),new Cr(n._repo,n._path,r,!0)},t}(Zr);function WK(){return new zK}var HK=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(Ii("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _2(this._value,this._key)._apply(new w2(this._value,this._key)._apply(n))},t}(Zr);function KK(e,t){return bh("equalTo","key",t,!0),new HK(e,t)}function Ur(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=fe(e);try{for(var a=xt(r),l=a.next();!l.done;l=a.next()){var c=l.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}yH(bi);IH(bi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GK="FIREBASE_DATABASE_EMULATOR_HOST",FE={},E2=!1;function QK(e,t,n,r){e.repoInfo_=new SI(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function T2(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Ei("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nt("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=LE(s,i),l=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=process.env[GK]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=LE(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var p=i&&c?new uf(uf.OWNER):new b6(e.name,e.options,t);o2("Invalid Firebase Database URL",a),pe(a.path)||Ei("Database URL must point to the root of a Firebase Database (not including a child path).");var v=XK(l,e,p,new S6(e.name,n));return new ZK(v,e)}function YK(e,t){var n=FE[t];(!n||n[e.key]!==e)&&Ei("Database "+t+"("+e.repoInfo_+") has already been deleted."),l2(e),delete n[e.key]}function XK(e,t,n,r){var i=FE[t.name];i||(i={},FE[t.name]=i);var s=i[e.toURLString()];return s&&Ei("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new tK(e,E2,n,r),i[e.toURLString()]=s,s}function JK(e){E2=e}var ZK=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(nK(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new bi(this._repo,ke())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(YK(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&Ei("Cannot call "+t+" on a deleted database.")},e}();function eG(e,t,n,r){r===void 0&&(r={}),e=fe(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Ei("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ei('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new uf(uf.OWNER);else if(r.mockUserToken){var a=Bx(r.mockUserToken,e.app.options.projectId);s=new uf(a)}QK(i,t,n,s)}function tG(e){e=fe(e),e._checkNotDeleted("goOffline"),l2(e._repo)}function nG(e){e=fe(e),e._checkNotDeleted("goOnline"),hK(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rG={".sv":"timestamp"};function iG(){return rG}function oG(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sG=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function aG(e,t,n){var r;if(e=fe(e),gr("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Pt,a=function(c,h,p){var v=null;c?s.reject(c):(v=new Yg(p,new bi(e._repo,e._path),Fe),s.resolve(new sG(h,v)))},l=ME(e,function(){});return vK(e._repo,e._path,t,a,l,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uG=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){ne("OnDisconnect.cancel",0,1,arguments.length),At("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){ne("OnDisconnect.remove",0,1,arguments.length),At("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){ne("OnDisconnect.set",1,2,arguments.length),At("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){ne("OnDisconnect.setWithPriority",2,3,arguments.length),At("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(ne("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,zt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}At("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lG=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return ne("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hf=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return ne("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return ne("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return ne("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return ne("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return ne("DataSnapshot.child",0,1,arguments.length),t=String(t),zf("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return ne("DataSnapshot.hasChild",1,1,arguments.length),zf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return ne("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return ne("DataSnapshot.forEach",1,1,arguments.length),At("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return ne("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return ne("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return ne("DataSnapshot.ref",0,0,arguments.length),new Ks(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),I2=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;ne("Query.on",2,4,arguments.length),At("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),c=function(p,v){n.call(l.context,new hf(s.database,p),v)};c.userCallback=n,c.context=l.context;var h=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(t){case"value":return ME(this._delegate,c,h),n;case"child_added":return _R(this._delegate,c,h),n;case"child_removed":return TR(this._delegate,c,h),n;case"child_changed":return wR(this._delegate,c,h),n;case"child_moved":return ER(this._delegate,c,h),n;default:throw new Error(jn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(ne("Query.off",0,3,arguments.length),QH("Query.off",t,!0),At("Query.off","callback",n,!0),FN("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,IR(this._delegate,t,i)}else IR(this._delegate,t)},e.prototype.get=function(){var t=this;return CK(this._delegate).then(function(n){return new hf(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;ne("Query.once",1,4,arguments.length),At("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),l=new Pt,c=function(p,v){var m=new hf(s.database,p);n&&n.call(a.context,m,v),l.resolve(m)};c.userCallback=n,c.context=a.context;var h=function(p){a.cancel&&a.cancel.call(a.context,p),l.reject(p)};switch(t){case"value":ME(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":_R(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":TR(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":wR(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":ER(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(jn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return ne("Query.limitToFirst",1,1,arguments.length),new e(this.database,Ur(this._delegate,LK(t)))},e.prototype.limitToLast=function(t){return ne("Query.limitToLast",1,1,arguments.length),new e(this.database,Ur(this._delegate,FK(t)))},e.prototype.orderByChild=function(t){return ne("Query.orderByChild",1,1,arguments.length),new e(this.database,Ur(this._delegate,jK(t)))},e.prototype.orderByKey=function(){return ne("Query.orderByKey",0,0,arguments.length),new e(this.database,Ur(this._delegate,BK()))},e.prototype.orderByPriority=function(){return ne("Query.orderByPriority",0,0,arguments.length),new e(this.database,Ur(this._delegate,qK()))},e.prototype.orderByValue=function(){return ne("Query.orderByValue",0,0,arguments.length),new e(this.database,Ur(this._delegate,WK()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),ne("Query.startAt",0,2,arguments.length),new e(this.database,Ur(this._delegate,PK(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),ne("Query.startAfter",0,2,arguments.length),new e(this.database,Ur(this._delegate,DK(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),ne("Query.endAt",0,2,arguments.length),new e(this.database,Ur(this._delegate,AK(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),ne("Query.endBefore",0,2,arguments.length),new e(this.database,Ur(this._delegate,RK(t,n)))},e.prototype.equalTo=function(t,n){return ne("Query.equalTo",1,2,arguments.length),new e(this.database,Ur(this._delegate,KK(t,n)))},e.prototype.toString=function(){return ne("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return ne("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(ne("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,At(t,"cancel",i.cancel,!0),i.context=r,FN(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(jn(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new Ks(this.database,new bi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Ks=function(e){H(t,e);function t(n,r){var i=e.call(this,n,new Cr(r._repo,r._path,new xL,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return ne("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return ne("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,ga(this._delegate,n))},t.prototype.getParent=function(){ne("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return ne("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){ne("Reference.set",1,2,arguments.length),At("Reference.set","onComplete",r,!0);var i=tS(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(ne("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,zt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}gr("Reference.update",this._delegate._path),At("Reference.update","onComplete",r,!0);var a=kK(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},t.prototype.setWithPriority=function(n,r,i){ne("Reference.setWithPriority",2,3,arguments.length),At("Reference.setWithPriority","onComplete",i,!0);var s=bK(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){ne("Reference.remove",0,1,arguments.length),At("Reference.remove","onComplete",n,!0);var r=IK(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;ne("Reference.transaction",1,3,arguments.length),At("Reference.transaction","transactionUpdate",n,!1),At("Reference.transaction","onComplete",r,!0),XH("Reference.transaction","applyLocally",i,!0);var a=aG(this._delegate,n,{applyLocally:i}).then(function(l){return new lG(l.committed,new hf(s.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},t.prototype.setPriority=function(n,r){ne("Reference.setPriority",1,2,arguments.length),At("Reference.setPriority","onComplete",r,!0);var i=SK(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;ne("Reference.push",0,2,arguments.length),At("Reference.push","onComplete",r,!0);var s=TK(this._delegate,n),a=s.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new t(this.database,s);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return gr("Reference.onDisconnect",this._delegate._path),new uG(new EK(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(I2);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uv=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),eG(this._delegate,t,n,r)},e.prototype.ref=function(t){if(ne("database.ref",0,1,arguments.length),t instanceof Ks){var n=yR(this._delegate,t.toString());return new Ks(this,n)}else{var n=g2(this._delegate,t);return new Ks(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";ne(n,1,1,arguments.length);var r=yR(this._delegate,t);return new Ks(this,r)},e.prototype.goOffline=function(){return ne("database.goOffline",0,0,arguments.length),tG(this._delegate)},e.prototype.goOnline=function(){return ne("database.goOnline",0,0,arguments.length),nG(this._delegate)},e.ServerValue={TIMESTAMP:iG(),increment:function(t){return oG(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cG=function(){Bs.forceDisallow(),kI.forceAllow()},fG=function(){kI.forceDisallow()},hG=function(){return Bs.isAvailable()},dG=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},pG=function(e,t){dK(e._delegate._repo,t)},vG=function(e,t){pK(e._delegate._repo,t)},gG=function(e){return e._delegate._repo.dataUpdateCount},mG=function(e,t){return rK(e._delegate._repo,t)};function yG(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;Jx(r);var c=new Hx("auth-internal",new Kx("database-standalone"));return c.setComponent(new un("auth-internal",function(){return i},"PRIVATE")),{instance:new Uv(T2(t,c,void 0,n,l),t),namespace:s}}var _G=Object.freeze({__proto__:null,forceLongPolling:cG,forceWebSockets:fG,isWebSocketsAvailable:hG,setSecurityDebugCallback:dG,stats:pG,statsIncrementCounter:vG,dataUpdateCount:gG,interceptServerData:mG,initStandalone:yG});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wG=na;na.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};na.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var EG=wL,TG=function(e){var t=na.prototype.put;return na.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){na.prototype.put=t}},IG=SI,SG=function(e){return e._delegate._queryIdentifier},bG=function(e){JK(e)},kG=Object.freeze({__proto__:null,DataConnection:wG,RealTimeConnection:EG,hijackHash:TG,ConnectionTarget:IG,queryIdentifier:SG,forceRestClient:bG});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CG=Uv.ServerValue;function AG(e){Jx(e.SDK_VERSION),e.INTERNAL.registerComponent(new un("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Uv(T2(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:Ks,Query:I2,Database:Uv,DataSnapshot:hf,enableLogging:nL,INTERNAL:_G,ServerValue:CG,TEST_ACCESS:kG}).setMultipleInstances(!0)),e.registerVersion(h6,d6)}AG(X);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var UE=function(e,t){return UE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},UE(e,t)};function NG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");UE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function S2(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var RG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,nS=nS||{},ae=RG||self;function jv(){}function jE(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ah(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function PG(e){return Object.prototype.hasOwnProperty.call(e,H_)&&e[H_]||(e[H_]=++OG)}var H_="closure_uid_"+(1e9*Math.random()>>>0),OG=0;function DG(e,t,n){return e.call.apply(e.bind,arguments)}function xG(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Wt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wt=DG:Wt=xG,Wt.apply(null,arguments)}function yp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Qt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function os(){this.s=this.s,this.o=this.o}var LG=0;os.prototype.s=!1;os.prototype.na=function(){!this.s&&(this.s=!0,this.M(),LG!=0)&&PG(this)};os.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var b2=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},k2=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function MG(e){e:{for(var t=C5,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function SR(e){return Array.prototype.concat.apply([],arguments)}function rS(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Vv(e){return/^[\s\xa0]*$/.test(e)}var bR=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function yn(e,t){return e.indexOf(t)!=-1}function K_(e,t){return e<t?-1:e>t?1:0}var _n;e:{var kR=ae.navigator;if(kR){var CR=kR.userAgent;if(CR){_n=CR;break e}}_n=""}function iS(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function C2(e){var t={};for(var n in e)t[n]=e[n];return t}var AR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A2(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<AR.length;s++)n=AR[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function oS(e){return oS[" "](e),e}oS[" "]=jv;function FG(e){var t=VG;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var UG=yn(_n,"Opera"),al=yn(_n,"Trident")||yn(_n,"MSIE"),N2=yn(_n,"Edge"),VE=N2||al,R2=yn(_n,"Gecko")&&!(yn(_n.toLowerCase(),"webkit")&&!yn(_n,"Edge"))&&!(yn(_n,"Trident")||yn(_n,"MSIE"))&&!yn(_n,"Edge"),jG=yn(_n.toLowerCase(),"webkit")&&!yn(_n,"Edge");function P2(){var e=ae.document;return e?e.documentMode:void 0}var Bv;e:{var G_="",Q_=function(){var e=_n;if(R2)return/rv:([^\);]+)(\)|;)/.exec(e);if(N2)return/Edge\/([\d\.]+)/.exec(e);if(al)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(jG)return/WebKit\/(\S+)/.exec(e);if(UG)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Q_&&(G_=Q_?Q_[1]:""),al){var Y_=P2();if(Y_!=null&&Y_>parseFloat(G_)){Bv=String(Y_);break e}}Bv=G_}var VG={};function BG(){return FG(function(){for(var e=0,t=bR(String(Bv)).split("."),n=bR("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=K_(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||K_(s[2].length==0,a[2].length==0)||K_(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var BE;if(ae.document&&al){var NR=P2();BE=NR||parseInt(Bv,10)||void 0}else BE=void 0;var $G=BE,qG=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ae.addEventListener("test",jv,t),ae.removeEventListener("test",jv,t)}catch{}return e}();function rn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};function Wf(e,t){if(rn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(R2){e:{try{oS(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:zG[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wf.Z.h.call(this)}}Qt(Wf,rn);var zG={2:"touch",3:"pen",4:"mouse"};Wf.prototype.h=function(){Wf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Nh="closure_listenable_"+(1e6*Math.random()|0),WG=0;function HG(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++WG,this.ca=this.fa=!1}function Xg(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Jg(e){this.src=e,this.g={},this.h=0}Jg.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=qE(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new HG(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function $E(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=b2(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Xg(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function qE(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var sS="closure_lm_"+(1e6*Math.random()|0),X_={};function O2(e,t,n,r,i){if(r&&r.once)return x2(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)O2(e,t[s],n,r,i);return null}return n=lS(n),e&&e[Nh]?e.N(t,n,Ah(r)?!!r.capture:!!r,i):D2(e,t,n,!1,r,i)}function D2(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Ah(i)?!!i.capture:!!i,l=uS(e);if(l||(e[sS]=l=new Jg(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=KG(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qG||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(M2(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function KG(){function e(n){return t.call(e.src,e.listener,n)}var t=GG;return e}function x2(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)x2(e,t[s],n,r,i);return null}return n=lS(n),e&&e[Nh]?e.O(t,n,Ah(r)?!!r.capture:!!r,i):D2(e,t,n,!0,r,i)}function L2(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)L2(e,t[s],n,r,i);else r=Ah(r)?!!r.capture:!!r,n=lS(n),e&&e[Nh]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=qE(s,n,r,i),-1<n&&(Xg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=uS(e))&&(t=e.g[t.toString()],e=-1,t&&(e=qE(t,n,r,i)),(n=-1<e?t[e]:null)&&aS(n))}function aS(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Nh])$E(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(M2(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=uS(t))?($E(n,e),n.h==0&&(n.src=null,t[sS]=null)):Xg(e)}}}function M2(e){return e in X_?X_[e]:X_[e]="on"+e}function GG(e,t){if(e.ca)e=!0;else{t=new Wf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&aS(e),e=n.call(r,t)}return e}function uS(e){return e=e[sS],e instanceof Jg?e:null}var J_="__closure_events_fn_"+(1e9*Math.random()>>>0);function lS(e){return typeof e=="function"?e:(e[J_]||(e[J_]=function(t){return e.handleEvent(t)}),e[J_])}function Lt(){os.call(this),this.i=new Jg(this),this.P=this,this.I=null}Qt(Lt,os);Lt.prototype[Nh]=!0;Lt.prototype.removeEventListener=function(e,t,n,r){L2(this,e,t,n,r)};function Ht(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new rn(t,e);else if(t instanceof rn)t.target=t.target||e;else{var i=t;t=new rn(r,e),A2(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=_p(a,r,!0,t)&&i}if(a=t.g=e,i=_p(a,r,!0,t)&&i,i=_p(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=_p(a,r,!1,t)&&i}Lt.prototype.M=function(){if(Lt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Xg(n[r]);delete e.g[t],e.h--}}this.I=null};Lt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Lt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function _p(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,c=a.ia||a.src;a.fa&&$E(e.i,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var cS=ae.JSON.stringify;function QG(){var e=U2,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var YG=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=F2.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),F2=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new XG},function(e){return e.reset()}),XG=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function JG(e){ae.setTimeout(function(){throw e},0)}function fS(e,t){zE||ZG(),WE||(zE(),WE=!0),U2.add(e,t)}var zE;function ZG(){var e=ae.Promise.resolve(void 0);zE=function(){e.then(e5)}}var WE=!1,U2=new YG;function e5(){for(var e;e=QG();){try{e.h.call(e.g)}catch(n){JG(n)}var t=F2;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}WE=!1}function Zg(e,t){Lt.call(this),this.h=e||1,this.g=t||ae,this.j=Wt(this.kb,this),this.l=Date.now()}Qt(Zg,Lt);G=Zg.prototype;G.da=!1;G.S=null;G.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ht(this,"tick"),this.da&&(hS(this),this.start()))}};G.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function hS(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}G.M=function(){Zg.Z.M.call(this),hS(this),delete this.g};function dS(e,t,n){if(typeof e=="function")n&&(e=Wt(e,n));else if(e&&typeof e.handleEvent=="function")e=Wt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ae.setTimeout(e,t||0)}function j2(e){e.g=dS(function(){e.g=null,e.i&&(e.i=!1,j2(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var t5=function(e){NG(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:j2(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(os);function Hf(e){os.call(this),this.h=e,this.g={}}Qt(Hf,os);var RR=[];function V2(e,t,n,r){Array.isArray(n)||(n&&(RR[0]=n.toString()),n=RR);for(var i=0;i<n.length;i++){var s=O2(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function B2(e){iS(e.g,function(t,n){this.g.hasOwnProperty(n)&&aS(t)},e),e.g={}}Hf.prototype.M=function(){Hf.Z.M.call(this),B2(this)};Hf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function em(){this.g=!0}em.prototype.Aa=function(){this.g=!1};function n5(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var p=h[0];h=h[1];var v=p.split("_");a=2<=v.length&&v[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function r5(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Lu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+o5(e,n)+(r?" "+r:"")})}function i5(e,t){e.info(function(){return"TIMEOUT: "+t})}em.prototype.info=function(){};function o5(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return cS(n)}catch{return t}}var Oa={},PR=null;function tm(){return PR=PR||new Lt}Oa.Ma="serverreachability";function $2(e){rn.call(this,Oa.Ma,e)}Qt($2,rn);function Kf(e){var t=tm();Ht(t,new $2(t))}Oa.STAT_EVENT="statevent";function q2(e,t){rn.call(this,Oa.STAT_EVENT,e),this.stat=t}Qt(q2,rn);function En(e){var t=tm();Ht(t,new q2(t,e))}Oa.Na="timingevent";function z2(e,t){rn.call(this,Oa.Na,e),this.size=t}Qt(z2,rn);function Rh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){e()},t)}var nm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},W2={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function pS(){}pS.prototype.h=null;function OR(e){return e.h||(e.h=e.i())}function H2(){}var Ph={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vS(){rn.call(this,"d")}Qt(vS,rn);function gS(){rn.call(this,"c")}Qt(gS,rn);var HE;function rm(){}Qt(rm,pS);rm.prototype.g=function(){return new XMLHttpRequest};rm.prototype.i=function(){return{}};HE=new rm;function Oh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Hf(this),this.P=s5,e=VE?125:void 0,this.W=new Zg(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new K2}function K2(){this.i=null,this.g="",this.h=!1}var s5=45e3,KE={},$v={};G=Oh.prototype;G.setTimeout=function(e){this.P=e};function GE(e,t,n){e.K=1,e.v=om(Ji(t)),e.s=n,e.U=!0,G2(e,null)}function G2(e,t){e.F=Date.now(),Dh(e),e.A=Ji(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),tM(n.h,"t",r),e.C=0,n=e.l.H,e.h=new K2,e.g=EM(e.l,n?t:null,!e.s),0<e.O&&(e.L=new t5(Wt(e.Ia,e,e.g),e.O)),V2(e.V,e.g,"readystatechange",e.gb),t=e.H?C2(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Kf(),n5(e.j,e.u,e.A,e.m,e.X,e.s)}G.gb=function(e){e=e.target;var t=this.L;t&&Bi(e)==3?t.l():this.Ia(e)};G.Ia=function(e){try{if(e==this.g)e:{var t=Bi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||VE||this.g&&(this.h.h||this.g.ga()||MR(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Kf(3):Kf(2)),im(this);var i=this.g.ba();this.N=i;t:if(Q2(this)){var s=MR(this.g);e="";var a=s.length,l=Bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gs(this),df(this);var c="";break t}this.h.i=new ae.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,r5(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vv(h)){var v=h;break t}}v=null}if(i=v)Lu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,QE(this,i);else{this.i=!1,this.o=3,En(12),Gs(this),df(this);break e}}this.U?(Y2(this,t,c),VE&&this.i&&t==3&&(V2(this.V,this.W,"tick",this.fb),this.W.start())):(Lu(this.j,this.m,c,null),QE(this,c)),t==4&&Gs(this),this.i&&!this.I&&(t==4?mM(this.l,this):(this.i=!1,Dh(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,En(12)):(this.o=0,En(13)),Gs(this),df(this)}}}catch{}finally{}};function Q2(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function Y2(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=a5(e,n),i==$v){t==4&&(e.o=4,En(14),r=!1),Lu(e.j,e.m,null,"[Incomplete Response]");break}else if(i==KE){e.o=4,En(15),Lu(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Lu(e.j,e.m,i,null),QE(e,i);Q2(e)&&i!=$v&&i!=KE&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,En(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),bS(t),t.L=!0,En(11))):(Lu(e.j,e.m,n,"[Invalid Chunked Response]"),Gs(e),df(e))}G.fb=function(){if(this.g){var e=Bi(this.g),t=this.g.ga();this.C<t.length&&(im(this),Y2(this,e,t),this.i&&e!=4&&Dh(this))}};function a5(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?$v:(n=Number(t.substring(n,r)),isNaN(n)?KE:(r+=1,r+n>t.length?$v:(t=t.substr(r,n),e.C=r+n,t)))}G.cancel=function(){this.I=!0,Gs(this)};function Dh(e){e.Y=Date.now()+e.P,X2(e,e.P)}function X2(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Rh(Wt(e.eb,e),t)}function im(e){e.B&&(ae.clearTimeout(e.B),e.B=null)}G.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(i5(this.j,this.A),this.K!=2&&(Kf(),En(17)),Gs(this),this.o=2,df(this)):X2(this,this.Y-e)};function df(e){e.l.G==0||e.I||mM(e.l,e)}function Gs(e){im(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,hS(e.W),B2(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function QE(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||YE(n.i,e))){if(n.I=e.N,!e.J&&YE(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Hv(n),um(n);else break e;SS(n),En(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Rh(Wt(n.ab,n),6e3));if(1>=iM(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Qs(n,11)}else if((e.J||n.g==e)&&Hv(n),!Vv(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var c=s[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var v=r.i;!v.g&&(yn(p,"spdy")||yn(p,"quic")||yn(p,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(_S(v,v.h),v.h=null))}if(r.D){var m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,We(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=wM(r,r.H?r.la:null,r.W),y.J){oM(r.i,y);var w=y,I=r.K;I&&w.setTimeout(I),w.B&&(im(w),Dh(w)),r.g=y}else vM(r);0<n.l.length&&lm(n)}else s[0]!="stop"&&s[0]!="close"||Qs(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Qs(n,7):IS(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Kf(4)}catch{}}function u5(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(jE(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function mS(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(jE(e)||typeof e=="string")k2(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(jE(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=u5(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Ll(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ll)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}G=Ll.prototype;G.R=function(){yS(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};G.T=function(){return yS(this),this.g.concat()};function yS(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ma(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],ma(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}G.get=function(e,t){return ma(this.h,e)?this.h[e]:t};G.set=function(e,t){ma(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};G.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function ma(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var J2=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function l5(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ya(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ya){this.g=t!==void 0?t:e.g,qv(this,e.j),this.s=e.s,zv(this,e.i),Wv(this,e.m),this.l=e.l,t=e.h;var n=new Gf;n.i=t.i,t.g&&(n.g=new Ll(t.g),n.h=t.h),DR(this,n),this.o=e.o}else e&&(n=String(e).match(J2))?(this.g=!!t,qv(this,n[1]||"",!0),this.s=pf(n[2]||""),zv(this,n[3]||"",!0),Wv(this,n[4]),this.l=pf(n[5]||"",!0),DR(this,n[6]||"",!0),this.o=pf(n[7]||"")):(this.g=!!t,this.h=new Gf(null,this.g))}ya.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qc(t,xR,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Qc(t,xR,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Qc(n,n.charAt(0)=="/"?p5:d5,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qc(n,g5)),e.join("")};function Ji(e){return new ya(e)}function qv(e,t,n){e.j=n?pf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zv(e,t,n){e.i=n?pf(t,!0):t}function Wv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function DR(e,t,n){t instanceof Gf?(e.h=t,m5(e.h,e.g)):(n||(t=Qc(t,v5)),e.h=new Gf(t,e.g))}function We(e,t,n){e.h.set(t,n)}function om(e){return We(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function c5(e){return e instanceof ya?Ji(e):new ya(e,void 0)}function f5(e,t,n,r){var i=new ya(null,void 0);return e&&qv(i,e),t&&zv(i,t),n&&Wv(i,n),r&&(i.l=r),i}function pf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,h5),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function h5(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var xR=/[#\/\?@]/g,d5=/[#\?:]/g,p5=/[#\?]/g,v5=/[#\?@]/g,g5=/#/g;function Gf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ss(e){e.g||(e.g=new Ll,e.h=0,e.i&&l5(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}G=Gf.prototype;G.add=function(e,t){ss(this),this.i=null,e=Ml(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Z2(e,t){ss(e),t=Ml(e,t),ma(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,ma(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&yS(e)))}function eM(e,t){return ss(e),t=Ml(e,t),ma(e.g.h,t)}G.forEach=function(e,t){ss(this),this.g.forEach(function(n,r){k2(n,function(i){e.call(t,i,r,this)},this)},this)};G.T=function(){ss(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};G.R=function(e){ss(this);var t=[];if(typeof e=="string")eM(this,e)&&(t=SR(t,this.g.get(Ml(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=SR(t,e[n])}return t};G.set=function(e,t){return ss(this),this.i=null,e=Ml(this,e),eM(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};G.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function tM(e,t,n){Z2(e,t),0<n.length&&(e.i=null,e.g.set(Ml(e,t),rS(n)),e.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function Ml(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function m5(e,t){t&&!e.j&&(ss(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Z2(this,r),tM(this,i,n))},e)),e.j=t}var y5=function(){function e(t,n){this.h=t,this.g=n}return e}();function nM(e){this.l=e||_5,ae.PerformanceNavigationTiming?(e=ae.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ae.g&&ae.g.Ea&&ae.g.Ea()&&ae.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _5=10;function rM(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function iM(e){return e.h?1:e.g?e.g.size:0}function YE(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function _S(e,t){e.g?e.g.add(t):e.h=t}function oM(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}nM.prototype.cancel=function(){var e,t;if(this.i=sM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=S2(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function sM(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=S2(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return rS(e.i)}function wS(){}wS.prototype.stringify=function(e){return ae.JSON.stringify(e,void 0)};wS.prototype.parse=function(e){return ae.JSON.parse(e,void 0)};function w5(){this.g=new wS}function E5(e,t,n){var r=n||"";try{mS(e,function(i,s){var a=i;Ah(i)&&(a=cS(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function T5(e,t){var n=new em;if(ae.Image){var r=new Image;r.onload=yp(wp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=yp(wp,n,r,"TestLoadImage: error",!1,t),r.onabort=yp(wp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=yp(wp,n,r,"TestLoadImage: timeout",!1,t),ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function wp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function xh(e){this.l=e.$b||null,this.j=e.ib||!1}Qt(xh,pS);xh.prototype.g=function(){return new sm(this.l,this.j)};xh.prototype.i=function(e){return function(){return e}}({});function sm(e,t){Lt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ES,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qt(sm,Lt);var ES=0;G=sm.prototype;G.open=function(e,t){if(this.readyState!=ES)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Qf(this)};G.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ae).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lh(this)),this.readyState=ES};G.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Qf(this)),this.g&&(this.readyState=3,Qf(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aM(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function aM(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}G.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lh(this):Qf(this),this.readyState==3&&aM(this)}};G.Ua=function(e){this.g&&(this.response=this.responseText=e,Lh(this))};G.Ta=function(e){this.g&&(this.response=e,Lh(this))};G.ha=function(){this.g&&Lh(this)};function Lh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Qf(e)}G.setRequestHeader=function(e,t){this.v.append(e,t)};G.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Qf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(sm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var I5=ae.JSON.parse;function pt(e){Lt.call(this),this.headers=new Ll,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uM,this.K=this.L=!1}Qt(pt,Lt);var uM="",S5=/^https?$/i,b5=["POST","PUT"];G=pt.prototype;G.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():HE.g(),this.C=this.u?OR(this.u):OR(HE),this.g.onreadystatechange=Wt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){LR(this,s);return}e=n||"";var i=new Ll(this.headers);r&&mS(r,function(s,a){i.set(a,s)}),r=MG(i.T()),n=ae.FormData&&e instanceof ae.FormData,!(0<=b2(b5,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fM(this),0<this.B&&((this.K=k5(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.pa,this)):this.A=dS(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){LR(this,s)}};function k5(e){return al&&BG()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function C5(e){return e.toLowerCase()=="content-type"}G.pa=function(){typeof nS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))};function LR(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,lM(e),am(e)}function lM(e){e.D||(e.D=!0,Ht(e,"complete"),Ht(e,"error"))}G.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ht(this,"complete"),Ht(this,"abort"),am(this))};G.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),am(this,!0)),pt.Z.M.call(this)};G.Fa=function(){this.s||(this.F||this.v||this.l?cM(this):this.cb())};G.cb=function(){cM(this)};function cM(e){if(e.h&&typeof nS<"u"&&(!e.C[1]||Bi(e)!=4||e.ba()!=2)){if(e.v&&Bi(e)==4)dS(e.Fa,0,e);else if(Ht(e,"readystatechange"),Bi(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(J2)[1]||null;if(!s&&ae.self&&ae.self.location){var a=ae.self.location.protocol;s=a.substr(0,a.length-1)}i=!S5.test(s?s.toLowerCase():"")}r=i}if(r)Ht(e,"complete"),Ht(e,"success");else{e.m=6;try{var l=2<Bi(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",lM(e)}}finally{am(e)}}}}function am(e,t){if(e.g){fM(e);var n=e.g,r=e.C[0]?jv:null;e.g=null,e.C=null,t||Ht(e,"ready");try{n.onreadystatechange=r}catch{}}}function fM(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ae.clearTimeout(e.A),e.A=null)}function Bi(e){return e.g?e.g.readyState:0}G.ba=function(){try{return 2<Bi(this)?this.g.status:-1}catch{return-1}};G.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),I5(t)}};function MR(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case uM:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}G.Da=function(){return this.m};G.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function A5(e){var t="";return iS(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function TS(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=A5(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):We(e,t,n))}function $c(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function hM(e){this.za=0,this.l=[],this.h=new em,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$c("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$c("baseRetryDelayMs",5e3,e),this.$a=$c("retryDelaySeedMs",1e4,e),this.Ya=$c("forwardChannelMaxRetries",2,e),this.ra=$c("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new nM(e&&e.concurrentRequestLimit),this.Ca=new w5,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}G=hM.prototype;G.ma=8;G.G=1;function IS(e){if(dM(e),e.G==3){var t=e.V++,n=Ji(e.F);We(n,"SID",e.J),We(n,"RID",t),We(n,"TYPE","terminate"),Mh(e,n),t=new Oh(e,e.h,t,void 0),t.K=2,t.v=om(Ji(n)),n=!1,ae.navigator&&ae.navigator.sendBeacon&&(n=ae.navigator.sendBeacon(t.v.toString(),"")),!n&&ae.Image&&(new Image().src=t.v,n=!0),n||(t.g=EM(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Dh(t)}_M(e)}G.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function um(e){e.g&&(bS(e),e.g.cancel(),e.g=null)}function dM(e){um(e),e.u&&(ae.clearTimeout(e.u),e.u=null),Hv(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ae.clearTimeout(e.m),e.m=null)}function Z_(e,t){e.l.push(new y5(e.Za++,t)),e.G==3&&lm(e)}function lm(e){rM(e.i)||e.m||(e.m=!0,fS(e.Ha,e),e.C=0)}function N5(e,t){return iM(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Rh(Wt(e.Ha,e,t),yM(e,e.C)),e.C++,!0)}G.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Oh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=C2(n),A2(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=pM(this,t,r),i=Ji(this.F),We(i,"RID",e),We(i,"CVER",22),this.D&&We(i,"X-HTTP-Session-Id",this.D),Mh(this,i),this.o&&n&&TS(i,this.o,n),_S(this.i,t),this.Ra&&We(i,"TYPE","init"),this.ja?(We(i,"$req",r),We(i,"SID","null"),t.$=!0,GE(t,i,null)):GE(t,i,r),this.G=2}}else this.G==3&&(e?FR(this,e):this.l.length==0||rM(this.i)||FR(this))};function FR(e,t){var n;t?n=t.m:n=e.V++;var r=Ji(e.F);We(r,"SID",e.J),We(r,"RID",n),We(r,"AID",e.U),Mh(e,r),e.o&&e.s&&TS(r,e.o,e.s),n=new Oh(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=pM(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),_S(e.i,n),GE(n,r,t)}function Mh(e,t){e.j&&mS({},function(n,r){We(t,r,n)})}function pM(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Wt(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].h,p=i[c].g;if(h-=s,0>h)s=Math.max(0,i[c].h-100),l=!1;else try{E5(p,a,"req"+h+"_")}catch{r&&r(p)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function vM(e){e.g||e.u||(e.Y=1,fS(e.Ga,e),e.A=0)}function SS(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Rh(Wt(e.Ga,e),yM(e,e.A)),e.A++,!0)}G.Ga=function(){if(this.u=null,gM(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Rh(Wt(this.bb,this),e)}};G.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,En(10),um(this),gM(this))};function bS(e){e.B!=null&&(ae.clearTimeout(e.B),e.B=null)}function gM(e){e.g=new Oh(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Ji(e.oa);We(t,"RID","rpc"),We(t,"SID",e.J),We(t,"CI",e.N?"0":"1"),We(t,"AID",e.U),Mh(e,t),We(t,"TYPE","xmlhttp"),e.o&&e.s&&TS(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=om(Ji(t)),n.s=null,n.U=!0,G2(n,e)}G.ab=function(){this.v!=null&&(this.v=null,um(this),SS(this),En(19))};function Hv(e){e.v!=null&&(ae.clearTimeout(e.v),e.v=null)}function mM(e,t){var n=null;if(e.g==t){Hv(e),bS(e),e.g=null;var r=2}else if(YE(e.i,t))n=t.D,oM(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=tm(),Ht(r,new z2(r,n)),lm(e)}else vM(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&N5(e,t)||r==2&&SS(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Qs(e,5);break;case 4:Qs(e,10);break;case 3:Qs(e,6);break;default:Qs(e,2)}}}function yM(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Qs(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Wt(e.jb,e);n||(n=new ya("//www.google.com/images/cleardot.gif"),ae.location&&ae.location.protocol=="http"||qv(n,"https"),om(n)),T5(n.toString(),r)}else En(2);e.G=0,e.j&&e.j.va(t),_M(e),dM(e)}G.jb=function(e){e?(this.h.info("Successfully pinged google.com"),En(2)):(this.h.info("Failed to ping google.com"),En(1))};function _M(e){e.G=0,e.I=-1,e.j&&((sM(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,rS(e.l),e.l.length=0),e.j.ua())}function wM(e,t,n){var r=c5(n);if(r.i!="")t&&zv(r,t+"."+r.i),Wv(r,r.m);else{var i=ae.location;r=f5(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&iS(e.aa,function(s,a){We(r,a,s)}),t=e.D,n=e.sa,t&&n&&We(r,t,n),We(r,"VER",e.ma),Mh(e,r),r}function EM(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new pt(new xh({ib:!0})):new pt(e.qa),t.L=e.H,t}function TM(){}G=TM.prototype;G.xa=function(){};G.wa=function(){};G.va=function(){};G.ua=function(){};G.Oa=function(){};function Kv(){if(al&&!(10<=Number($G)))throw Error("Environmental error: no available transport.")}Kv.prototype.g=function(e,t){return new ir(e,t)};function ir(e,t){Lt.call(this),this.g=new hM(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Vv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vv(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Fl(this)}Qt(ir,Lt);ir.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),fS(Wt(e.hb,e,t))),En(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=wM(e,null,e.W),lm(e)};ir.prototype.close=function(){IS(this.g)};ir.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Z_(this.g,t)}else this.v?(t={},t.__data__=cS(e),Z_(this.g,t)):Z_(this.g,e)};ir.prototype.M=function(){this.g.j=null,delete this.j,IS(this.g),delete this.g,ir.Z.M.call(this)};function IM(e){vS.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Qt(IM,vS);function SM(){gS.call(this),this.status=1}Qt(SM,gS);function Fl(e){this.g=e}Qt(Fl,TM);Fl.prototype.xa=function(){Ht(this.g,"a")};Fl.prototype.wa=function(e){Ht(this.g,new IM(e))};Fl.prototype.va=function(e){Ht(this.g,new SM)};Fl.prototype.ua=function(){Ht(this.g,"b")};Kv.prototype.createWebChannel=Kv.prototype.g;ir.prototype.send=ir.prototype.u;ir.prototype.open=ir.prototype.m;ir.prototype.close=ir.prototype.close;nm.NO_ERROR=0;nm.TIMEOUT=8;nm.HTTP_ERROR=6;W2.COMPLETE="complete";H2.EventType=Ph;Ph.OPEN="a";Ph.CLOSE="b";Ph.ERROR="c";Ph.MESSAGE="d";Lt.prototype.listen=Lt.prototype.N;pt.prototype.listenOnce=pt.prototype.O;pt.prototype.getLastError=pt.prototype.La;pt.prototype.getLastErrorCode=pt.prototype.Da;pt.prototype.getStatus=pt.prototype.ba;pt.prototype.getResponseJson=pt.prototype.Qa;pt.prototype.getResponseText=pt.prototype.ga;pt.prototype.send=pt.prototype.ea;var R5=function(){return new Kv},P5=function(){return tm()},ew=nm,O5=W2,D5=Oa,UR={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},x5=xh,Ep=H2,L5=pt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Xn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return H(t,e),t}(Error),Qr=new Aa("@firebase/firestore");function XE(){return Qr.logLevel}function q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Qr.logLevel<=ge.DEBUG){var r=t.map(kS);Qr.debug.apply(Qr,he(["Firestore (8.8.1): "+e],r))}}function dt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Qr.logLevel<=ge.ERROR){var r=t.map(kS);Qr.error.apply(Qr,he(["Firestore (8.8.1): "+e],r))}}function Yf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Qr.logLevel<=ge.WARN){var r=t.map(kS);Qr.warn.apply(Qr,he(["Firestore (8.8.1): "+e],r))}}function kS(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+e;throw dt(t),new Error(t)}function re(e,t){e||J()}function W(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bM=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=M5(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function _e(e,t){return e<t?-1:e>t?1:0}function ul(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function kM(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new U(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new U(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new U(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?_e(this.nanoseconds,t.nanoseconds):_e(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ve=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Vn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Da(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function CM(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AM=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&J(),r===void 0?r=t.length-n:r>t.length-n&&J(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Ce=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new U(D.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(AM),F5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return F5.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new U(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new U(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new U(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new U(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(AM),ll=function(){function e(t){this.fields=t,t.sort(Jr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return ul(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),In=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return _e(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();In.EMPTY_BYTE_STRING=new In("");var U5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zo(e){if(re(!!e),typeof e=="string"){var t=0,n=U5.exec(e);if(re(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ft(e.seconds),nanos:ft(e.nanos)}}function ft(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function cl(e){return typeof e=="string"?In.fromBase64String(e):In.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function NM(e){var t=e.mapValue.fields.__previous_value__;return CS(t)?NM(t):t}function Xf(e){var t=Zo(e.mapValue.fields.__local_write_time__.timestampValue);return new Vn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(e){return e==null}function Gv(e){return e===0&&1/e==-1/0}function RM(e){return typeof e=="number"&&Number.isInteger(e)&&!Gv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Ce.fromString(t))},e.fromName=function(t){return new e(Ce.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Ce.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Ce.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Ce(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?CS(e)?4:10:J()}function Si(e,t){var n=_a(e);if(n!==_a(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xf(e).isEqual(Xf(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=Zo(r.timestampValue),a=Zo(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return cl(r.bytesValue).isEqual(cl(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return ft(r.geoPointValue.latitude)===ft(i.geoPointValue.latitude)&&ft(r.geoPointValue.longitude)===ft(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ft(r.integerValue)===ft(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=ft(r.doubleValue),a=ft(i.doubleValue);return s===a?Gv(s)===Gv(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return ul(e.arrayValue.values||[],t.arrayValue.values||[],Si);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(jR(s)!==jR(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Si(s[l],a[l])))return!1;return!0}(e,t);default:return J()}}function Jf(e,t){return(e.values||[]).find(function(n){return Si(n,t)})!==void 0}function fl(e,t){var n=_a(e),r=_a(t);if(n!==r)return _e(n,r);switch(n){case 0:return 0;case 1:return _e(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=ft(i.integerValue||i.doubleValue),l=ft(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return VR(e.timestampValue,t.timestampValue);case 4:return VR(Xf(e),Xf(t));case 5:return _e(e.stringValue,t.stringValue);case 6:return function(i,s){var a=cl(i),l=cl(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=_e(a[c],l[c]);if(h!==0)return h}return _e(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=_e(ft(i.latitude),ft(s.latitude));return a!==0?a:_e(ft(i.longitude),ft(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=fl(a[c],l[c]);if(h)return h}return _e(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var p=0;p<l.length&&p<h.length;++p){var v=_e(l[p],h[p]);if(v!==0)return v;var m=fl(a[l[p]],c[h[p]]);if(m!==0)return m}return _e(l.length,h.length)}(e.mapValue,t.mapValue);default:throw J()}}function VR(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return _e(e,t);var n=Zo(e),r=Zo(t),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function AS(e){return JE(e)}function JE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=Zo(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?cl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Z.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=JE(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+JE(r.fields[c])}return i+"}"}(e.mapValue):J();var t,n}function Qv(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ZE(e){return!!e&&"integerValue"in e}function NS(e){return!!e&&"arrayValue"in e}function BR(e){return!!e&&"nullValue"in e}function $R(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wp(e){return!!e&&"mapValue"in e}function vf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Da(e.mapValue.fields,function(i,s){return t.mapValue.fields[i]=vf(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=vf(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Wp(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vf(n)},e.prototype.setAll=function(t){var n=this,r=Jr.emptyPath(),i={},s=[];t.forEach(function(l,c){if(!r.isImmediateParentOf(c)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=c.popLast()}l?i[c.lastSegment()]=vf(l):s.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Wp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Si(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];Wp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Da(n,function(l,c){return t[l]=c});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete t[a]}},e.prototype.clone=function(){return new e(vf(this.value))},e}();function PM(e){var t=[];return Da(e.fields,function(n,r){var i=new Jr([n]);if(Wp(r)){var s=PM(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new ll(t)}var Gt=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,ve.min(),Qn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Qn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Qn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),j5=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new j5(e,t,n,r,i,s,a)}function Fh(e){var t=W(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+AS(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),xa(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Xv(t.startAt)),t.endAt&&(n+="|ub:",n+=Xv(t.endAt)),t.h=n}return t.h}function cm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!K5(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Si(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!WR(e.startAt,t.startAt)&&WR(e.endAt,t.endAt)}function Yv(e){return Z.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Jn=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return H(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new V5(n,r,i):r==="array-contains"?new q5(n,i):r==="in"?new z5(n,i):r==="not-in"?new W5(n,i):r==="array-contains-any"?new H5(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new B5(n,i):new $5(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(fl(r,this.value)):r!==null&&_a(this.value)===_a(r)&&this.m(fl(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return J()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),V5=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=Z.fromName(i.referenceValue),s}return H(t,e),t.prototype.matches=function(n){var r=Z.comparator(n.key,this.key);return this.m(r)},t}(Jn),B5=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=OM("in",r),i}return H(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Jn),$5=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=OM("not-in",r),i}return H(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Jn);function OM(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Z.fromName(r.referenceValue)})}var q5=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return H(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return NS(r)&&Jf(r.arrayValue,this.value)},t}(Jn),z5=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return H(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Jf(this.value.arrayValue,r)},t}(Jn),W5=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return H(t,e),t.prototype.matches=function(n){if(Jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Jf(this.value.arrayValue,r)},t}(Jn),H5=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return H(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!NS(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return Jf(r.value.arrayValue,s)})},t}(Jn),Zf=function(e,t){this.position=e,this.before=t};function Xv(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return AS(t)}).join(",")}var zu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function K5(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function zR(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Z.comparator(Z.fromName(a.referenceValue),n.key):fl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function WR(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Si(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ro=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function DM(e,t,n,r,i,s,a,l){return new ro(e,t,n,r,i,s,a,l)}function Ul(e){return new ro(e)}function Hp(e){return!xa(e.limit)&&e.limitType==="F"}function Jv(e){return!xa(e.limit)&&e.limitType==="L"}function RS(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function PS(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function OS(e){return e.collectionGroup!==null}function hl(e){var t=W(e);if(t.p===null){t.p=[];var n=PS(t),r=RS(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new zu(n)),t.p.push(new zu(Jr.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new zu(Jr.keyField(),c))}}}return t.p}function kr(e){var t=W(e);if(!t.T)if(t.limitType==="F")t.T=qR(t.path,t.collectionGroup,hl(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=hl(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new zu(s.field,a))}var l=t.endAt?new Zf(t.endAt.position,!t.endAt.before):null,c=t.startAt?new Zf(t.startAt.position,!t.startAt.before):null;t.T=qR(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function xM(e,t,n){return new ro(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Uh(e,t){return cm(kr(e),kr(t))&&e.limitType===t.limitType}function LM(e){return Fh(kr(e))+"|lt:"+e.limitType}function eT(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+AS(i.value);var i}).join(", ")+"]"),xa(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Xv(t.startAt)),t.endAt&&(n+=", endAt: "+Xv(t.endAt)),"Target("+n+")"}(kr(e))+"; limitType="+e.limitType+")"}function jh(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Z.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!zR(n.startAt,hl(n),r))&&(!n.endAt||!zR(n.endAt,hl(n),r))}(e,t)}function MM(e){return function(t,n){for(var r=!1,i=0,s=hl(e);i<s.length;i++){var a=s[i],l=G5(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function G5(e,t,n){var r=e.field.isKeyField()?Z.comparator(t.key,n.key):function(i,s,a){var l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?fl(l,c):J()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gv(t)?"-0":t}}function UM(e){return{integerValue:""+e}}function jM(e,t){return RM(t)?UM(t):FM(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fm=function(){this._=void 0};function Q5(e,t,n){return e instanceof dl?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof wa?BM(e,t):e instanceof Ea?$M(e,t):function(r,i){var s=VM(r,i),a=HR(s)+HR(r.A);return ZE(s)&&ZE(r.A)?UM(a):FM(r.R,a)}(e,t)}function Y5(e,t,n){return e instanceof wa?BM(e,t):e instanceof Ea?$M(e,t):n}function VM(e,t){return e instanceof pl?ZE(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var dl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t}(fm),wa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return H(t,e),t}(fm);function BM(e,t){for(var n=qM(t),r=function(a){n.some(function(l){return Si(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ea=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return H(t,e),t}(fm);function $M(e,t){for(var n=qM(t),r=function(a){n=n.filter(function(l){return!Si(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var pl=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return H(t,e),t}(fm);function HR(e){return ft(e.integerValue||e.doubleValue)}function qM(e){return NS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vh=function(e,t){this.field=e,this.transform=t},X5=function(e,t){this.version=e,this.transformResults=t},nn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Kp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var hm=function(){};function J5(e,t,n){e instanceof Bh?function(r,i,s){var a=r.value.clone(),l=QR(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof as?function(r,i,s){if(Kp(r.precondition,i)){var a=QR(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(zM(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function tT(e,t,n){e instanceof Bh?function(r,i,s){if(Kp(r.precondition,i)){var a=r.value.clone(),l=YR(r.fieldTransforms,s,i);a.setAll(l),i.convertToFoundDocument(GR(i),a).setHasLocalMutations()}}(e,t,n):e instanceof as?function(r,i,s){if(Kp(r.precondition,i)){var a=YR(r.fieldTransforms,s,i),l=i.data;l.setAll(zM(r)),l.setAll(a),i.convertToFoundDocument(GR(i),l).setHasLocalMutations()}}(e,t,n):function(r,i){Kp(r.precondition,i)&&i.convertToNoDocument(ve.min())}(e,t)}function Z5(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),l=VM(s.transform,a||null);l!=null&&(n==null&&(n=Qn.empty()),n.set(s.field,l))}return n||null}function KR(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ul(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof wa&&h instanceof wa||c instanceof Ea&&h instanceof Ea?ul(c.elements,h.elements,Si):c instanceof pl&&h instanceof pl?Si(c.A,h.A):c instanceof dl&&h instanceof dl}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function GR(e){return e.isFoundDocument()?e.version:ve.min()}var Bh=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return H(t,e),t}(hm),as=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return H(t,e),t}(hm);function zM(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function QR(e,t,n){var r=new Map;re(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,Y5(a,l,n[i]))}return r}function YR(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,Q5(l,c,t))}return r}var ct,Te,$h=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return H(t,e),t}(hm),DS=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return H(t,e),t}(hm),e8=function(e){this.count=e};function WM(e){switch(e){case D.OK:return J();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return J()}}function HM(e){if(e===void 0)return dt("GRPC error has no .code"),D.UNKNOWN;switch(e){case ct.OK:return D.OK;case ct.CANCELLED:return D.CANCELLED;case ct.UNKNOWN:return D.UNKNOWN;case ct.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case ct.INTERNAL:return D.INTERNAL;case ct.UNAVAILABLE:return D.UNAVAILABLE;case ct.UNAUTHENTICATED:return D.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case ct.NOT_FOUND:return D.NOT_FOUND;case ct.ALREADY_EXISTS:return D.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return D.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case ct.ABORTED:return D.ABORTED;case ct.OUT_OF_RANGE:return D.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return D.UNIMPLEMENTED;case ct.DATA_LOSS:return D.DATA_LOSS;default:return J()}}(Te=ct||(ct={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn=function(){function e(t,n){this.comparator=t,this.root=n||ko.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ko.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ko.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Tp(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Tp(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Tp(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Tp(this.root,t,this.comparator,!0)},e}(),Tp=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),ko=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();var t=this.left.check();if(t!==this.right.check())throw J();return t+(this.isRed()?0:1)},e}();ko.EMPTY=null,ko.RED=!0,ko.BLACK=!1,ko.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw J()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new ko(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It=function(){function e(t){this.comparator=t,this.data=new cn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new XR(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new XR(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),XR=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),t8=new cn(Z.comparator);function Er(){return t8}var n8=new cn(Z.comparator);function nT(){return n8}var r8=new cn(Z.comparator);function KM(){return r8}var i8=new It(Z.comparator);function Pe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=i8,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var o8=new It(_e);function dm(){return o8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xS=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,LS.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ve.min(),r,dm(),Er(),Pe())},e}(),LS=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(In.EMPTY_BYTE_STRING,n,Pe(),Pe(),Pe())},e}(),Gp=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},GM=function(e,t){this.targetId=e,this.V=t},QM=function(e,t,n,r){n===void 0&&(n=In.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},JR=function(){function e(){this.S=0,this.D=eP(),this.C=In.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},e.prototype.M=function(){var t=Pe(),n=Pe(),r=Pe();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new LS(this.C,this.N,t,n,r)},e.prototype.L=function(){this.F=!1,this.D=eP()},e.prototype.B=function(t,n){this.F=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),s8=function(){function e(t){this.W=t,this.G=new Map,this.H=Er(),this.J=ZR(),this.Y=new It(_e)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.k||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.k||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:J()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(Yv(s))if(r===0){var a=new Z(s.path);this.tt(n,a,Gt.newNoDocument(a,ve.min()))}else re(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&Yv(c.target)){var h=new Z(c.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,Gt.newNoDocument(h,t))}a.$&&(r.set(l,a.M()),a.L())}});var i=Pe();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var p=n.ot(h);return!p||p.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new xS(t,r,this.Y,this.H,i);return this.H=Er(),this.J=ZR(),this.Y=new It(_e),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new JR,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new It(_e),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.k?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new JR),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function ZR(){return new cn(Z.comparator)}function eP(){return new cn(Z.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a8={asc:"ASCENDING",desc:"DESCENDING"},u8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l8=function(e,t){this.databaseId=e,this.I=t};function eh(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function YM(e,t){return e.I?t.toBase64():t.toUint8Array()}function c8(e,t){return eh(e,t.toTimestamp())}function Ot(e){return re(!!e),ve.fromTimestamp(function(t){var n=Zo(t);return new Vn(n.seconds,n.nanos)}(e))}function MS(e,t){return function(n){return new Ce(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function XM(e){var t=Ce.fromString(e);return re(oF(t)),t}function th(e,t){return MS(e.databaseId,t.path)}function mi(e,t){var n=XM(t);if(n.get(1)!==e.databaseId.projectId)throw new U(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new U(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Z(ZM(n))}function rT(e,t){return MS(e.databaseId,t)}function JM(e){var t=XM(e);return t.length===4?Ce.emptyPath():ZM(t)}function nh(e){return new Ce(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ZM(e){return re(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function tP(e,t,n){return{name:th(e,t),fields:n.value.mapValue.fields}}function eF(e,t,n){var r=mi(e,t.name),i=Ot(t.updateTime),s=new Qn({mapValue:{fields:t.fields}}),a=Gt.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Zv(e,t){var n;if(t instanceof Bh)n={update:tP(e,t.key,t.value)};else if(t instanceof $h)n={delete:th(e,t.key)};else if(t instanceof as)n={update:tP(e,t.key,t.data),updateMask:v8(t.fieldMask)};else{if(!(t instanceof DS))return J();n={verify:th(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof dl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ea)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pl)return{fieldPath:s.field.canonicalString(),increment:a.A};throw J()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:c8(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J()}(e,t.precondition)),n}function nP(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?nn.updateTime(Ot(h.updateTime)):h.exists!==void 0?nn.exists(h.exists):nn.none()}(t.currentDocument):nn.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,v){var m=null;if("setToServerValue"in v)re(v.setToServerValue==="REQUEST_TIME"),m=new dl;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];m=new wa(y)}else if("removeAllFromArray"in v){var w=v.removeAllFromArray.values||[];m=new Ea(w)}else"increment"in v?m=new pl(p,v.increment):J();var I=Jr.fromServerFormat(v.fieldPath);return new Vh(I,m)}(e,h)}):[];if(t.update){t.update.name;var i=mi(e,t.update.name),s=new Qn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var p=h.fieldPaths||[];return new ll(p.map(function(v){return Jr.fromServerFormat(v)}))}(t.updateMask);return new as(i,s,a,n,r)}return new Bh(i,s,n,r)}if(t.delete){var l=mi(e,t.delete);return new $h(l,n)}if(t.verify){var c=mi(e,t.verify);return new DS(c,n)}return J()}function tF(e,t){return{documents:[rT(e,t.path)]}}function nF(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=rT(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rT(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(p){if(p.op==="=="){if($R(p.value))return{unaryFilter:{field:vu(p.field),op:"IS_NAN"}};if(BR(p.value))return{unaryFilter:{field:vu(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if($R(p.value))return{unaryFilter:{field:vu(p.field),op:"IS_NOT_NAN"}};if(BR(p.value))return{unaryFilter:{field:vu(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vu(p.field),op:h8(p.op),value:p.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:vu(h.field),direction:f8(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.I||xa(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=rP(t.startAt)),t.endAt&&(n.structuredQuery.endAt=rP(t.endAt)),n}function rF(e){var t=JM(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){re(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=iF(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(m){return new zu(Mu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var c=null;n.limit&&(c=function(v){var m;return xa(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var h=null;n.startAt&&(h=iP(n.startAt));var p=null;return n.endAt&&(p=iP(n.endAt)),DM(t,i,l,a,c,"F",h,p)}function iF(e){return e?e.unaryFilter!==void 0?[p8(e)]:e.fieldFilter!==void 0?[d8(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return iF(t)}).reduce(function(t,n){return t.concat(n)}):J():[]}function rP(e){return{before:e.before,values:e.position}}function iP(e){var t=!!e.before,n=e.values||[];return new Zf(n,t)}function f8(e){return a8[e]}function h8(e){return u8[e]}function vu(e){return{fieldPath:e.canonicalString()}}function Mu(e){return Jr.fromServerFormat(e.fieldPath)}function d8(e){return Jn.create(Mu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return J()}}(e.fieldFilter.op),e.fieldFilter.value)}function p8(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Mu(e.unaryFilter.field);return Jn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Mu(e.unaryFilter.field);return Jn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Mu(e.unaryFilter.field);return Jn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Mu(e.unaryFilter.field);return Jn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return J()}}function v8(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function oF(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=oP(t)),t=g8(e.get(n),t);return oP(t)}function g8(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function oP(e){return e+""}function $i(e){var t=e.length;if(re(t>=2),t===2)return re(e.charAt(0)===""&&e.charAt(1)===""),Ce.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&J(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:J()}s=a+2}return new Ce(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m8=function(e,t){this.seconds=e,this.nanoseconds=t},Kn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Kn.store="owner",Kn.key="owner";var qo=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};qo.store="mutationQueues",qo.keyPath="userId";var Ve=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ve.store="mutations",Ve.keyPath="batchId",Ve.userMutationsIndex="userMutationsIndex",Ve.userMutationsKeyPath=["userId","batchId"];var tn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Yr(n)]},e.key=function(t,n,r){return[t,Yr(n),r]},e}();tn.store="documentMutations",tn.PLACEHOLDER=new tn;var y8=function(e,t){this.path=e,this.readTime=t},_8=function(e,t){this.path=e,this.version=t},nt=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};nt.store="remoteDocuments",nt.readTimeIndex="readTimeIndex",nt.readTimeIndexPath="readTime",nt.collectionReadTimeIndex="collectionReadTimeIndex",nt.collectionReadTimeIndexPath=["parentPath","readTime"];var di=function(e){this.byteSize=e};di.store="remoteDocumentGlobal",di.key="remoteDocumentGlobalKey";var Ln=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};Ln.store="targets",Ln.keyPath="targetId",Ln.queryTargetsIndexName="queryTargetsIndex",Ln.queryTargetsKeyPath=["canonicalId","targetId"];var $t=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};$t.store="targetDocuments",$t.keyPath=["targetId","path"],$t.documentTargetsIndex="documentTargetsIndex",$t.documentTargetsKeyPath=["path","targetId"];var Gn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Gn.key="targetGlobalKey",Gn.store="targetGlobal";var ra=function(e,t){this.collectionId=e,this.parent=t};ra.store="collectionParents",ra.keyPath=["collectionId","parent"];var Wi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Wi.store="clientMetadata",Wi.keyPath="clientId";var vl=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};vl.store="bundles",vl.keyPath="bundleId";var gl=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};gl.store="namedQueries",gl.keyPath="name";var w8=he(he([],he(he([],he(he([],he(he([],[qo.store,Ve.store,tn.store,nt.store,Ln.store,Kn.store,Gn.store,$t.store]),[Wi.store])),[di.store])),[ra.store])),[vl.store,gl.store]),sF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",aF=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),ln=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},j=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),uF=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new ln,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new gf(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=FS(i.target.error);r.ft.reject(new gf(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new gf(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(q("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new T8(n)},e}(),ml=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(da())===12.2&&dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return q("SimpleDb","Removing database:",t),$s(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=da(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return N(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(q("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new gf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new U(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new gf(t,h))},l.onupgradeneeded=function(c){q("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,l.transaction,c.oldVersion,r.version).next(function(){q("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return N(this,void 0,void 0,function(){var s,a,l,c,h;return A(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var v,m,y,w,I;return A(this,function(C){switch(C.label){case 0:++a,C.label=1;case 1:return C.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=C.sent(),v=uF.open(c.db,t,s?"readonly":"readwrite",r),m=i(v).catch(function(T){return v.abort(T),j.reject(T)}).toPromise(),y={},m.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(C.sent(),m),y)];case 4:return w=C.sent(),I=w.name!=="FirebaseError"&&a<3,q("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),c.close(),I?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),E8=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return $s(this.Pt.delete())},e}(),gf=function(e){function t(n,r){var i=this;return(i=e.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return H(t,e),t}(U);function La(e){return e.name==="IndexedDbTransactionError"}var T8=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(q("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(q("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),$s(r)},e.prototype.add=function(t){return q("SimpleDb","ADD",this.store.name,t,t),$s(this.store.add(t))},e.prototype.get=function(t){var n=this;return $s(this.store.get(t)).next(function(r){return r===void 0&&(r=null),q("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return q("SimpleDb","DELETE",this.store.name,t),$s(this.store.delete(t))},e.prototype.count=function(){return q("SimpleDb","COUNT",this.store.name),$s(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.Ft=function(t,n){q("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.kt=!1;var i=this.cursor(r);return this.xt(i,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new j(function(r,i){n.onerror=function(s){var a=FS(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new j(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new E8(l),h=n(l.primaryKey,l.value,c);if(h instanceof j){var p=h.catch(function(v){return c.done(),j.reject(v)});r.push(p)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return j.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.kt?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function $s(e){return new j(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=FS(r.target.error);n(i)}})}var sP=!1;function FS(e){var t=ml._t(da());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new U("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sP||(sP=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aP=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return H(t,e),t}(aF);function $n(e,t){var n=W(e);return ml.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var US=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&J5(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&tT(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&tT(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(ve.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Pe())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&ul(this.mutations,t.mutations,function(n,r){return KR(n,r)})&&ul(this.baseMutations,t.baseMutations,function(n,r){return KR(n,r)})},e}(),I8=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){re(t.mutations.length===r.length);for(var i=KM(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),pm=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=ve.min()),a===void 0&&(a=ve.min()),l===void 0&&(l=In.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),lF=function(e){this.Lt=e};function iT(e,t){if(t.document)return eF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Z.fromSegments(t.noDocument.path),r=_l(t.noDocument.readTime),i=Gt.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=Z.fromSegments(t.unknownDocument.path);return r=_l(t.unknownDocument.version),Gt.newUnknownDocument(s,r)}return J()}function uP(e,t,n){var r=jS(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,m){return{name:th(v,m.key),fields:m.data.value.mapValue.fields,updateTime:eh(v,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new nt(null,null,s,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=yl(t.version);return a=t.hasCommittedMutations,new nt(null,new y8(l,c),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),p=yl(t.version);return new nt(new _8(h,p),null,null,!0,r,i)}return J()}function jS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function cF(e){var t=new Vn(e[0],e[1]);return ve.fromTimestamp(t)}function yl(e){var t=e.toTimestamp();return new m8(t.seconds,t.nanoseconds)}function _l(e){var t=new Vn(e.seconds,e.nanoseconds);return ve.fromTimestamp(t)}function wu(e,t){for(var n=(t.baseMutations||[]).map(function(c){return nP(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return nP(e.Lt,c)}),l=Vn.fromMillis(t.localWriteTimeMs);return new US(t.batchId,l,n,a)}function Yc(e){var t,n,r=_l(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?_l(e.lastLimboFreeSnapshotVersion):ve.min();return e.query.documents!==void 0?(re((n=e.query).documents.length===1),t=kr(Ul(JM(n.documents[0])))):t=function(s){return kr(rF(s))}(e.query),new pm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,In.fromBase64String(e.resumeToken))}function fF(e,t){var n,r=yl(t.snapshotVersion),i=yl(t.lastLimboFreeSnapshotVersion);n=Yv(t.target)?tF(e.Lt,t.target):nF(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Ln(t.targetId,Fh(t.target),r,s,t.sequenceNumber,i,n)}function VS(e){var t=rF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?xM(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S8=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return lP(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:_l(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return lP(t).put({bundleId:(r=n).id,createTime:yl(Ot(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return cP(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:VS(i.bundledQuery),readTime:_l(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return cP(t).put(function(r){return{name:r.name,readTime:yl(Ot(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function lP(e){return $n(e,vl.store)}function cP(e){return $n(e,gl.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b8=function(){function e(){this.Bt=new BS}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),j.resolve()},e.prototype.getCollectionParents=function(t,n){return j.resolve(this.Bt.getEntries(n))},e}(),BS=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new It(Ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new It(Ce.comparator)).toArray()},e}(),k8=function(){function e(){this.qt=new BS}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Yr(s)};return fP(t).put(a)}return j.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[kM(n),""],!1,!0);return fP(t).Nt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push($i(c.parent))}return r})},e}();function fP(e){return $n(e,ra.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fi=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(e,t,n){var r=e.store(Ve.store),i=e.store(tn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.$t({range:a},function(w,I,C){return l++,C.delete()});s.push(c.next(function(){re(l===1)}));for(var h=[],p=0,v=n.mutations;p<v.length;p++){var m=v[p],y=tn.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return j.waitFor(s).next(function(){return h})}function eg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw J();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi.DEFAULT_COLLECTION_PERCENTILE=10,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fi.DEFAULT=new fi(41943040,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fi.DISABLED=new fi(-1,0,0);var C8=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return re(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yo(t).$t({index:Ve.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=Eu(t),l=yo(t);return l.add({}).next(function(c){re(typeof c=="number");for(var h=new US(c,n,r,i),p=function(T,S,b){var P=b.baseMutations.map(function(O){return Zv(T.Lt,O)}),L=b.mutations.map(function(O){return Zv(T.Lt,O)});return new Ve(S,b.batchId,b.localWriteTime.toMillis(),P,L)}(s.R,s.userId,h),v=[],m=new It(function(T,S){return _e(T.canonicalString(),S.canonicalString())}),y=0,w=i;y<w.length;y++){var I=w[y],C=tn.key(s.userId,I.key.path,c);m=m.add(I.key.path.popLast()),v.push(l.put(p)),v.push(a.put(C,tn.PLACEHOLDER))}return m.forEach(function(T){v.push(s.Ut.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(function(){s.Kt[c]=h.keys()}),j.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return yo(t).get(n).next(function(i){return i?(re(i.userId===r.userId),wu(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?j.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return yo(t).$t({index:Ve.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(re(c.batchId>=i),a=wu(r.R,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return yo(t).$t({index:Ve.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yo(t).Nt(Ve.userMutationsIndex,r).next(function(i){return i.map(function(s){return wu(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=tn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Eu(t).$t({range:s},function(l,c,h){var p=l[0],v=l[1],m=l[2],y=$i(v);if(p===r.userId&&n.path.isEqual(y))return yo(t).get(m).next(function(w){if(!w)throw J();re(w.userId===r.userId),a.push(wu(r.R,w))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new It(_e),s=[];return n.forEach(function(a){var l=tn.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=Eu(t).$t({range:c},function(p,v,m){var y=p[0],w=p[1],I=p[2],C=$i(w);y===r.userId&&a.path.isEqual(C)?i=i.add(I):m.done()});s.push(h)}),j.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=tn.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new It(_e);return Eu(t).$t({range:l},function(h,p,v){var m=h[0],y=h[1],w=h[2],I=$i(y);m===r.userId&&i.isPrefixOf(I)?I.length===s&&(c=c.add(w)):v.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(yo(t).get(a).next(function(l){if(l===null)throw J();re(l.userId===r.userId),i.push(wu(r.R,l))}))}),j.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return hF(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),j.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return j.resolve();var i=IDBKeyRange.lowerBound(tn.prefixForUser(n.userId)),s=[];return Eu(t).$t({range:i},function(a,l,c){if(a[0]===n.userId){var h=$i(a[1]);s.push(h)}else c.done()}).next(function(){re(s.length===0)})})},e.prototype.containsKey=function(t,n){return dF(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return pF(t).get(this.userId).next(function(r){return r||new qo(n.userId,-1,"")})},e}();function dF(e,t,n){var r=tn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Eu(e).$t({range:s,kt:!0},function(l,c,h){var p=l[0],v=l[1];l[2],p===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function yo(e){return $n(e,Ve.store)}function Eu(e){return $n(e,tn.store)}function pF(e){return $n(e,qo.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tg=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),A8=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new tg(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ve.fromTimestamp(new Vn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return gu(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return re(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return gu(t).$t(function(l,c){var h=Yc(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return j.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return gu(t).$t(function(r,i){var s=Yc(i);n(s)})},e.prototype.Xt=function(t){return dP(t).get(Gn.key).next(function(n){return re(n!==null),n})},e.prototype.Zt=function(t,n){return dP(t).put(Gn.key,n)},e.prototype.te=function(t,n){return gu(t).put(fF(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Fh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return gu(t).$t({range:i,index:Ln.queryTargetsIndexName},function(a,l,c){var h=Yc(l);cm(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=Co(t);return n.forEach(function(l){var c=Yr(l.path);s.push(a.put(new $t(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),j.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=Co(t);return j.forEach(n,function(a){var l=Yr(a.path);return j.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Co(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Co(t),s=Pe();return i.$t({range:r,kt:!0},function(a,l,c){var h=$i(a[1]),p=new Z(h);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Yr(n.path),i=IDBKeyRange.bound([r],[kM(r)],!1,!0),s=0;return Co(t).$t({index:$t.documentTargetsIndex,kt:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return gu(t).get(n).next(function(r){return r?Yc(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(e){return $n(e,Ln.store)}function dP(e){return $n(e,Gn.store)}function Co(e){return $n(e,$t.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(e){return N(this,void 0,void 0,function(){return A(this,function(t){if(e.code!==D.FAILED_PRECONDITION||e.message!==sF)throw e;return q("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=_e(n,i);return a===0?_e(r,s):a}var N8=function(){function e(t){this.ne=t,this.buffer=new It(pP),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();pP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),R8=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;q("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return N(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return La(i=s.sent())?(q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Ma(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),P8=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return j.resolve(Xn.o);var i=new N8(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(hP)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),hP):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,l,c,h,p=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>p.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+m),i=p.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),p.nthSequenceNumber(t,i)}).next(function(m){return r=m,l=Date.now(),p.removeTargets(t,r,n)}).next(function(m){return s=m,c=Date.now(),p.removeOrphanedDocuments(t,r)}).next(function(m){return h=Date.now(),XE()<=ge.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(h-c)+`ms
Total Duration: `+(h-v)+"ms"),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})})},e}(),O8=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new P8(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Ip(t,r)},e.prototype.removeReference=function(t,n,r){return Ip(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Ip(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return pF(r).Ot(function(a){return dF(r,a,i).next(function(l){return l&&(s=!0),j.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,c){if(c<=n){var h=r._e(t,l).next(function(p){if(!p)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),Co(t).delete([0,Yr(l.path)])})});s.push(h)}}).next(function(){return j.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Ip(t,n)},e.prototype.we=function(t,n){var r,i=Co(t),s=Xn.o;return i.$t({index:$t.documentTargetsIndex},function(a,l){var c=a[0];a[1];var h=l.path,p=l.sequenceNumber;c===0?(s!==Xn.o&&n(new Z($i(r)),s),s=p,r=h):s=Xn.o}).next(function(){s!==Xn.o&&n(new Z($i(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Ip(e,t){return Co(e).put(function(n,r){return new $t(0,Yr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jl=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Da(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return CM(this.inner)},e}(),vF=function(){function e(){this.changes=new jl(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ve.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Gt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?j.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),D8=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Io(t).put(Sp(n),r)},e.prototype.removeEntry=function(t,n){var r=Io(t),i=Sp(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Io(t).get(Sp(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Io(t).get(Sp(n)).next(function(i){return{document:r.ye(n,i),size:eg(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=Er();return this.pe(t,n,function(s,a){var l=r.ye(s,a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=Er(),s=new cn(Z.comparator);return this.pe(t,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),s=s.insert(a,eg(l))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return j.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Io(t).$t({range:i},function(l,c,h){for(var p=Z.fromSegments(l);a&&Z.comparator(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=Er(),a=n.path.length+1,l={};if(r.isEqual(ve.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),p=jS(r);l.range=IDBKeyRange.lowerBound([h,p],!0),l.index=nt.collectionReadTimeIndex}return Io(t).$t(l,function(v,m,y){if(v.length===a){var w=iT(i.R,m);n.path.isPrefixOf(w.key.path)?jh(n,w)&&(s=s.insert(w.key,w)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new x8(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return vP(t).get(di.key).next(function(n){return re(!!n),n})},e.prototype.me=function(t,n){return vP(t).put(di.key,n)},e.prototype.ye=function(t,n){if(n){var r=iT(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ve.min()))return r}return Gt.newInvalidDocument(t)},e}(),x8=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new jl(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return H(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new It(function(l,c){return _e(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Ae.get(l);if(c.document.isValidDocument()){var p=uP(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var v=eg(p);s+=v-h,i.push(r.Ie.addEntry(n,l,p))}else if(s-=h,r.trackRemovals){var m=uP(r.Ie.R,Gt.newNoDocument(l,ve.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,m))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,s)),j.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},t}(vF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(e){return $n(e,di.store)}function Io(e){return $n(e,nt.store)}function Sp(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L8=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;re(r<i&&r>=0&&i<=11);var a=new uF("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Kn.store)}(t),function(c){c.createObjectStore(qo.store,{keyPath:qo.keyPath}),c.createObjectStore(Ve.store,{keyPath:Ve.keyPath,autoIncrement:!0}).createIndex(Ve.userMutationsIndex,Ve.userMutationsKeyPath,{unique:!0}),c.createObjectStore(tn.store)}(t),gP(t),function(c){c.createObjectStore(nt.store)}(t));var l=j.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore($t.store),c.deleteObjectStore(Ln.store),c.deleteObjectStore(Gn.store)}(t),gP(t)),l=l.next(function(){return function(c){var h=c.store(Gn.store),p=new Gn(0,0,ve.min().toTimestamp(),0);return h.put(Gn.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(Ve.store).Nt().next(function(p){c.deleteObjectStore(Ve.store),c.createObjectStore(Ve.store,{keyPath:Ve.keyPath,autoIncrement:!0}).createIndex(Ve.userMutationsIndex,Ve.userMutationsKeyPath,{unique:!0});var v=h.store(Ve.store),m=p.map(function(y){return v.put(y)});return j.waitFor(m)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(Wi.store,{keyPath:Wi.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(di.store)}(t),s.be(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(nt.store);h.createIndex(nt.readTimeIndex,nt.readTimeIndexPath,{unique:!1}),h.createIndex(nt.collectionReadTimeIndex,nt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(vl.store,{keyPath:vl.keyPath})})(t),function(c){c.createObjectStore(gl.store,{keyPath:gl.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(nt.store).$t(function(r,i){n+=eg(i)}).next(function(){var r=new di(n);return t.store(di.store).put(di.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(qo.store),i=t.store(Ve.store);return r.Nt().next(function(s){return j.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(Ve.userMutationsIndex,l).next(function(c){return j.forEach(c,function(h){re(h.userId===a.userId);var p=wu(n.R,h);return hF(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store($t.store),r=t.store(nt.store);return t.store(Gn.store).get(Gn.key).next(function(i){var s=[];return r.$t(function(a,l){var c=new Ce(a),h=function(p){return[0,Yr(p)]}(c);s.push(n.get(h).next(function(p){return p?j.resolve():function(v){return n.put(new $t(0,Yr(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return j.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(ra.store,{keyPath:ra.keyPath});var r=n.store(ra.store),i=new BS,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Yr(c)})}};return n.store(nt.store).$t({kt:!0},function(a,l){var c=new Ce(a);return s(c.popLast())}).next(function(){return n.store(tn.store).$t({kt:!0},function(a,l){a[0];var c=a[1];a[2];var h=$i(c);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Ln.store);return r.$t(function(i,s){var a=Yc(s),l=fF(n.R,a);return r.put(l)})},e}();function gP(e){e.createObjectStore($t.store,{keyPath:$t.keyPath}).createIndex($t.documentTargetsIndex,$t.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ln.store,{keyPath:Ln.keyPath}).createIndex(Ln.queryTargetsIndexName,Ln.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Gn.store)}var tw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",M8=function(){function e(t,n,r,i,s,a,l,c,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=h,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new U(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new O8(this,i),this.Le=n+"main",this.R=new lF(c),this.Be=new ml(this.Le,11,new L8(this.R)),this.qe=new A8(this.referenceDelegate,this.R),this.Ut=new k8,this.Ue=function(v,m){return new D8(v,m)}(this.R,this.Ut),this.Ke=new S8,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&dt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new U(D.FAILED_PRECONDITION,tw);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Xn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return N(n,void 0,void 0,function(){return A(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return N(n,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return N(n,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return bp(n).put(new Wi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(La(n))return q("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return qc(t).get(Kn.key).next(function(r){return j.resolve(n.tn(r))})},e.prototype.en=function(t){return bp(t).delete(this.clientId)},e.prototype.nn=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=$n(l,Wi.store);return c.Nt().next(function(h){var p=s.rn(h,18e5),v=h.filter(function(m){return p.indexOf(m)===-1});return j.forEach(v,function(m){return c.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?j.resolve(!0):qc(t).get(Kn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new U(D.FAILED_PRECONDITION,tw);return!1}}return!(!n.networkEnabled||!n.inForeground)||bp(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&q("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return N(this,void 0,void 0,function(){var t=this;return A(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Kn.store,Wi.store],function(r){var i=new aP(r,Xn.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return bp(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return C8.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;q("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,w8,function(l){return s=new aP(l,i.Ne?i.Ne.next():Xn.o),n==="readwrite-primary"?i.Je(s).next(function(c){return!!c||i.Ye(s)}).next(function(c){if(!c)throw dt("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new U(D.FAILED_PRECONDITION,sF);return r(s)}).next(function(c){return i.Ze(s).next(function(){return c})}):i.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return qc(t).get(Kn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new U(D.FAILED_PRECONDITION,tw)})},e.prototype.Ze=function(t){var n=new Kn(this.clientId,this.allowTabSynchronization,Date.now());return qc(t).put(Kn.key,n)},e.yt=function(){return ml.yt()},e.prototype.Xe=function(t){var n=this,r=qc(t);return r.get(Kn.key).next(function(i){return n.tn(i)?(q("IndexedDbPersistence","Releasing primary lease."),r.delete(Kn.key)):j.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(dt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fe=function(){n.un(),wz()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return q("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return dt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){dt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function qc(e){return $n(e,Kn.store)}function bp(e){return $n(e,Wi.store)}function $S(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var F8=function(e,t){this.progress=e,this.wn=t},gF=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return Z.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):OS(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Z(n)).next(function(r){var i=nT();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=nT();return this.Ut.getCollectionParents(t,s).next(function(l){return j.forEach(l,function(c){var h=function(p,v){return new ro(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return i.An(t,h,r).next(function(p){p.forEach(function(v,m){a=a.insert(v,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,i).next(function(c){i=c;for(var h=0,p=s;h<p.length;h++)for(var v=p[h],m=0,y=v.mutations;m<y.length;m++){var w=y[m],I=w.key,C=i.get(I);C==null&&(C=Gt.newInvalidDocument(I),i=i.insert(I,C)),tT(w,C,v.localWriteTime),C.isFoundDocument()||(i=i.remove(I))}})}).next(function(){return i.forEach(function(l,c){jh(n,c)||(i=i.remove(l))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Pe(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof as&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(m,y){y.isFoundDocument()&&(p=p.insert(m,y))}),p})},e}(),U8=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Pe(),i=Pe(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),mF=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ve.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var l=s.Cn(n,a);return(Hp(n)||Jv(n))&&s.Nn(n.limitType,l,i,r)?s.Dn(t,n):(XE()<=ge.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),eT(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.Cn=function(t,n){var r=new It(MM(t));return n.forEach(function(i,s){jh(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return XE()<=ge.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",eT(n)),this.Sn.getDocumentsMatchingQuery(t,n,ve.min())},e}(),j8=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.Fn=new cn(_e),this.kn=new jl(function(s){return Fh(s)},cm),this.$n=ve.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new gF(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.Fn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(e,t,n,r){return new j8(e,t,n,r)}function _F(e,t){return N(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=W(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new gF(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var p=[],v=[],m=Pe(),y=0,w=c;y<w.length;y++){var I=w[y];p.push(I.batchId);for(var C=0,T=I.mutations;C<T.length;C++){var S=T[C];m=m.add(S.key)}}for(var b=0,P=h;b<P.length;b++){var L=P[b];v.push(L.batchId);for(var O=0,B=L.mutations;O<B.length;O++){var M=B[O];m=m.add(M.key)}}return i.pn(l,m).next(function(ue){return{Ln:ue,removedBatchIds:p,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function V8(e,t){var n=W(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var p=c.batch,v=p.keys(),m=j.resolve();return v.forEach(function(y){m=m.next(function(){return h.getEntry(l,y)}).next(function(w){var I=c.docVersions.get(y);re(I!==null),w.version.compareTo(I)<0&&(p.applyToRemoteDocument(w,c),w.isValidDocument()&&h.addEntry(w,c.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function wF(e){var t=W(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function B8(e,t){var n=W(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var l=[];t.targetChanges.forEach(function(p,v){var m=i.get(v);if(m){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,v)}));var y=p.resumeToken;if(y.approximateByteSize()>0){var w=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,w),function(I,C,T){return re(C.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,w,p)&&l.push(n.qe.updateTargetData(s,w))}}});var c=Er();if(t.documentUpdates.forEach(function(p,v){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(EF(s,a,t.documentUpdates,r,void 0).next(function(p){c=p})),!r.isEqual(ve.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return j.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.Fn=i,s})}function EF(e,t,n,r,i){var s=Pe();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Er();return n.forEach(function(c,h){var p=a.get(c),v=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(ve.min())?(t.removeEntry(c,v),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(h,v),l=l.insert(c,h)):q("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),l})}function $8(e,t){var n=W(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function wl(e,t){var n=W(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,j.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new pm(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.Fn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(t,r.targetId)),r})}function El(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:r=W(e),i=r.Fn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!La(a=l.sent()))throw a;return q("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}})})}function ng(e,t,n){var r=W(e),i=ve.min(),s=Pe();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var p=W(l),v=p.kn.get(h);return v!==void 0?j.resolve(p.Fn.get(v)):p.qe.getTargetData(c,h)}(r,a,kr(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:ve.min(),n?s:Pe())}).next(function(l){return{documents:l,Bn:s}})})}function TF(e,t){var n=W(e),r=W(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function IF(e){var t=W(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=W(r),l=Er(),c=jS(s),h=Io(i),p=IDBKeyRange.lowerBound(c,!0);return h.$t({index:nt.readTimeIndex,range:p},function(v,m){var y=iT(a.R,m);l=l.insert(y.key,y),c=m.readTime}).next(function(){return{wn:l,readTime:cF(c)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function q8(e){return N(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,(t=W(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Io(i),a=ve.min();return s.$t({index:nt.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=cF(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}function z8(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y;return A(this,function(w){switch(w.label){case 0:for(i=W(e),s=Pe(),a=Er(),l=KM(),c=0,h=n;c<h.length;c++)p=h[c],v=t.qn(p.metadata.name),p.document&&(s=s.add(v)),a=a.insert(v,t.Un(p)),l=l.insert(v,t.Kn(p.metadata.readTime));return m=i.On.newChangeBuffer({trackRemovals:!0}),[4,wl(i,function(I){return kr(Ul(Ce.fromString("__bundle__/docs/"+I)))}(r))];case 1:return y=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(I){return EF(I,m,a,ve.min(),l).next(function(C){return m.apply(I),C}).next(function(C){return i.qe.removeMatchingKeysForTargetId(I,y.targetId).next(function(){return i.qe.addMatchingKeys(I,s,y.targetId)}).next(function(){return i.Mn.En(I,C)}).next(function(){return C})})})]}})})}function W8(e,t,n){return n===void 0&&(n=Pe()),N(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,wl(e,kr(VS(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=W(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=Ot(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ke.saveNamedQuery(a,t);var c=r.withResumeToken(In.EMPTY_BYTE_STRING,l);return i.Fn=i.Fn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H8=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return j.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Ot(r.createTime)}),j.resolve()},e.prototype.getNamedQuery=function(t,n){return j.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:VS(r.bundledQuery),readTime:Ot(r.readTime)}}(n)),j.resolve()},e}(),qS=function(){function e(){this.Wn=new It(kt.Gn),this.zn=new It(kt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new kt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new kt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new Z(new Ce([])),i=new kt(r,t),s=new kt(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Z(new Ce([])),r=new kt(n,t),i=new kt(n,t+1),s=Pe();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new kt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),kt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Z.comparator(t.key,n.key)||_e(t.ns,n.ns)},e.Hn=function(t,n){return _e(t.ns,n.ns)||Z.comparator(t.key,n.key)},e}(),K8=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new It(kt.Gn)}return e.prototype.checkEmpty=function(t){return j.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new US(s,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.rs=this.rs.add(new kt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return j.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return j.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return j.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return j.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return j.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new kt(n,0),s=new kt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(l){var c=r.os(l.ns);a.push(c)}),j.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new It(_e);return n.forEach(function(s){var a=new kt(s,0),l=new kt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),j.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;Z.isDocumentKey(s)||(s=s.child(""));var a=new kt(new Z(s),0),l=new It(_e);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.ns)),!0)},a),j.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;re(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return j.forEach(n.mutations,function(s){var a=new kt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new kt(n,0),i=this.rs.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,j.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),G8=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new cn(Z.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return j.resolve(r?r.document.clone():Gt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=Er();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():Gt.newInvalidDocument(s))}),j.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Er(),s=new Z(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,p=h.document,v=h.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||jh(n,p)&&(i=i.insert(p.key,p.clone()))}return j.resolve(i)},e.prototype.fs=function(t,n){return j.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new Q8(this)},e.prototype.getSize=function(t){return j.resolve(this.size)},e}(),Q8=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return H(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),j.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(vF),Y8=function(){function e(t){this.persistence=t,this.ds=new jl(function(n){return Fh(n)},cm),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ws=0,this._s=new qS,this.targetCount=0,this.ys=tg.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),j.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return j.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return j.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),j.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),j.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new tg(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,j.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),j.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,j.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),j.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return j.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return j.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),j.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),j.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),j.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return j.resolve(r)},e.prototype.containsKey=function(t,n){return j.resolve(this._s.containsKey(n))},e}(),X8=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Xn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Y8(this),this.Ut=new b8,this.Ue=function(i,s){return new G8(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new lF(n),this.Ke=new H8(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new K8(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;q("MemoryPersistence","Starting transaction:",t);var s=new J8(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return j.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),J8=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return H(t,e),t}(aF),Z8=function(){function e(t){this.persistence=t,this.As=new qS,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw J()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),j.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),j.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),j.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.vs,function(i){var s=Z.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return j.or([function(){return j.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Dn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(e,t){return"firestore_clients_"+e+"_"+t}function yP(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function nw(e,t){return"firestore_targets_"+e+"_"+t}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid");var _P=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new U(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(dt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),rw=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new U(i.error.code,i.error.message)),s?new e(t,i.state,r):(dt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),wP=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=dm(),a=0;i&&a<r.activeTargetIds.length;++a)i=RM(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(dt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),eQ=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(dt("SharedClientState","Failed to parse online state: "+t),null)},e}(),oT=function(){function e(){this.activeTargetIds=dm()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),iw=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new cn(_e),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=mP(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new oT),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,p,v,m=this;return A(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(mP(this.persistenceKey,i)))&&(a=wP.Vs(i,s))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),h=0,p=this.$s;h<p.length;h++)v=p[h],this.Fs(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.ks.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(nw(this.persistenceKey,t));if(r){var i=rw.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(nw(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return q("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){q("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){q("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Fs=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(q("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return N(n,void 0,void 0,function(){var i,s,a,l,c,h;return A(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(v){var m=Xn.o;if(v!=null)try{var y=JSON.parse(v);re(typeof y=="number"),m=y}catch(w){dt("SharedClientState","Failed to read sequence number from WebStorage",w)}return m}(r.newValue))!==Xn.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new _P(this.currentUser,t,n,r),s=yP(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=yP(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=nw(this.persistenceKey,t),s=new rw(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return wP.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return _P.Vs(new Dn(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return rw.Vs(i,n)},e.prototype.js=function(t){return eQ.Vs(t)},e.prototype.ii=function(t){return N(this,void 0,void 0,function(){return A(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(q("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.ks.insert(t,n):this.ks.remove(t),s=this.Gs(this.ks),a=this.Gs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(l,c).then(function(){r.ks=i})},e.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=dm();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),SF=function(){function e(){this.li=new oT,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new oT,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),tQ=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),EP=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),nQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},rQ=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),iQ=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return H(t,e),t.prototype.ki=function(n,r,i,s){return new Promise(function(a,l){var c=new L5;c.listenOnce(O5.COMPLETE,function(){try{switch(c.getLastErrorCode()){case ew.NO_ERROR:var p=c.getResponseJson();q("Connection","XHR received:",JSON.stringify(p)),a(p);break;case ew.TIMEOUT:q("Connection",'RPC "'+n+'" timed out'),l(new U(D.DEADLINE_EXCEEDED,"Request time out"));break;case ew.HTTP_ERROR:var v=c.getStatus();if(q("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var y=function(w){var I=w.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(I)>=0?I:D.UNKNOWN}(m.status);l(new U(y,m.message))}else l(new U(D.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new U(D.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{q("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=R5(),a=P5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new x5({})),this.Fi(l.initMessageHeaders,r),vI()||qx()||mz()||yz()||_z()||gI()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");q("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),p=!1,v=!1,m=new rQ({Ei:function(w){v?q("Connection","Not sending because WebChannel is closed:",w):(p||(q("Connection","Opening WebChannel transport."),h.open(),p=!0),q("Connection","WebChannel sending:",w),h.send(w))},Ti:function(){return h.close()}}),y=function(w,I,C){w.listen(I,function(T){try{C(T)}catch(S){setTimeout(function(){throw S},0)}})};return y(h,Ep.EventType.OPEN,function(){v||q("Connection","WebChannel transport opened.")}),y(h,Ep.EventType.CLOSE,function(){v||(v=!0,q("Connection","WebChannel transport closed"),m.Vi())}),y(h,Ep.EventType.ERROR,function(w){v||(v=!0,Yf("Connection","WebChannel transport errored:",w),m.Vi(new U(D.UNAVAILABLE,"The operation could not be completed")))}),y(h,Ep.EventType.MESSAGE,function(w){var I;if(!v){var C=w.data[0];re(!!C);var T=C,S=T.error||((I=T[0])===null||I===void 0?void 0:I.error);if(S){q("Connection","WebChannel received error:",S);var b=S.status,P=function(O){var B=ct[O];if(B!==void 0)return HM(B)}(b),L=S.message;P===void 0&&(P=D.INTERNAL,L="Unknown error status: "+b+" with message "+S.message),v=!0,m.Vi(new U(P,L)),h.close()}else q("Connection","WebChannel received:",C),m.Si(C)}}),y(a,D5.STAT_EVENT,function(w){w.stat===UR.PROXY?q("Connection","Detected buffering proxy"):w.stat===UR.NOPROXY&&q("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);q("RestConnection","Sending: ",s,r);var a={};return this.Fi(a,i),this.ki(t,s,a,r).then(function(l){return q("RestConnection","Received: ",l),l},function(l){throw Yf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.Fi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=nQ[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(){return typeof window<"u"?window:null}function Qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(e){return new l8(e,!0)}var zS=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&q("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),kF=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new zS(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return N(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return N(this,void 0,void 0,function(){return A(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return N(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(dt(n.toString()),dt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new U(D.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return N(t,void 0,void 0,function(){return A(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return q("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),oQ=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,l}return H(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(C){return C==="NO_CHANGE"?0:C==="ADD"?1:C==="REMOVE"?2:C==="CURRENT"?3:C==="RESET"?4:J()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(C,T){return C.I?(re(T===void 0||typeof T=="string"),In.fromBase64String(T||"")):(re(T===void 0||T instanceof Uint8Array),In.fromUint8Array(T||new Uint8Array))}(s,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(C){var T=C.code===void 0?D.UNKNOWN:HM(C.code);return new U(T,C.message||"")}(m);l=new QM(c,h,p,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=mi(s,c.document.name),p=Ot(c.document.updateTime);var m=new Qn({mapValue:{fields:c.document.fields}}),y=(v=Gt.newFoundDocument(h,p,m),c.targetIds||[]),w=c.removedTargetIds||[];l=new Gp(y,w,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=mi(s,c.document),p=c.readTime?Ot(c.readTime):ve.min(),m=Gt.newNoDocument(h,p),v=c.removedTargetIds||[],l=new Gp([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=mi(s,c.document),p=c.removedTargetIds||[],l=new Gp([],p,h,null);else{if(!("filter"in a))return J();a.filter;var I=a.filter;I.targetId,c=I.count||0,h=new e8(c),p=I.targetId,l=new GM(p,h)}return l}(this.R,n),i=function(s){if(!("targetChange"in s))return ve.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?ve.min():a.readTime?Ot(a.readTime):ve.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=nh(this.R),r.addTarget=function(s,a){var l,c=a.target;return(l=Yv(c)?{documents:tF(s,c)}:{query:nF(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=YM(s,a.resumeToken):a.snapshotVersion.compareTo(ve.min())>0&&(l.readTime=eh(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return J()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=nh(this.R),r.removeTarget=n,this.cr(r)},t}(kF),sQ=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,l.gr=!1,l}return H(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(re(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(re(a!==void 0),s.map(function(l){return function(c,h){var p=c.updateTime?Ot(c.updateTime):Ot(h);return p.isEqual(ve.min())&&(p=Ot(h)),new X5(p,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=Ot(n.commitTime);return this.listener.Tr(i,r)}return re(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=nh(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return Zv(r.R,s)})};this.cr(i)},t}(kF),aQ=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return H(t,e),t.prototype.br=function(){if(this.Rr)throw new U(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new U(D.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new U(D.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),uQ=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.Fr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(dt(n),this.Vr=!1):q("OnlineStateTracker",n)},e.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),lQ=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return N(s,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return us(this)?(q("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return N(this,void 0,void 0,function(){var h;return A(this,function(p){switch(p.label){case 0:return(h=W(c)).Or.add(4),[4,Vl(h)];case 1:return p.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,zh(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new uQ(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(e){return N(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:if(!us(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Vl(e){return N(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function vm(e,t){var n=W(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),KS(n)?HS(n):$l(n).er()&&WS(n,t))}function rh(e,t){var n=W(e),r=$l(n);n.$r.delete(t),r.er()&&CF(n,t),n.$r.size===0&&(r.er()?r.ir():us(n)&&n.Br.set("Unknown"))}function WS(e,t){e.qr.U(t.targetId),$l(e).mr(t)}function CF(e,t){e.qr.U(t),$l(e).yr(t)}function HS(e){e.qr=new s8({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),$l(e).start(),e.Br.Sr()}function KS(e){return us(e)&&!$l(e).tr()&&e.$r.size>0}function us(e){return W(e).Or.size===0}function AF(e){e.qr=void 0}function cQ(e){return N(this,void 0,void 0,function(){return A(this,function(t){return e.$r.forEach(function(n,r){WS(e,n)}),[2]})})}function fQ(e,t){return N(this,void 0,void 0,function(){return A(this,function(n){return AF(e),KS(e)?(e.Br.Nr(t),HS(e)):e.Br.set("Unknown"),[2]})})}function hQ(e,t,n){return N(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof QM&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return N(this,void 0,void 0,function(){var h,p,v,m;return A(this,function(y){switch(y.label){case 0:h=c.cause,p=0,v=c.targetIds,y.label=1;case 1:return p<v.length?(m=v[p],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,h)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,rg(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Gp?e.qr.X(t):t instanceof GM?e.qr.rt(t):e.qr.et(t),n.isEqual(ve.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,wF(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.qr.ut(c);return h.targetChanges.forEach(function(p,v){if(p.resumeToken.approximateByteSize()>0){var m=l.$r.get(v);m&&l.$r.set(v,m.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach(function(p){var v=l.$r.get(p);if(v){l.$r.set(p,v.withResumeToken(In.EMPTY_BYTE_STRING,v.snapshotVersion)),CF(l,p);var m=new pm(v.target,p,1,v.sequenceNumber);WS(l,m)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return q("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,rg(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function rg(e,t,n){return N(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:if(!La(t))throw t;return e.Or.add(1),[4,Vl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return wF(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return N(r,void 0,void 0,function(){return A(this,function(s){switch(s.label){case 0:return q("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,zh(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function NF(e,t){return t().catch(function(n){return rg(e,n,t)})}function Bl(e){return N(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:t=W(e),n=es(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return us(l)&&l.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,$8(t.localStore,r)];case 3:return(i=a.sent())===null?(t.kr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.kr.push(c);var h=es(l);h.er()&&h.pr&&h.Er(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,rg(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return RF(t)&&PF(t),[2]}})})}function RF(e){return us(e)&&!es(e).tr()&&e.kr.length>0}function PF(e){es(e).start()}function dQ(e){return N(this,void 0,void 0,function(){return A(this,function(t){return es(e).Ar(),[2]})})}function pQ(e){return N(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){for(t=es(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function vQ(e,t,n){return N(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=e.kr.shift(),i=I8.from(r,t,n),[4,NF(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Bl(e)];case 2:return s.sent(),[2]}})})}function gQ(e,t){return N(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return t&&es(e).pr?[4,function(r,i){return N(this,void 0,void 0,function(){var s,a;return A(this,function(l){switch(l.label){case 0:return WM(a=i.code)&&a!==D.ABORTED?(s=r.kr.shift(),es(r).sr(),[4,NF(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,Bl(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return RF(e)&&PF(e),[2]}})})}function sT(e,t){return N(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=W(e),t?(n.Or.delete(2),[4,zh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Vl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function $l(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=W(n);return s.br(),new oQ(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:cQ.bind(null,e),Ri:fQ.bind(null,e),_r:hQ.bind(null,e)}),e.Mr.push(function(n){return N(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),KS(e)?HS(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),AF(e),r.label=3;case 3:return[2]}})})})),e.Ur}function es(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var s=W(n);return s.br(),new sQ(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:dQ.bind(null,e),Ri:gQ.bind(null,e),Ir:pQ.bind(null,e),Tr:vQ.bind(null,e)}),e.Mr.push(function(n){return N(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Bl(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.kr.length>0&&(q("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var mQ=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ql(e,t){if(dt("AsyncQueue",t+": "+e),La(e))return new U(D.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OF=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Z.comparator(n.key,r.key)}:function(n,r){return Z.comparator(n.key,r.key)},this.keyedMap=nT(),this.sortedSet=new cn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),TP=function(){function e(){this.Qr=new cn(Z.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):J():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),ig=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,OF.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),yQ=function(){this.Wr=void 0,this.listeners=[]},_Q=function(){this.queries=new jl(function(e){return LM(e)},Uh),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(n=W(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new yQ),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return l=h.sent(),c=ql(l,"Initialization of query '"+eT(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&YS(n),[2]}})})}function QS(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){return n=W(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function wQ(e,t){for(var n=W(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,p=c.listeners;h<p.length;h++)p[h].Hr(a)&&(r=!0);c.Wr=a}}r&&YS(n)}function EQ(e,t,n){var r=W(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function YS(e){e.Gr.forEach(function(t){t.next()})}var XS=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new ig(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=ig.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),TQ=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),IP=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return mi(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?eF(this.R,t.document,!1):Gt.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return Ot(t)},e}(),IQ=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=DF(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new IP(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var p=h[c],v=(n.get(p)||Pe()).add(l);n.set(p,v)}}return n},e.prototype.complete=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,z8(this.localStore,new IP(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,W8(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new F8(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xF=function(e){this.key=e},LF=function(e){this.key=e},MF=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Pe(),this.mutatedKeys=Pe(),this.lo=MM(t),this.fo=new OF(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new TP,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=Hp(this.query)&&s.size===this.query.limit?s.last():null,p=Jv(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var w=s.get(m),I=jh(r.query,y)?y:null,C=!!w&&r.mutatedKeys.has(w.key),T=!!I&&(I.hasLocalMutations||r.mutatedKeys.has(I.key)&&I.hasCommittedMutations),S=!1;w&&I?w.data.isEqual(I.data)?C!==T&&(i.track({type:3,doc:I}),S=!0):r.yo(w,I)||(i.track({type:2,doc:I}),S=!0,(h&&r.lo(I,h)>0||p&&r.lo(I,p)<0)&&(c=!0)):!w&&I?(i.track({type:0,doc:I}),S=!0):w&&!I&&(i.track({type:1,doc:w}),S=!0,(h||p)&&(c=!0)),S&&(I?(l=l.add(I),a=T?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),Hp(this.query)||Jv(this.query))for(;l.size>this.query.limit;){var v=Hp(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,v){return function(m,y){var w=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return w(m)-w(y)}(p.type,v.type)||i.lo(p.doc,v.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new ig(this.query,t.fo,s,a,t.mutatedKeys,c===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new TP,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Pe(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new LF(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new xF(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Pe();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return ig.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),SQ=function(e,t,n){this.query=e,this.targetId=t,this.view=n},bQ=function(e){this.key=e,this.bo=!1},kQ=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new jl(function(l){return LM(l)},Uh),this.Vo=new Map,this.So=new Set,this.Do=new cn(Z.comparator),this.Co=new Map,this.No=new qS,this.xo={},this.Fo=new Map,this.ko=tg.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function CQ(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return n=nb(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,wl(n.localStore,kr(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,JS(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&vm(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function JS(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a,l,c,h;return A(this,function(p){switch(p.label){case 0:return e.Oo=function(v,m,y){return function(w,I,C,T){return N(this,void 0,void 0,function(){var S,b,P;return A(this,function(L){switch(L.label){case 0:return S=I.view._o(C),S.Nn?[4,ng(w.localStore,I.query,!1).then(function(O){var B=O.documents;return I.view._o(B,S)})]:[3,2];case 1:S=L.sent(),L.label=2;case 2:return b=T&&T.targetChanges.get(I.targetId),P=I.view.applyChanges(S,w.isPrimaryClient,b),[2,(aT(w,I.targetId,P.To),P.snapshot)]}})})}(e,v,m,y)},[4,ng(e.localStore,t,!0)];case 1:return i=p.sent(),s=new MF(t,i.Bn),a=s._o(i.documents),l=LS.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),aT(e,n,c.To),h=new SQ(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function AQ(e,t){return N(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=W(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!Uh(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,El(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),rh(n.remoteStore,r.targetId),Tl(n,r.targetId)}).catch(Ma)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Tl(n,r.targetId),[4,El(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function NQ(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:r=rb(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var p,v=W(c),m=Vn.now(),y=h.reduce(function(w,I){return w.add(I.key)},Pe());return v.persistence.runTransaction("Locally write mutations","readwrite",function(w){return v.Mn.pn(w,y).next(function(I){p=I;for(var C=[],T=0,S=h;T<S.length;T++){var b=S[T],P=Z5(b,p.get(b.key));P!=null&&C.push(new as(b.key,P,PM(P.value.mapValue),nn.exists(!0)))}return v._n.addMutationBatch(w,m,C,h)})}).then(function(w){return w.applyToLocalDocumentSet(p),{batchId:w.batchId,changes:p}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,p){var v=c.xo[c.currentUser.toKey()];v||(v=new cn(_e)),v=v.insert(h,p),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,io(r,i.changes)];case 3:return l.sent(),[4,Bl(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=ql(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function FF(e,t){return N(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:n=W(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,B8(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?re(l.bo):s.removedDocuments.size>0&&(re(l.bo),l.bo=!1))}),[4,io(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ma(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function SP(e,t,n){var r=W(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=W(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,p){for(var v=0,m=p.listeners;v<m.length;v++)m[v].zr(a)&&(c=!0)}),c&&YS(l)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function RQ(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return(r=W(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new cn(Z.comparator)).insert(s,Gt.newNoDocument(s,ve.min())),l=Pe().add(s),c=new xS(ve.min(),new Map,new It(_e),a,l),[4,FF(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),tb(r),[3,4];case 2:return[4,El(r.localStore,t,!1).then(function(){return Tl(r,t,n)}).catch(Ma)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function PQ(e,t){return N(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:n=W(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,V8(n.localStore,t)];case 2:return i=s.sent(),eb(n,r,null),ZS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,io(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ma(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function OQ(e,t,n){return N(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:r=W(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=W(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return c._n.lookupMutationBatch(h,l).next(function(v){return re(v!==null),p=v.keys(),c._n.removeMutationBatch(h,v)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,p)})})}(r.localStore,t)];case 2:return i=s.sent(),eb(r,t,n),ZS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,io(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ma(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function DQ(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:us((n=W(e)).remoteStore)||q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=W(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return s=l.sent(),a=ql(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function ZS(e,t){(e.Fo.get(t)||[]).forEach(function(n){n.resolve()}),e.Fo.delete(t)}function eb(e,t,n){var r=W(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Tl(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||UF(e,a)})}function UF(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(rh(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),tb(e))}function aT(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof xF?(e.No.addReference(s.key,t),xQ(e,s)):s instanceof LF?(q("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||UF(e,s.key)):J()}}function xQ(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(q("SyncEngine","New document in limbo: "+n),e.So.add(r),tb(e))}function tb(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Z(Ce.fromString(t)),r=e.ko.next();e.Co.set(r,new bQ(n)),e.Do=e.Do.insert(n,r),vm(e.remoteStore,new pm(kr(Ul(n.path)),r,2,Xn.o))}}function io(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:return r=W(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.Oo(h,t,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var v=U8.Pn(h.targetId,p);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,h){return N(this,void 0,void 0,function(){var p,v,m,y,w,I,C,T,S;return A(this,function(b){switch(b.label){case 0:p=W(c),b.label=1;case 1:return b.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(P){return j.forEach(h,function(L){return j.forEach(L.bn,function(O){return p.persistence.referenceDelegate.addReference(P,L.targetId,O)}).next(function(){return j.forEach(L.vn,function(O){return p.persistence.referenceDelegate.removeReference(P,L.targetId,O)})})})})];case 2:return b.sent(),[3,4];case 3:if(!La(v=b.sent()))throw v;return q("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,y=h;m<y.length;m++)w=y[m],I=w.targetId,w.fromCache||(C=p.Fn.get(I),T=C.snapshotVersion,S=C.withLastLimboFreeSnapshotVersion(T),p.Fn=p.Fn.insert(I,S));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function LQ(e,t){return N(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return(n=W(e)).currentUser.isEqual(t)?[3,3]:(q("SyncEngine","User change. New user:",t.toKey()),[4,_F(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.Fo.forEach(function(l){l.forEach(function(c){c.reject(new U(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,io(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function MQ(e,t){var n=W(e),r=n.Co.get(t);if(r&&r.bo)return Pe().add(r.key);var i=Pe(),s=n.Vo.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function FQ(e,t){return N(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,ng((n=W(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&aT(n,t.targetId,i.To),i)]}})})}function UQ(e){return N(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,IF((t=W(e)).localStore).then(function(r){return io(t,r)})]})})}function jQ(e,t,n,r){return N(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=W(l),p=W(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return p.jt(v,c).next(function(m){return m?h.Mn.pn(v,m):j.resolve(null)})})}((i=W(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Bl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(eb(i,t,r||null),ZS(i,t),function(l,c){W(W(l)._n).Gt(c)}(i.localStore,t)):J(),a.label=4;case 4:return[4,io(i,s)];case 5:return a.sent(),[3,7];case 6:q("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function VQ(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return A(this,function(p){switch(p.label){case 0:return nb(n=W(e)),rb(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,bP(n,r.toArray())]);case 1:return i=p.sent(),n.$o=!0,[4,sT(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)l=a[s],vm(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(v,m){n.sharedClientState.isLocalQueryTarget(m)?c.push(m):h=h.then(function(){return Tl(n,m),El(n.localStore,m,!0)}),rh(n.remoteStore,m)}),[4,h]);case 4:return p.sent(),[4,bP(n,c)];case 5:return p.sent(),function(v){var m=W(v);m.Co.forEach(function(y,w){rh(m.remoteStore,w)}),m.No.ts(),m.Co=new Map,m.Do=new cn(Z.comparator)}(n),n.$o=!1,[4,sT(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function bP(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m,y,w,I,C;return A(this,function(T){switch(T.label){case 0:r=W(e),i=[],s=[],a=0,l=t,T.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(p=r.Vo.get(c))&&p.length!==0?[4,wl(r.localStore,kr(p[0]))]:[3,7]):[3,13];case 2:h=T.sent(),v=0,m=p,T.label=3;case 3:return v<m.length?(y=m[v],w=r.Po.get(y),[4,FQ(r,w)]):[3,6];case 4:(I=T.sent()).snapshot&&s.push(I.snapshot),T.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,TF(r.localStore,c)];case 8:return C=T.sent(),[4,wl(r.localStore,C)];case 9:return h=T.sent(),[4,JS(r,jF(C),c,!1)];case 10:T.sent(),T.label=11;case 11:i.push(h),T.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function jF(e){return DM(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function BQ(e){var t=W(e);return W(W(t.localStore).persistence).fn()}function $Q(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a;return A(this,function(l){switch(l.label){case 0:return(i=W(e)).$o?(q("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,IF(i.localStore)];case 3:return s=l.sent(),a=xS.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,io(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,El(i.localStore,t,!0)];case 6:return l.sent(),Tl(i,t,r),[3,8];case 7:J(),l.label=8;case 8:return[2]}})})}function qQ(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m;return A(this,function(y){switch(y.label){case 0:if(!(r=nb(e)).$o)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(q("SyncEngine","Adding an already active target "+a),[3,5]):[4,TF(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,wl(r.localStore,l)];case 3:return c=y.sent(),[4,JS(r,jF(l),c.targetId,!1)];case 4:y.sent(),vm(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(w){return A(this,function(I){switch(I.label){case 0:return r.Vo.has(w)?[4,El(r.localStore,w,!1).then(function(){rh(r.remoteStore,w),Tl(r,w)}).catch(Ma)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},p=0,v=n,y.label=7;case 7:return p<v.length?(m=v[p],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function nb(e){var t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=FF.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MQ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RQ.bind(null,t),t.vo._r=wQ.bind(null,t.eventManager),t.vo.Mo=EQ.bind(null,t.eventManager),t}function rb(e){var t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PQ.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OQ.bind(null,t),t}function zQ(e,t,n){var r=W(e);(function(i,s,a){return N(this,void 0,void 0,function(){var l,c,h,p,v,m;return A(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(w,I){var C=W(w),T=Ot(I.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",function(S){return C.Ke.getBundleMetadata(S,I.id)}).then(function(S){return!!S&&S.createTime.compareTo(T)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(l)))];case 4:return a._updateProgress(DF(l)),c=new IQ(l,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(p=y.sent())&&a._updateProgress(p),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=y.sent(),[4,io(i,v.wn,void 0)];case 12:return y.sent(),[4,function(w,I){var C=W(w);return C.persistence.runTransaction("Save bundle","readwrite",function(T){return C.Ke.saveBundleMetadata(T,I)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return Yf("SyncEngine","Loading bundle failed with "+(m=y.sent())),a._failWith(m),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var VF=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return N(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this.R=qh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return yF(this.persistence,new mF,t.initialUser,this.R)},e.prototype.qo=function(t){return new X8(Z8.bs,this.R)},e.prototype.Bo=function(t){return new SF},e.prototype.terminate=function(){return N(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),BF=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return H(t,e),t.prototype.initialize=function(n){return N(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,q8(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,n)];case 3:return r.sent(),[4,rb(this.Qo.syncEngine)];case 4:return r.sent(),[4,Bl(this.Qo.remoteStore)];case 5:return r.sent(),[2]}})})},t.prototype.Ko=function(n){return yF(this.persistence,new mF,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new R8(r,n.asyncQueue)},t.prototype.qo=function(n){var r=$S(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?fi.withCacheSize(this.cacheSizeBytes):fi.DEFAULT;return new M8(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,bF(),Qp(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new SF},t}(VF),WQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return H(t,e),t.prototype.initialize=function(n){return N(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof iw?(this.sharedClientState.syncEngine={ui:jQ.bind(null,r),ai:$Q.bind(null,r),hi:qQ.bind(null,r),fn:BQ.bind(null,r),ci:UQ.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return N(i,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return[4,VQ(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=bF();if(!iw.yt(r))throw new U(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=$S(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new iw(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(BF),uT=function(){function e(){}return e.prototype.initialize=function(t,n){return N(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return SP(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=LQ.bind(null,this.syncEngine),[4,sT(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new _Q},e.prototype.createDatastore=function(t){var n,r=qh(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new iQ(n));return function(s,a,l){return new aQ(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return SP(l.syncEngine,c,0)},a=EP.yt()?new EP:new tQ,new lQ(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var p=new kQ(r,i,s,a,l,c);return h&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return N(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=W(t),q("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Vl(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return N(this,void 0,void 0,function(){var r;return A(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return N(this,void 0,void 0,function(){return A(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gm=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),HQ=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new ln,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return N(this,void 0,void 0,function(){return A(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return N(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return N(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new TQ(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return N(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return N(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return N(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),KQ=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return N(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new U(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return N(this,void 0,void 0,function(){var l,c,h,p,v,m;return A(this,function(y){switch(y.label){case 0:return l=W(s),c=nh(l.R)+"/documents",h={documents:a.map(function(w){return th(l.R,w)})},[4,l.$i("BatchGetDocuments",c,h)];case 1:return p=y.sent(),v=new Map,p.forEach(function(w){var I=function(C,T){return"found"in T?function(S,b){re(!!b.found),b.found.name,b.found.updateTime;var P=mi(S,b.found.name),L=Ot(b.found.updateTime),O=new Qn({mapValue:{fields:b.found.fields}});return Gt.newFoundDocument(P,L,O)}(C,T):"missing"in T?function(S,b){re(!!b.missing),re(!!b.readTime);var P=mi(S,b.missing),L=Ot(b.readTime);return Gt.newNoDocument(P,L)}(C,T):J()}(l.R,w);v.set(I.key.toString(),I)}),m=[],[2,(a.forEach(function(w){var I=v.get(w.toString());re(!!I),m.push(I)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new $h(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return N(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=Z.fromPath(s);n.mutations.push(new DS(a,n.precondition(a)))}),[4,function(i,s){return N(this,void 0,void 0,function(){var a,l,c;return A(this,function(h){switch(h.label){case 0:return a=W(i),l=nh(a.R)+"/documents",c={writes:s.map(function(p){return Zv(a.R,p)})},[4,a.Ni("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw J();n=ve.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new U(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?nn.updateTime(n):nn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ve.min()))throw new U(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nn.updateTime(n)}return nn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),GQ=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new zS(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return N(t,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){return n=new KQ(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!xa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!WM(n)}return!1},e}(),QQ=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Dn.UNAUTHENTICATED,this.clientId=bM.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return N(i,void 0,void 0,function(){return A(this,function(a){switch(a.label){case 0:return q("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return N(this,void 0,void 0,function(){return A(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new U(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return N(t,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=ql(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(e,t){return N(this,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return N(i,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,_F(t.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function qF(e,t){return N(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,ib(e)];case 1:return n=i.sent(),q("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return N(this,void 0,void 0,function(){var c,h;return A(this,function(p){switch(p.label){case 0:return(c=W(a)).asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials"),h=us(c),c.Or.add(3),[4,Vl(c)];case 1:return p.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),c.Or.delete(3),[4,zh(c)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function ib(e){return N(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(q("FirestoreClient","Using default OfflineComponentProvider"),[4,$F(e,new VF)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function mm(e){return N(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(q("FirestoreClient","Using default OnlineComponentProvider"),[4,qF(e,new uT)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function CP(e){return ib(e).then(function(t){return t.persistence})}function ob(e){return ib(e).then(function(t){return t.localStore})}function AP(e){return mm(e).then(function(t){return t.remoteStore})}function sb(e){return mm(e).then(function(t){return t.syncEngine})}function Il(e){return N(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,mm(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=CQ.bind(null,t.syncEngine),n.onUnlisten=AQ.bind(null,t.syncEngine),n)]}})})}function NP(e,t,n){var r=this;n===void 0&&(n={});var i=new ln;return e.asyncQueue.enqueueAndForget(function(){return N(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,v){var m=new gm({next:function(w){c.enqueueAndForget(function(){return QS(l,y)});var I=w.docs.has(h);!I&&w.fromCache?v.reject(new U(D.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&p&&p.source==="server"?v.reject(new U(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new XS(Ul(h.path),m,{includeMetadataChanges:!0,so:!0});return GS(l,y)},[4,Il(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function RP(e,t,n){var r=this;n===void 0&&(n={});var i=new ln;return e.asyncQueue.enqueueAndForget(function(){return N(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,v){var m=new gm({next:function(w){c.enqueueAndForget(function(){return QS(l,y)}),w.fromCache&&p.source==="server"?v.reject(new U(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new XS(h,m,{includeMetadataChanges:!0,so:!0});return GS(l,y)},[4,Il(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var YQ=function(e,t,n,r,i,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},og=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),PP=new Map,zF=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},OP=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Dn.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),XQ=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),JQ=function(){function e(t){var n=this;this.currentUser=Dn.UNAUTHENTICATED,this.oc=new ln,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){q("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(q("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(q("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(re(typeof i.accessToken=="string"),new zF(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return N(r,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string"),new Dn(t)},e}(),ZQ=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),eY=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new ZQ(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Dn.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(e,t,n){if(!n)throw new U(D.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function ub(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new U(D.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function WF(e,t,n,r){if(t===!0&&r===!0)throw new U(D.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function DP(e){if(!Z.isDocumentKey(e))throw new U(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function xP(e){if(Z.isDocumentKey(e))throw new U(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function ym(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":J()}function be(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new U(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ym(e);throw new U(D.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function LP(e,t){if(t<=0)throw new U(D.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MP=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new U(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new U(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,WF("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),ih=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MP({}),this._settingsFrozen=!1,t instanceof og?(this._databaseId=t,this._credentials=new OP):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new U(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new og(r.options.projectId)}(t),this._credentials=new JQ(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new U(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new U(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MP(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new OP;switch(n.type){case"gapi":var r=n.client;return re(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new eY(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new U(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=PP.get(t))&&(q("ComponentProvider","Removing Datastore"),PP.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Ye=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new zo(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Bn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),zo=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Ul(i))||this)._path=i,s.type="collection",s}return H(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ye(this.firestore,null,new Z(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Bn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=fe(e),ab("collection","path",t),e instanceof ih)return xP(n=Ce.fromString.apply(Ce,he([t],r))),new zo(e,null,n);if(!(e instanceof Ye||e instanceof zo))throw new U(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xP(n=Ce.fromString.apply(Ce,he([e.path],r)).child(Ce.fromString(t))),new zo(e.firestore,null,n)}function Yp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=fe(e),arguments.length===1&&(t=bM.u()),ab("doc","path",t),e instanceof ih)return DP(n=Ce.fromString.apply(Ce,he([t],r))),new Ye(e,null,new Z(n));if(!(e instanceof Ye||e instanceof zo))throw new U(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return DP(n=e._path.child(Ce.fromString.apply(Ce,he([t],r)))),new Ye(e.firestore,e instanceof zo?e.converter:null,new Z(n))}function KF(e,t){return e=fe(e),t=fe(t),(e instanceof Ye||e instanceof zo)&&(t instanceof Ye||t instanceof zo)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function GF(e,t){return e=fe(e),t=fe(t),e instanceof Bn&&t instanceof Bn&&e.firestore===t.firestore&&Uh(e._query,t._query)&&e.converter===t.converter}var tY=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new zS(this,"async_queue_retry"),this.Ic=function(){var r=Qp();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new ln;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return N(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!La(t=r.sent()))throw t;return q("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,dt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=mQ.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&J()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return N(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Sl(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var nY=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new ln,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),rY=-1,ut=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new tY,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return H(t,e),t.prototype._terminate=function(){return this._firestoreClient||QF(this),this._firestoreClient.terminate()},t}(ih);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(e){return e._firestoreClient||QF(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function QF(e){var t,n=e._freezeSettings(),r=function(i,s,a,l){return new YQ(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new QQ(e._credentials,e._queue,r)}function FP(e,t,n){var r=this,i=new ln;return e.asyncQueue.enqueue(function(){return N(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,$F(e,n)];case 1:return a.sent(),[4,qF(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===D.FAILED_PRECONDITION||l.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function UP(e){if(e._initialized||e._terminated)throw new U(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new U(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Ta=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(In.fromBase64String(t))}catch(n){throw new U(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(In.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Fa=function(e){this._methodName=e},_m=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new U(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new U(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return _e(this._lat,t._lat)||_e(this._long,t._long)},e}(),iY=/^__.*__$/,oY=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new as(t,this.data,this.fieldMask,n,this.fieldTransforms):new Bh(t,this.data,n,this.fieldTransforms)},e}(),YF=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new as(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}var JF=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Fc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,kc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,kc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},e.prototype.Lc=function(t){return sg(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(XF(this.Nc)&&iY.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),sY=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||qh(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new JF({Nc:t,methodName:n,qc:r,path:Jr.emptyPath(),kc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ua(e){var t=e._freezeSettings(),n=qh(e._databaseId);return new sY(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wm(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);hb("Data must be an object, but it was:",a,r);var l,c,h=tU(r,a);if(s.merge)l=new ll(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var p=[],v=0,m=s.mergeFields;v<m.length;v++){var y=lT(t,m[v],n);if(!a.contains(y))throw new U(D.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");rU(p,y)||p.push(y)}l=new ll(p),c=a.fieldTransforms.filter(function(w){return l.covers(w.field)})}else l=null,c=a.fieldTransforms;return new oY(new Qn(h),l,c)}var lb=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Fa);function ZF(e,t,n){return new JF({Nc:3,qc:t.settings.qc,methodName:e._methodName,kc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var aY=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype._toFieldTransform=function(n){return new Vh(n.path,new dl)},t.prototype.isEqual=function(n){return n instanceof t},t}(Fa),uY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return H(t,e),t.prototype._toFieldTransform=function(n){var r=ZF(this,n,!0),i=this.Kc.map(function(a){return ja(a,r)}),s=new wa(i);return new Vh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Fa),lY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return H(t,e),t.prototype._toFieldTransform=function(n){var r=ZF(this,n,!0),i=this.Kc.map(function(a){return ja(a,r)}),s=new Ea(i);return new Vh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Fa),cY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return H(t,e),t.prototype._toFieldTransform=function(n){var r=new pl(n.R,jM(n.R,this.Qc));return new Vh(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Fa);function cb(e,t,n,r){var i=e.Uc(1,t,n);hb("Data must be an object, but it was:",i,r);var s=[],a=Qn.empty();Da(r,function(c,h){var p=db(t,c,n);h=fe(h);var v=i.Oc(p);if(h instanceof lb)s.push(p);else{var m=ja(h,v);m!=null&&(s.push(p),a.set(p,m))}});var l=new ll(s);return new YF(a,l,i.fieldTransforms)}function fb(e,t,n,r,i,s){var a=e.Uc(1,t,n),l=[lT(t,r,n)],c=[i];if(s.length%2!=0)throw new U(D.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(lT(t,s[h])),c.push(s[h+1]);for(var p=[],v=Qn.empty(),m=l.length-1;m>=0;--m)if(!rU(p,l[m])){var y=l[m],w=c[m];w=fe(w);var I=a.Oc(y);if(w instanceof lb)p.push(y);else{var C=ja(w,I);C!=null&&(p.push(y),v.set(y,C))}}var T=new ll(p);return new YF(v,T,a.fieldTransforms)}function eU(e,t,n,r){return r===void 0&&(r=!1),ja(n,e.Uc(r?4:3,t))}function ja(e,t){if(nU(e=fe(e)))return hb("Unsupported field value:",t,e),tU(e,t);if(e instanceof Fa)return function(n,r){if(!XF(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.kc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=ja(l[a],r.Mc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=fe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return jM(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Vn.fromDate(n);return{timestampValue:eh(r.R,i)}}if(n instanceof Vn)return i=new Vn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:eh(r.R,i)};if(n instanceof _m)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ta)return{bytesValue:YM(r.R,n._byteString)};if(n instanceof Ye){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:MS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+ym(n))}(e,t)}function tU(e,t){var n={};return CM(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Da(e,function(r,i){var s=ja(i,t.Fc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function nU(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Vn||e instanceof _m||e instanceof Ta||e instanceof Ye||e instanceof Fa)}function hb(e,t,n){if(!nU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=ym(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function lT(e,t,n){if((t=fe(t))instanceof yi)return t._internalPath;if(typeof t=="string")return db(e,t);throw sg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var fY=new RegExp("[~\\*/\\[\\]]");function db(e,t,n){if(t.search(fY)>=0)throw sg("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(yi.bind.apply(yi,he([void 0],t.split("."))))()._internalPath}catch{throw sg("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function sg(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new U(D.INVALID_ARGUMENT,(l+=". ")+e+c)}function rU(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oh=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ye(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new hY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(ag("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),hY=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(oh);function ag(e,t){return typeof t=="string"?db(e,t):t instanceof yi?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ys=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Hi=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return H(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(ag("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(oh),mf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Hi),Ao=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ys(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new mf(r._firestore,r._userDataWriter,i.key,i,new Ys(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new mf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ys(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new mf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ys(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:dY(l.type),doc:c,oldIndex:h,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function dY(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}function iU(e,t){return e instanceof Hi&&t instanceof Hi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ao&&t instanceof Ao&&e._firestore===t._firestore&&GF(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(e){if(Jv(e)&&e.explicitOrderBy.length===0)throw new U(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wh=function(){};function _o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var pY=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return H(t,e),t.prototype._apply=function(n){var r=Ua(n.firestore),i=function(s,a,l,c,h,p,v){var m;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new U(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){qP(v,p);for(var y=[],w=0,I=v;w<I.length;w++){var C=I[w];y.push($P(c,s,C))}m={arrayValue:{values:y}}}else m=$P(c,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||qP(v,p),m=eU(l,"where",v,p==="in"||p==="not-in");var T=Jn.create(h,p,m);return function(S,b){if(b.g()){var P=PS(S);if(P!==null&&!P.isEqual(b.field))throw new U(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+P.toString()+"' and '"+b.field.toString()+"'");var L=RS(S);L!==null&&aU(S,b.field,L)}var O=function(B,M){for(var ue=0,R=B.filters;ue<R.length;ue++){var Mt=R[ue];if(M.indexOf(Mt.op)>=0)return Mt.op}return null}(S,function(B){switch(B){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(b.op));if(O!==null)throw O===b.op?new U(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+b.op.toString()+"' filter."):new U(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+b.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,T),T}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Bn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(Wh),vY=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return H(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new U(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new zu(s,a);return function(c,h){if(RS(c)===null){var p=PS(c);p!==null&&aU(c,p,h.field)}}(i,l),l}(n._query,this.jc,this.zc);return new Bn(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new ro(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Wh),jP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return H(t,e),t.prototype._apply=function(n){return new Bn(n.firestore,n.converter,xM(n._query,this.Hc,this.Jc))},t}(Wh),VP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return H(t,e),t.prototype._apply=function(n){var r=sU(n,this.type,this.Yc,this.Xc);return new Bn(n.firestore,n.converter,function(i,s){return new ro(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(Wh),BP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return H(t,e),t.prototype._apply=function(n){var r=sU(n,this.type,this.Yc,this.Xc);return new Bn(n.firestore,n.converter,function(i,s){return new ro(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(Wh);function sU(e,t,n,r){if(n[0]=fe(n[0]),n[0]instanceof oh)return function(s,a,l,c,h){if(!c)throw new U(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],v=0,m=hl(s);v<m.length;v++){var y=m[v];if(y.field.isKeyField())p.push(Qv(a,c.key));else{var w=c.data.field(y.field);if(CS(w))throw new U(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var I=y.field.canonicalString();throw new U(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}p.push(w)}}return new Zf(p,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ua(e.firestore);return function(s,a,l,c,h,p){var v=s.explicitOrderBy;if(h.length>v.length)throw new U(D.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var w=h[y];if(v[y].field.isKeyField()){if(typeof w!="string")throw new U(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof w);if(!OS(s)&&w.indexOf("/")!==-1)throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+w+"' contains a slash.");var I=s.path.child(Ce.fromString(w));if(!Z.isDocumentKey(I))throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var C=new Z(I);m.push(Qv(a,C))}else{var T=eU(l,c,w);m.push(T)}}return new Zf(m,p)}(e._query,e.firestore._databaseId,i,t,n,r)}function $P(e,t,n){if(typeof(n=fe(n))=="string"){if(n==="")throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!OS(t)&&n.indexOf("/")!==-1)throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ce.fromString(n));if(!Z.isDocumentKey(r))throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Qv(e,new Z(r))}if(n instanceof Ye)return Qv(e,n._key);throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ym(n)+".")}function qP(e,t){if(!Array.isArray(e)||e.length===0)throw new U(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new U(D.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function aU(e,t,n){if(!n.isEqual(t))throw new U(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pb=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),_a(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ft(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(cl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw J()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Da(t.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new _m(ft(t.latitude),ft(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=NM(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xf(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Zo(t);return new Vn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Ce.fromString(t);re(oF(r));var i=new og(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||dt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gY=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return H(t,e),t.prototype.convertBytes=function(n){return new Ta(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ye(this.firestore,null,r)},t}(pb),mY=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ua(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=No(t,this._firestore),s=Em(i.converter,n,r),a=wm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,nn.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=No(t,this._firestore);return a=typeof(n=fe(n))=="string"||n instanceof yi?fb(this._dataReader,"WriteBatch.update",l._key,n,r,i):cb(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,nn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=No(t,this._firestore);return this._mutations=this._mutations.concat(new $h(n._key,nn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new U(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(e,t){if((e=fe(e)).firestore!==t)throw new U(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ia=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return H(t,e),t.prototype.convertBytes=function(n){return new Ta(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ye(this.firestore,null,r)},t}(pb);function zP(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=be(e,Ye);var s=be(e.firestore,ut),a=Ua(s);return sh(s,[(typeof(t=fe(t))=="string"||t instanceof yi?fb(a,"updateDoc",e._key,t,n,r):cb(a,"updateDoc",e._key,t)).toMutation(e._key,nn.exists(!0))])}function uU(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=fe(e);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||Sl(i[l])||(a=i[l],l++);var c,h,p,v={includeMetadataChanges:a.includeMetadataChanges};if(Sl(i[l])){var m=i[l];i[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof Ye)h=be(e.firestore,ut),p=Ul(e._key.path),c={next:function(I){i[l]&&i[l](cT(h,e,I))},error:i[l+1],complete:i[l+2]};else{var y=be(e,Bn);h=be(y.firestore,ut),p=y._query;var w=new ia(h);c={next:function(I){i[l]&&i[l](new Ao(h,w,y,I))},error:i[l+1],complete:i[l+2]},oU(e._query)}return function(I,C,T,S){var b=this,P=new gm(S),L=new XS(C,P,T);return I.asyncQueue.enqueueAndForget(function(){return N(b,void 0,void 0,function(){var O;return A(this,function(B){switch(B.label){case 0:return O=GS,[4,Il(I)];case 1:return[2,O.apply(void 0,[B.sent(),L])]}})})}),function(){P.Wo(),I.asyncQueue.enqueueAndForget(function(){return N(b,void 0,void 0,function(){var O;return A(this,function(B){switch(B.label){case 0:return O=QS,[4,Il(I)];case 1:return[2,O.apply(void 0,[B.sent(),L])]}})})})}}(Rt(h),p,v,c)}function sh(e,t){return function(n,r){var i=this,s=new ln;return n.asyncQueue.enqueueAndForget(function(){return N(i,void 0,void 0,function(){var a;return A(this,function(l){switch(l.label){case 0:return a=NQ,[4,sb(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(Rt(e),t)}function cT(e,t,n){var r=n.docs.get(t._key),i=new ia(e);return new Hi(e,i,t._key,r,new Ys(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yY=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return H(t,e),t.prototype.get=function(n){var r=this,i=No(n,this._firestore),s=new ia(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new Hi(r._firestore,s,i._key,a._document,new Ys(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Ua(t)}return e.prototype.get=function(t){var n=this,r=No(t,this._firestore),i=new gY(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return J();var a=s[0];if(a.isFoundDocument())return new oh(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new oh(n._firestore,i,r._key,null,r.converter);throw J()})},e.prototype.set=function(t,n,r){var i=No(t,this._firestore),s=Em(i.converter,n,r),a=wm(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=No(t,this._firestore);return a=typeof(n=fe(n))=="string"||n instanceof yi?fb(this._dataReader,"Transaction.update",l._key,n,r,i):cb(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=No(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(){if(typeof Uint8Array>"u")throw new U(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function HP(){if(typeof atob>"u")throw new U(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var lU=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return HP(),new e(Ta.fromBase64String(t))},e.fromUint8Array=function(t){return WP(),new e(Ta.fromUint8Array(t))},e.prototype.toBase64=function(){return HP(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return WP(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),_Y=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){UP(r=be(r,ut));var s=Rt(r),a=r._freezeSettings(),l=new uT;return FP(s,l,new BF(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){UP(n=be(n,ut));var r=Rt(n),i=n._freezeSettings(),s=new uT;return FP(r,s,new WQ(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new U(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new ln;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return N(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return N(this,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return ml.yt()?(c=l+"main",[4,ml.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}($S(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),vb=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof og||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Yf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,l){l===void 0&&(l={});var c=(i=be(i,ih))._getSettings();if(c.host!=="firestore.googleapis.com"&&c.host!==s&&Yf("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:s+":"+a,ssl:!1})),l.mockUserToken){var h=Bx(l.mockUserToken),p=l.mockUserToken.sub||l.mockUserToken.user_id;if(!p)throw new U(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i._credentials=new XQ(new zF(h,new Dn(p)))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return N(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,CP(t)];case 1:return r=s.sent(),[4,AP(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=W(a);return l.Or.delete(0),zh(l)}(i))]}})})})}(Rt(be(this._delegate,ut)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return N(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,CP(t)];case 1:return r=s.sent(),[4,AP(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return N(this,void 0,void 0,function(){var l;return A(this,function(c){switch(c.label){case 0:return(l=W(a)).Or.add(0),[4,Vl(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(Rt(be(this._delegate,ut)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&WF("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new ln;return t.asyncQueue.enqueueAndForget(function(){return N(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return i=DQ,[4,sb(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Rt(be(this._delegate,ut)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,l=new gm(s);return i.asyncQueue.enqueueAndForget(function(){return N(a,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return c=function(p,v){W(p).Gr.add(v),v.next()},[4,Il(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return N(a,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return c=function(p,v){W(p).Gr.delete(v)},[4,Il(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})})}}(Rt(n=be(n,ut)),Sl(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new U(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ug(this,HF(this._delegate,t))}catch(n){throw gn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new oa(this,Yp(this._delegate,t))}catch(n){throw gn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Hh(this,function(n,r){if(n=be(n,ih),ab("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new U(D.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Bn(n,null,function(i){return new ro(Ce.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw gn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var l=this,c=new ln;return s.asyncQueue.enqueueAndForget(function(){return N(l,void 0,void 0,function(){var h;return A(this,function(p){switch(p.label){case 0:return[4,function(v){return mm(v).then(function(m){return m.datastore})}(s)];case 1:return h=p.sent(),new GQ(s.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(Rt(r),function(s){return i(new yY(r,s))})}(this._delegate,function(r){return t(new cU(n,r))})},e.prototype.batch=function(){var t=this;return Rt(this._delegate),new fU(new mY(this._delegate,function(n){return sh(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new U(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new U(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Tm=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return H(t,e),t.prototype.convertBytes=function(n){return new lU(new Ta(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return oa.eu(r,this.firestore,null)},t}(pb);function wY(e){var t;t=e,Qr.setLogLevel(t)}var cU=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Tm(t)}return e.prototype.get=function(t){var n=this,r=Xs(t);return this._delegate.get(r).then(function(i){return new ah(n._firestore,new Hi(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Xs(t);return r?(ub("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Xs(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,he([l,n,r],s)),this},e.prototype.delete=function(t){var n=Xs(t);return this._delegate.delete(n),this},e}(),fU=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Xs(t);return r?(ub("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Xs(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,he([l,n,r],s)),this},e.prototype.delete=function(t){var n=Xs(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Im=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new mf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new uh(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new Tm(t),n),i.set(n,s)),s},e}();Im.su=new WeakMap;var oa=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Tm(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new U(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Ye(n._delegate,r,new Z(t)))},e.eu=function(t,n,r){return new e(n,new Ye(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ug(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ug(this.firestore,HF(this._delegate,t))}catch(n){throw gn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=fe(t))instanceof Ye&&KF(this._delegate,t)},e.prototype.set=function(t,n){n=ub("DocumentReference.set",n);try{return function(r,i,s){r=be(r,Ye);var a=be(r.firestore,ut),l=Em(r.converter,i,s);return sh(a,[wm(Ua(a),"setDoc",r._key,l,r.converter!==null,s).toMutation(r._key,nn.none())])}(this._delegate,t,n)}catch(r){throw gn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?zP(this._delegate,t):zP.apply(void 0,he([this._delegate,t,n],r))}catch(s){throw gn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return sh(be((t=this._delegate).firestore,ut),[new $h(t._key,nn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=hU(n),s=dU(n,function(a){return new ah(t.firestore,new Hi(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return uU(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=be(r,Ye);var i=be(r.firestore,ut),s=Rt(i),a=new ia(i);return function(l,c){var h=this,p=new ln;return l.asyncQueue.enqueueAndForget(function(){return N(h,void 0,void 0,function(){var v;return A(this,function(m){switch(m.label){case 0:return v=function(y,w,I){return N(this,void 0,void 0,function(){var C,T;return A(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,function(b,P){var L=W(b);return L.persistence.runTransaction("read document","readonly",function(O){return L.Mn.mn(O,P)})}(y,w)];case 1:return(T=S.sent()).isFoundDocument()?I.resolve(T):T.isNoDocument()?I.resolve(null):I.reject(new U(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return C=S.sent(),T=ql(C,"Failed to get document '"+w+" from cache"),I.reject(T),[3,3];case 3:return[2]}})})},[4,ob(l)];case 1:return[2,v.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._key).then(function(l){return new Hi(i,a,r._key,l,new Ys(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=be(r,Ye);var i=be(r.firestore,ut);return NP(Rt(i),r._key,{source:"server"}).then(function(s){return cT(i,r,s)})}(this._delegate):function(r){r=be(r,Ye);var i=be(r.firestore,ut);return NP(Rt(i),r._key).then(function(s){return cT(i,r,s)})}(this._delegate)).then(function(r){return new ah(n.firestore,new Hi(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Im.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function gn(e,t,n){return e.message=e.message.replace(t,n),e}function hU(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Sl(r))return r}return{}}function dU(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=Sl(e[0])?e[0]:Sl(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var ah=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new oa(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return iU(this._delegate,t._delegate)},e}(),uh=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(ah),Hh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Tm(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,_o(this._delegate,function(i,s,a){var l=s,c=ag("where",i);return new pY(c,l,a)}(t,n,r)))}catch(i){throw gn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,_o(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=ag("orderBy",r);return new vY(a,s)}(t,n)))}catch(r){throw gn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,_o(this._delegate,function(n){return LP("limit",n),new jP("limit",n,"F")}(t)))}catch(n){throw gn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,_o(this._delegate,function(n){return LP("limitToLast",n),new jP("limitToLast",n,"L")}(t)))}catch(n){throw gn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_o(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new VP("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw gn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_o(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new VP("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw gn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_o(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new BP("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw gn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_o(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new BP("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw gn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return GF(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=be(r,Bn);var i=be(r.firestore,ut),s=Rt(i),a=new ia(i);return function(l,c){var h=this,p=new ln;return l.asyncQueue.enqueueAndForget(function(){return N(h,void 0,void 0,function(){var v;return A(this,function(m){switch(m.label){case 0:return v=function(y,w,I){return N(this,void 0,void 0,function(){var C,T,S,b,P;return A(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,ng(y,w,!0)];case 1:return P=L.sent(),C=new MF(w,P.Bn),T=C._o(P.documents),S=C.applyChanges(T,!1),I.resolve(S.snapshot),[3,3];case 2:return b=L.sent(),P=ql(b,"Failed to execute query '"+w+" against cache"),I.reject(P),[3,3];case 3:return[2]}})})},[4,ob(l)];case 1:return[2,v.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._query).then(function(l){return new Ao(i,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=be(r,Bn);var i=be(r.firestore,ut),s=Rt(i),a=new ia(i);return RP(s,r._query,{source:"server"}).then(function(l){return new Ao(i,a,r,l)})}(this._delegate):function(r){r=be(r,Bn);var i=be(r.firestore,ut),s=Rt(i),a=new ia(i);return oU(r._query),RP(s,r._query).then(function(l){return new Ao(i,a,r,l)})}(this._delegate)).then(function(r){return new fT(n.firestore,new Ao(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=hU(n),s=dU(n,function(a){return new fT(t.firestore,new Ao(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return uU(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Im.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),EY=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new uh(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),fT=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Hh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new uh(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new EY(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new uh(r._firestore,i))})},e.prototype.isEqual=function(t){return iU(this._delegate,t._delegate)},e}(),ug=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return H(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new oa(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new oa(this.firestore,n===void 0?Yp(this._delegate):Yp(this._delegate,n))}catch(r){throw gn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=be(i.firestore,ut),l=Yp(i),c=Em(i.converter,s);return sh(a,[wm(Ua(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,nn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new oa(r.firestore,i)})},t.prototype.isEqual=function(n){return KF(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Im.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Hh);function Xs(e){return be(e,Ye)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TY=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(yi.bind.apply(yi,he([void 0],t)))}return e.documentId=function(){return new e(Jr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=fe(t))instanceof yi&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),IY=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new aY("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new lb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new uY("arrayUnion",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new lY("arrayRemove",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new cY("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(e){return function(t,n){var r=Rt(t=be(t,ut)),i=new nY;return function(s,a,l,c){var h=this,p=function(v,m){return function(y,w){return new HQ(y,w)}(function(y,w){if(y instanceof Uint8Array)return kP(y,w);if(y instanceof ArrayBuffer)return kP(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),m)}(l,qh(a));s.asyncQueue.enqueueAndForget(function(){return N(h,void 0,void 0,function(){var v;return A(this,function(m){switch(m.label){case 0:return v=zQ,[4,sb(s)];case 1:return v.apply(void 0,[m.sent(),p,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function bY(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return N(a,void 0,void 0,function(){var l;return A(this,function(c){switch(c.label){case 0:return l=function(h,p){var v=W(h);return v.persistence.runTransaction("Get named query","readonly",function(m){return v.Ke.getNamedQuery(m,p)})},[4,ob(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(Rt(t=be(t,ut)),n).then(function(i){return i?new Bn(t,null,i.query):null})).then(function(i){return i?new Hh(r,i):null})}var kY={Firestore:vb,GeoPoint:_m,Timestamp:Vn,Blob:lU,Transaction:cU,WriteBatch:fU,DocumentReference:oa,DocumentSnapshot:ah,Query:Hh,QueryDocumentSnapshot:uh,QuerySnapshot:fT,CollectionReference:ug,FieldPath:TY,FieldValue:IY,setLogLevel:wY,CACHE_SIZE_UNLIMITED:rY};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CY(e){(function(t,n){t.INTERNAL.registerComponent(new un("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},kY)))})(e,function(t,n){return new vb(t,new ut(t,n),new _Y)}),e.registerVersion("@firebase/firestore","2.3.10")}CY(X);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AY(e){e.prototype.loadBundle=SY,e.prototype.namedQuery=bY}AY(vb);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KP={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wu=function(e){H(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function NY(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function RY(e,t,n){var r=NY(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!KP[l])return new Wu("internal","internal");r=KP[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Wu(r,i,s)}var PY=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return N(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return N(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return N(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OY="type.googleapis.com/google.protobuf.Int64Value",DY="type.googleapis.com/google.protobuf.UInt64Value";function GP(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var xY=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return GP(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case OY:case DY:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?GP(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LY(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Wu("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var QP=function(){function e(t,n,r,i,s,a){var l=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new xY,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new PY(n,r),this.cancelAllRequests=new Promise(function(h){l.deleteService=function(){return h()}});try{var c=new URL(s);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return N(this,void 0,void 0,function(){var i,s,a;return A(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=l.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,s.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return N(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return N(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y,w,I;return A(this,function(C){switch(C.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=C.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=LY(c),p=h.timer,v=h.promise,[4,Promise.race([YP(p,this.postJSON(i,s,a)),v,YP(p,this.cancelAllRequests)])];case 2:if(m=C.sent(),!m)throw new Wu("cancelled","Firebase Functions instance was deleted.");if(y=RY(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new Wu("internal","Response is not valid JSON object.");if(w=m.json.data,typeof w>"u"&&(w=m.json.result),typeof w>"u")throw new Wu("internal","Response is missing data field.");return I=this.serializer.decode(w),[2,{data:I}]}})})},e}();function YP(e,t){return N(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MY="functions";function FY(e,t){var n={Functions:QP};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),p=i.getProvider("messaging");return new QP(l,c,p,h,a,t)}e.INTERNAL.registerComponent(new un(MY,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var UY="@firebase/functions",jY="0.6.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */FY(X,fetch.bind(self));X.registerVersion(UY,jY);function VY(e){return Array.prototype.slice.call(e)}function pU(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Sm(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),pU(r).then(s,a)});return i.request=r,i}function BY(e,t,n){var r=Sm(e,t,n);return r.then(function(i){if(i)return new lh(i,r.request)})}function zl(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function gb(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Sm(this[t],i,arguments)})})}function bm(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function vU(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return BY(this[t],i,arguments)})})}function Va(e){this._index=e}zl(Va,"_index",["name","keyPath","multiEntry","unique"]);gb(Va,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);vU(Va,"_index",IDBIndex,["openCursor","openKeyCursor"]);function lh(e,t){this._cursor=e,this._request=t}zl(lh,"_cursor",["direction","key","primaryKey","value"]);gb(lh,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(lh.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),pU(t._request).then(function(r){if(r)return new lh(r,t._request)})})})});function ki(e){this._store=e}ki.prototype.createIndex=function(){return new Va(this._store.createIndex.apply(this._store,arguments))};ki.prototype.index=function(){return new Va(this._store.index.apply(this._store,arguments))};zl(ki,"_store",["name","keyPath","indexNames","autoIncrement"]);gb(ki,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);vU(ki,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);bm(ki,"_store",IDBObjectStore,["deleteIndex"]);function Kh(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}Kh.prototype.objectStore=function(){return new ki(this._tx.objectStore.apply(this._tx,arguments))};zl(Kh,"_tx",["objectStoreNames","mode"]);bm(Kh,"_tx",IDBTransaction,["abort"]);function km(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new Kh(n)}km.prototype.createObjectStore=function(){return new ki(this._db.createObjectStore.apply(this._db,arguments))};zl(km,"_db",["name","version","objectStoreNames"]);bm(km,"_db",IDBDatabase,["deleteObjectStore","close"]);function Cm(e){this._db=e}Cm.prototype.transaction=function(){return new Kh(this._db.transaction.apply(this._db,arguments))};zl(Cm,"_db",["name","version","objectStoreNames"]);bm(Cm,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[ki,Va].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=VY(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Va,ki].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function mb(e,t,n){var r=Sm(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new km(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new Cm(s)})}function ow(e){return Sm(indexedDB,"deleteDatabase",[e])}var $Y="@firebase/installations",gU="0.4.31";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mU=1e4,yU="w:"+gU,_U="FIS_v2",qY="https://firebaseinstallations.googleapis.com/v1",zY=60*60*1e3,WY="installations",HY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wo,KY=(wo={},wo["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',wo["not-registered"]="Firebase Installation is not registered.",wo["installation-not-found"]="Firebase Installation not found.",wo["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',wo["app-offline"]="Could not process request. Application offline.",wo["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",wo),Zi=new no(WY,HY,KY);function wU(e){return e instanceof Rl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(e){var t=e.projectId;return qY+"/projects/"+t+"/installations"}function EU(e){return{token:e.token,requestStatus:2,expiresIn:GY(e.expiresIn),creationTime:Date.now()}}function _b(e,t){return N(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Zi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function TU(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function IU(e,t){var n=t.refreshToken,r=TU(e);return r.append("Authorization",QY(n)),r}function wb(e){return N(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function GY(e){return Number(e.replace("s","000"))}function QY(e){return _U+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YY(e,t){var n=t.fid;return N(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return A(this,function(p){switch(p.label){case 0:return r=yb(e),i=TU(e),s={fid:n,authVersion:_U,appId:e.appId,sdkVersion:yU},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,wb(function(){return fetch(r,a)})];case 1:return l=p.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=p.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:EU(c.authToken)},[2,h];case 3:return[4,_b("Create Installation",l)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XY(e){var t=btoa(String.fromCharCode.apply(String,he([],Bt(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JY=/^[cdef][\w-]{21}$/,hT="";function ZY(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=e7(e);return JY.test(n)?n:hT}catch{return hT}}function e7(e){var t=XY(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bl=new Map;function bU(e,t){var n=Wl(e);kU(n,t),r7(n,t)}function t7(e,t){CU();var n=Wl(e),r=bl.get(n);r||(r=new Set,bl.set(n,r)),r.add(t)}function n7(e,t){var n=Wl(e),r=bl.get(n);r&&(r.delete(t),r.size===0&&bl.delete(n),AU())}function kU(e,t){var n,r,i=bl.get(e);if(i)try{for(var s=xt(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function r7(e,t){var n=CU();n&&n.postMessage({key:e,fid:t}),AU()}var Js=null;function CU(){return!Js&&"BroadcastChannel"in self&&(Js=new BroadcastChannel("[Firebase] FID Change"),Js.onmessage=function(e){kU(e.data.key,e.data.fid)}),Js}function AU(){bl.size===0&&Js&&(Js.close(),Js=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i7="firebase-installations-database",o7=1,Ia="firebase-installations-store",sw=null;function Eb(){return sw||(sw=mb(i7,o7,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ia)}})),sw}function lg(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return n=Wl(e),[4,Eb()];case 1:return r=l.sent(),i=r.transaction(Ia,"readwrite"),s=i.objectStore(Ia),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&bU(e,t.fid),[2,t]}})})}function Tb(e){return N(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=Wl(e),[4,Eb()];case 1:return n=i.sent(),r=n.transaction(Ia,"readwrite"),[4,r.objectStore(Ia).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Gh(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return n=Wl(e),[4,Eb()];case 1:return r=c.sent(),i=r.transaction(Ia,"readwrite"),s=i.objectStore(Ia),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&bU(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(e){return N(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,Gh(e,function(s){var a=s7(s),l=a7(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==hT?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function s7(e){var t=e||{fid:ZY(),registrationStatus:0};return NU(t)}function a7(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Zi.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=u7(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:l7(e)}:{installationEntry:t}}function u7(e,t){return N(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,YY(e,t)];case 1:return n=i.sent(),[2,lg(e,n)];case 2:return r=i.sent(),wU(r)&&r.customData.serverCode===409?[4,Tb(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,lg(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function l7(e){return N(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,XP(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,SU(100)];case 3:return s.sent(),[4,XP(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,Ib(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function XP(e){return Gh(e,function(t){if(!t)throw Zi.create("installation-not-found");return NU(t)})}function NU(e){return c7(e)?{fid:e.fid,registrationStatus:0}:e}function c7(e){return e.registrationStatus===1&&e.registrationTime+mU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return N(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v;return A(this,function(m){switch(m.label){case 0:return i=h7(n,t),s=IU(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:yU}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,wb(function(){return fetch(i,c)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return p=m.sent(),v=EU(p),[2,v];case 3:return[4,_b("Generate Auth Token",h)];case 4:throw m.sent()}})})}function h7(e,t){var n=t.fid;return yb(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(e,t){return t===void 0&&(t=!1),N(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,Gh(e.appConfig,function(l){if(!RU(l))throw Zi.create("not-registered");var c=l.authToken;if(!t&&v7(c))return l;if(c.requestStatus===1)return n=d7(e,t),l;if(!navigator.onLine)throw Zi.create("app-offline");var h=m7(l);return n=p7(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function d7(e,t){return N(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,JP(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,SU(100)];case 3:return i.sent(),[4,JP(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,Sb(e,t)]:[2,r]}})})}function JP(e){return Gh(e,function(t){if(!RU(t))throw Zi.create("not-registered");var n=t.authToken;return y7(n)?te(te({},t),{authToken:{requestStatus:0}}):t})}function p7(e,t){return N(this,void 0,void 0,function(){var n,i,r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,f7(e,t)];case 1:return n=s.sent(),i=te(te({},t),{authToken:n}),[4,lg(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),wU(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,Tb(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=te(te({},t),{authToken:{requestStatus:0}}),[4,lg(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function RU(e){return e!==void 0&&e.registrationStatus===2}function v7(e){return e.requestStatus===2&&!g7(e)}function g7(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+zY}function m7(e){var t={requestStatus:1,requestTime:Date.now()};return te(te({},e),{authToken:t})}function y7(e){return e.requestStatus===1&&e.requestTime+mU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(e){return N(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,Ib(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):Sb(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(e,t){return t===void 0&&(t=!1),N(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,E7(e.appConfig)];case 1:return r.sent(),[4,Sb(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function E7(e){return N(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,Ib(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(e,t){return N(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=I7(e,t),r=IU(e,t),i={method:"DELETE",headers:r},[4,wb(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,_b("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function I7(e,t){var n=t.fid;return yb(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(e){return N(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,Gh(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Zi.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Zi.create("app-offline");case 3:return[4,T7(t,n)];case 4:return r.sent(),[4,Tb(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(e,t){var n=e.appConfig;return t7(n,t),function(){n7(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(e){var t,n;if(!e||!e.options)throw aw("App Configuration");if(!e.name)throw aw("App Name");var r=["projectId","apiKey","appId"];try{for(var i=xt(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw aw(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function aw(e){return Zi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(e){var t="installations";e.INTERNAL.registerComponent(new un(t,function(n){var r=n.getProvider("app").getImmediate(),i=k7(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return _7(a)},getToken:function(c){return w7(a,c)},delete:function(){return S7(a)},onIdChange:function(c){return b7(a,c)}};return l},"PUBLIC")),e.registerVersion($Y,gU)}C7(X);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,A7=(yt={},yt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',yt["only-available-in-window"]="This method is available in a Window context.",yt["only-available-in-sw"]="This method is available in a service worker context.",yt["permission-default"]="The notification permission was not granted and dismissed instead.",yt["permission-blocked"]="The notification permission was not granted and blocked instead.",yt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",yt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",yt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",yt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",yt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",yt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",yt["token-update-no-token"]="FCM returned no token when updating the user to push.",yt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",yt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",yt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",yt["invalid-vapid-key"]="The public VAPID key must be a string.",yt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",yt),Re=new no("messaging","Messaging",A7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N7="/firebase-messaging-sw.js",R7="/firebase-cloud-messaging-push-scope",cg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",P7="https://fcmregistrations.googleapis.com/v1",PU="FCM_MSG",O7="FirebaseMessaging: ",D7="google.c.a.e",OU="google.c.a.c_id",x7="google.c.a.ts",L7="google.c.a.c_l",M7=1e3,F7=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Sa;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Sa||(Sa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,he([],Bt(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function U7(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uw="fcm_token_details_db",j7=5,ZP="fcm_token_object_Store";function V7(e){return N(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(uw))return[2,null];a.label=2;case 2:return r=null,[4,mb(uw,j7,function(l){return N(s,void 0,void 0,function(){var c,h,p,p,p,v;return A(this,function(m){switch(m.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(ZP)?(c=l.transaction.objectStore(ZP),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=m.sent(),[4,c.clear()];case 2:if(m.sent(),!h)return[2];if(l.oldVersion===2){if(p=h,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(v=p.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Mi(p.vapidKey)}}}else l.oldVersion===3?(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Mi(p.auth),p256dh:Mi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Mi(p.vapidKey)}}):l.oldVersion===4&&(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Mi(p.auth),p256dh:Mi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Mi(p.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,ow(uw)];case 4:return a.sent(),[4,ow("fcm_vapid_details_db")];case 5:return a.sent(),[4,ow("undefined")];case 6:return a.sent(),[2,B7(r)?r:null]}})})}function B7(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $7="firebase-messaging-database",q7=1,ba="firebase-messaging-store",lw=null;function bb(){return lw||(lw=mb($7,q7,function(e){switch(e.oldVersion){case 0:e.createObjectStore(ba)}})),lw}function fg(e){return N(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return t=Cb(e),[4,bb()];case 1:return n=s.sent(),[4,n.transaction(ba).objectStore(ba).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,V7(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,kb(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function kb(e,t){return N(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=Cb(e),[4,bb()];case 1:return r=s.sent(),i=r.transaction(ba,"readwrite"),[4,i.objectStore(ba).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function z7(e){return N(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=Cb(e),[4,bb()];case 1:return n=i.sent(),r=n.transaction(ba,"readwrite"),[4,r.objectStore(ba).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Cb(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return[4,Nb(e)];case 1:n=h.sent(),r=xU(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(Ab(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Re.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Re.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw Re.create("token-subscribe-no-token");return[2,s.token]}})})}function H7(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return[4,Nb(e)];case 1:n=h.sent(),r=xU(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(Ab(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Re.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Re.create("token-update-failed",{errorInfo:c});if(!s.token)throw Re.create("token-update-no-token");return[2,s.token]}})})}function DU(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,Nb(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(Ab(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,Re.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),Re.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function Ab(e){var t=e.projectId;return P7+"/projects/"+t+"/registrations"}function Nb(e){var t=e.appConfig,n=e.installations;return N(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function xU(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==cg&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K7=7*24*60*60*1e3;function dT(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Re.create("permission-blocked");return[4,Q7(t,n)];case 1:return r=l.sent(),[4,fg(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Mi(r.getKey("auth")),p256dh:Mi(r.getKey("p256dh"))},i?[3,3]:[2,eO(e,s)];case 3:if(Y7(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,DU(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,eO(e,s)];case 8:return Date.now()>=i.createTime+K7?[2,G7({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function yf(e,t){return N(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,fg(e)];case 1:return n=i.sent(),n?[4,DU(e,n.token)]:[3,4];case 2:return i.sent(),[4,z7(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function G7(e,t,n){return N(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,H7(t,e)];case 1:return r=a.sent(),i=te(te({},e),{token:r,createTime:Date.now()}),[4,kb(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,yf(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function eO(e,t){return N(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,W7(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,kb(e,r)];case 2:return i.sent(),[2,r.token]}})})}function Q7(e,t){return N(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:U7(t)})]}})})}function Y7(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(e){var t={from:e.from,collapseKey:e.collapse_key};return J7(t,e),Z7(t,e),eX(t,e),t}function J7(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function Z7(e,t){t.data&&(e.data=t.data)}function eX(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(e){return typeof e=="object"&&!!e&&OU in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tX=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw Re.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return N(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,fg(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:cg,i.label=2;case 2:return[2,dT(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return yf(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Re.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Re.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Re.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw Re.create("only-available-in-window")},e.prototype.onMessage=function(){throw Re.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Re.create("only-available-in-window")},e.prototype.onPush=function(t){return N(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=rX(t),n?[4,MU()]:(console.debug(O7+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),oX(r)?[2,sX(r,n)]:(i=!1,n.notification?[4,aX(nX(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=X7(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,tO(M7)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return N(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,yf(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,fg(this.firebaseDependencies)];case 3:return s=a.sent(),[4,yf(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,dT(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:cg)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return N(this,void 0,void 0,function(){var i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[PU],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=uX(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,iX(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,tO(F7)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=Sa.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function nX(e){var t,n=te({},e.notification);return n.data=(t={},t[PU]=e,t),n}function rX(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function iX(e){return N(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,MU()];case 1:t=c.sent();try{for(n=xt(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function oX(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function sX(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Sa.PUSH_RECEIVED;try{for(var i=xt(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function MU(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function aX(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function uX(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(LU(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lX=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return N(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Sa.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(fX(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,LU(r)&&r[D7]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return N(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Re.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,dT(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return N(this,void 0,void 0,function(){return A(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=cg),[2]})})},e.prototype.updateSwReg=function(t){return N(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Re.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return N(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(N7,{scope:R7})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Re.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return N(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,yf(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return N(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?Re.create("permission-blocked"):Re.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Re.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Re.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Re.create("invalid-sw-registration");if(this.swRegistration)throw Re.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Re.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Re.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return N(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=cX(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[OU],message_name:n[L7],message_time:n[x7],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function cX(e){switch(e){case Sa.NOTIFICATION_CLICKED:return"notification_open";case Sa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fX(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(e){var t,n;if(!e||!e.options)throw cw("App Configuration Object");if(!e.name)throw cw("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=xt(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw cw(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function cw(e){return Re.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dX="messaging";function pX(e){var t=e.getProvider("app").getImmediate(),n=hX(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!FU())throw Re.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new tX(s):new lX(s)}var vX={isSupported:FU};X.INTERNAL.registerComponent(new un(dX,pX,"PUBLIC").setServiceProps(vX));function FU(){return self&&"ServiceWorkerGlobalScope"in self?mX():gX()}function gX(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function mX(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UU="firebasestorage.googleapis.com",jU="storageBucket",yX=2*60*1e3,_X=10*60*1e3,vt=function(e){H(t,e);function t(n,r){var i=e.call(this,fw(n),"Firebase Storage: "+r+" ("+fw(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return fw(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Rl);function fw(e){return"storage/"+e}function Rb(){var e="An unknown error occurred, please check the error payload for server response.";return new vt("unknown",e)}function wX(e){return new vt("object-not-found","Object '"+e+"' does not exist.")}function EX(e){return new vt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function TX(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vt("unauthenticated",e)}function IX(){return new vt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function SX(e){return new vt("unauthorized","User does not have permission to access '"+e+"'.")}function bX(){return new vt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function VU(){return new vt("canceled","User canceled the upload/download.")}function kX(e){return new vt("invalid-url","Invalid URL '"+e+"'.")}function CX(e){return new vt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function AX(){return new vt("no-default-bucket","No default bucket found. Did you set the '"+jU+"' property when initializing the app?")}function BU(){return new vt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function NX(){return new vt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function RX(){return new vt("no-download-url","The given file does not have any download URLs.")}function sa(e){return new vt("invalid-argument",e)}function $U(){return new vt("app-deleted","The Firebase app was deleted.")}function qU(e){return new vt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _f(e,t){return new vt("invalid-format","String does not match format '"+e+"': "+t)}function kp(e){throw new vt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},hw=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function zU(e,t){switch(e){case mr.RAW:return new hw(WU(t));case mr.BASE64:case mr.BASE64URL:return new hw(HU(e,t));case mr.DATA_URL:return new hw(DX(t),xX(t))}throw Rb()}function WU(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function OX(e){var t;try{t=decodeURIComponent(e)}catch{throw _f(mr.DATA_URL,"Malformed data URL.")}return WU(t)}function HU(e,t){switch(e){case mr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw _f(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case mr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw _f(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=PX(t)}catch{throw _f(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var KU=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw _f(mr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=LX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function DX(e){var t=new KU(e);return t.base64?HU(mr.BASE64,t.rest):OX(t.rest)}function xX(e){var t=new KU(e);return t.contentType}function LX(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MX={STATE_CHANGED:"state_changed"},mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dw(e){switch(e){case"running":case"pausing":case"canceling":return mn.RUNNING;case"paused":return mn.PAUSED;case"success":return mn.SUCCESS;case"canceled":return mn.CANCELED;case"error":return mn.ERROR;default:return mn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aa;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(aa||(aa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FX=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=aa.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=aa.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=aa.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw kp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw kp("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw kp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw kp("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function UX(){return new FX}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jX=function(){function e(){}return e.prototype.createConnection=function(){return UX()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw CX(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(ue){ue.path_=decodeURIComponent(ue.path)}for(var p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+p+"/b/"+i+"/o"+m,"i"),w={bucket:1,path:3},I=n===UU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",T=new RegExp("^https?://"+I+"/"+i+"/"+C,"i"),S={bucket:1,path:2},b=[{regex:l,indices:c,postModify:s},{regex:y,indices:w,postModify:h},{regex:T,indices:S,postModify:h}],P=0;P<b.length;P++){var L=b[P],O=L.regex.exec(t);if(O){var B=O[L.indices.bucket],M=O[L.indices.path];M||(M=""),r=new e(B,M),L.postModify(r);break}}if(r==null)throw kX(t);return r},e}(),VX=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BX(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var w=[],I=0;I<arguments.length;I++)w[I]=arguments[I];c||(c=!0,t.apply(null,w))}function p(w){i=setTimeout(function(){i=null,e(v,l())},w)}function v(w){for(var I=[],C=1;C<arguments.length;C++)I[C-1]=arguments[C];if(!c){if(w){h.call.apply(h,he([null,w],I));return}var T=l()||s;if(T){h.call.apply(h,he([null,w],I));return}r<64&&(r*=2);var S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,p(S)}}var m=!1;function y(w){m||(m=!0,!c&&(i!==null?(w||(a=2),clearTimeout(i),p(0)):w||(a=1)))}return p(0),setTimeout(function(){s=!0,y(!0)},n),y}function $X(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qX(e){return e!==void 0}function zX(e){return typeof e=="function"}function WX(e){return typeof e=="object"&&!Array.isArray(e)}function Am(e){return typeof e=="string"||e instanceof String}function nO(e){return Pb()&&e instanceof Blob}function Pb(){return typeof Blob<"u"}function pT(e,t,n,r){if(r<t)throw sa("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw sa("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function GU(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HX=function(){function e(t,n,r,i,s,a,l,c,h,p,v){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,w){m.resolve_=y,m.reject_=w,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new Cp(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(c){var h=c.loaded,p=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var c=a.getErrorCode()===aa.NO_ERROR,h=a.getStatus();if(!c||t.isRetryStatusCode_(h)){var p=a.getErrorCode()===aa.ABORT;i(!1,new Cp(!1,null,p));return}var v=t.successCodes_.indexOf(h)!==-1;i(!0,new Cp(v,a))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.connection;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());qX(h)?a(h):a()}catch(v){l(v)}else if(c!==null){var p=Rb();p.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,p)):l(p)}else if(s.canceled){var p=t.appDelete_?$U():VU();l(p)}else{var p=bX();l(p)}}this.canceled_?r(!1,new Cp(!1,null,!0)):this.backoffId_=BX(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&$X(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),Cp=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function KX(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function GX(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function QX(e,t){t&&(e["X-Firebase-GMPID"]=t)}function YX(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function XX(e,t,n,r,i,s){var a=GU(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return QX(c,t),KX(c,n),GX(c,s),YX(c,r),new HX(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ZX(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=JX();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(Pb())return new Blob(e);throw new vt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function e9(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ob=function(){function e(t,n){var r=0,i="";nO(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(nO(this.data_)){var r=this.data_,i=e9(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Pb()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(ZX.apply(null,r))}else{var i=t.map(function(c){return Am(c)?zU(mr.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(e){var t;try{t=JSON.parse(e)}catch{return null}return WX(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function n9(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function QU(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(e,t){return t}var dn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||r9}return e}(),Ap=null;function i9(e){return!Am(e)||e.length<2?e:QU(e)}function Nm(){if(Ap)return Ap;var e=[];e.push(new dn("bucket")),e.push(new dn("generation")),e.push(new dn("metageneration")),e.push(new dn("name","fullPath",!0));function t(s,a){return i9(a)}var n=new dn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new dn("size");return i.xform=r,e.push(i),e.push(new dn("timeCreated")),e.push(new dn("updated")),e.push(new dn("md5Hash",null,!0)),e.push(new dn("cacheControl",null,!0)),e.push(new dn("contentDisposition",null,!0)),e.push(new dn("contentEncoding",null,!0)),e.push(new dn("contentLanguage",null,!0)),e.push(new dn("contentType",null,!0)),e.push(new dn("metadata","customMetadata",!0)),Ap=e,Ap}function o9(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new yr(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function s9(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return o9(r,e),r}function YU(e,t,n){var r=Db(t);if(r===null)return null;var i=r;return s9(e,i,n)}function a9(e,t,n){var r=Db(t);if(r===null||!Am(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),l=a.map(function(c){var h=e.bucket,p=e.fullPath,v="/b/"+s(h)+"/o/"+s(p),m=ls(v,n),y=GU({alt:"media",token:c});return m+y});return l[0]}function xb(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rO="prefixes",iO="items";function u9(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[rO])for(var i=0,s=n[rO];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new yr(t,l));r.prefixes.push(c)}if(n[iO])for(var h=0,p=n[iO];h<p.length;h++){var v=p[h],c=e._makeStorageReference(new yr(t,v.name));r.items.push(c)}return r}function l9(e,t,n){var r=Db(n);if(r===null)return null;var i=r;return u9(e,t,i)}var oo=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(e){if(!e)throw Rb()}function Rm(e,t){function n(r,i){var s=YU(e,i,t);return _i(s!==null),s}return n}function c9(e,t){function n(r,i){var s=l9(e,t,i);return _i(s!==null),s}return n}function f9(e,t){function n(r,i){var s=YU(e,i,t);return _i(s!==null),a9(s,i,e.host)}return n}function Hl(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=IX():i=TX():n.getStatus()===402?i=EX(e.bucket):n.getStatus()===403?i=SX(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function Pm(e){var t=Hl(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=wX(e.path)),s.serverResponse=i.serverResponse,s}return n}function XU(e,t,n){var r=t.fullServerUrl(),i=ls(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new oo(i,s,Rm(e,n),a);return l.errorHandler=Pm(t),l}function h9(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=ls(a,e.host),c="GET",h=e.maxOperationRetryTime,p=new oo(l,c,c9(e,t.bucket),h);return p.urlParams=s,p.errorHandler=Hl(t),p}function d9(e,t,n){var r=t.fullServerUrl(),i=ls(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new oo(i,s,f9(e,n),a);return l.errorHandler=Pm(t),l}function p9(e,t,n,r){var i=t.fullServerUrl(),s=ls(i,e.host),a="PATCH",l=xb(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,p=new oo(s,a,Rm(e,r),h);return p.headers=c,p.body=l,p.errorHandler=Pm(t),p}function v9(e,t){var n=t.fullServerUrl(),r=ls(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new oo(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=Pm(t),l}function g9(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function JU(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=g9(null,t)),r}function m9(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var b="",P=0;P<2;P++)b=b+Math.random().toString().slice(2);return b}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=JU(t,r,i),p=xb(h,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=Ob.getBlob(v,r,m);if(y===null)throw BU();var w={name:h.fullPath},I=ls(s,e.host),C="POST",T=e.maxUploadRetryTime,S=new oo(I,C,Rm(e,n),T);return S.urlParams=w,S.headers=a,S.body=y.uploadData(),S.errorHandler=Hl(t),S}var hg=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function Lb(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{_i(!1)}var r=t||["active"];return _i(!!n&&r.indexOf(n)!==-1),n}function y9(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=JU(t,r,i),l={name:a.fullPath},c=ls(s,e.host),h="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=xb(a,n),m=e.maxUploadRetryTime;function y(I){Lb(I);var C;try{C=I.getResponseHeader("X-Goog-Upload-URL")}catch{_i(!1)}return _i(Am(C)),C}var w=new oo(c,h,y,m);return w.urlParams=l,w.headers=p,w.body=v,w.errorHandler=Hl(t),w}function _9(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var p=Lb(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{_i(!1)}v||_i(!1);var m=Number(v);return _i(!isNaN(m)),new hg(m,r.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,c=new oo(n,a,s,l);return c.headers=i,c.errorHandler=Hl(t),c}var oO=256*1024;function w9(e,t,n,r,i,s,a,l){var c=new hg(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw NX();var h=c.total-c.current,p=h;i>0&&(p=Math.min(p,i));var v=c.current,m=v+p,y=p===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+c.current},I=r.slice(v,m);if(I===null)throw BU();function C(P,L){var O=Lb(P,["active","final"]),B=c.current+p,M=r.size(),ue;return O==="final"?ue=Rm(t,s)(P,L):ue=null,new hg(B,M,O==="final",ue)}var T="POST",S=t.maxUploadRetryTime,b=new oo(n,T,C,S);return b.headers=w,b.body=I.uploadData(),b.progressCallback=l||null,b.errorHandler=Hl(e),b}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E9=function(){function e(t,n,r){var i=zX(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZU=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Nm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=y9(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=_9(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=oO*this._chunkMultiplier,r=new hg(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=w9(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,a);t._request=c,c.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=oO*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=XU(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=m9(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=VU(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=dw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new E9(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(dw(this._state)){case mn.SUCCESS:mu(this._resolve.bind(null,this.snapshot))();break;case mn.CANCELED:case mn.ERROR:var n=this._reject;mu(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=dw(this._state);switch(n){case mn.RUNNING:case mn.PAUSED:t.next&&mu(t.next.bind(t,this.snapshot))();break;case mn.SUCCESS:t.complete&&mu(t.complete.bind(t))();break;case mn.CANCELED:case mn.ERROR:t.error&&mu(t.error.bind(t,this._error))();break;default:t.error&&mu(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Om=function(){function e(t,n){this._service=t,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new yr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return QU(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=t9(this._location.path);if(t===null)return null;var n=new yr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw qU(t)},e}();function T9(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new ZU(e,new Ob(t),n)}function I9(e){var t={prefixes:[],items:[]};return e4(e,t).then(function(){return t})}function e4(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,t4(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,e4(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function t4(e,t){return N(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&pT("options.maxResults",1,1e3,t.maxResults),n=t||{},r=h9(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function S9(e){return N(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=XU(e.storage,e._location,Nm()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function b9(e,t){return N(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=p9(e.storage,e._location,t,Nm()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function k9(e){return N(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=d9(e.storage,e._location,Nm()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw RX();return r})]}})})}function C9(e){return N(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=v9(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function n4(e,t){var n=n9(e._location.path,t),r=new yr(e._location.bucket,n);return new Om(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(e){return/^[A-Za-z]+:\/\//.test(e)}function A9(e,t){return new Om(e,t)}function r4(e,t){if(e instanceof Dm){var n=e;if(n._bucket==null)throw AX();var r=new Om(n,n._bucket);return t!=null?r4(r,t):r}else if(t!==void 0){if(t.includes(".."))throw sa('`path` param cannot contain ".."');return n4(e,t)}else return e}function N9(e,t){if(t&&vT(t)){if(e instanceof Dm)return A9(e,t);throw sa("To use ref(service, url), the first argument must be a Storage instance.")}else return r4(e,t)}function sO(e,t){var n=t==null?void 0:t[jU];return n==null?null:yr.makeFromBucketSpec(n,e)}function R9(e,t,n){e.host="http://"+t+":"+n}var Dm=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=UU,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yX,this._maxUploadRetryTime=_X,this._requests=new Set,s!=null?this._bucket=yr.makeFromBucketSpec(s,this._host):this._bucket=sO(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,t):this._bucket=sO(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){pT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){pT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return N(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return N(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Om(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new VX($U());var s=XX(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return N(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(e,t,n){return e=fe(e),T9(e,t,n)}function O9(e){return e=fe(e),S9(e)}function D9(e,t){return e=fe(e),b9(e,t)}function x9(e,t){return e=fe(e),t4(e,t)}function L9(e){return e=fe(e),I9(e)}function M9(e){return e=fe(e),k9(e)}function F9(e){return e=fe(e),C9(e)}function aO(e,t){return e=fe(e),N9(e,t)}function U9(e,t){return n4(e,t)}function j9(e,t,n){R9(e,t,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Np=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uO=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Np(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new Np(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Np(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new Np(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),lO=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new ch(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new ch(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ch=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=U9(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new uO(P9(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=mr.RAW),this._throwIfRoot("putString");var i=zU(n,t),s=te({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new uO(new ZU(this._delegate,new Ob(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return L9(this._delegate).then(function(n){return new lO(n,t.storage)})},e.prototype.list=function(t){var n=this;return x9(this._delegate,t||void 0).then(function(r){return new lO(r,n.storage)})},e.prototype.getMetadata=function(){return O9(this._delegate)},e.prototype.updateMetadata=function(t){return D9(this._delegate,t)},e.prototype.getDownloadURL=function(){return M9(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),F9(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw qU(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V9=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(vT(t))throw sa("ref() expected a child path but got a URL, use refFromURL instead.");return new ch(aO(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!vT(t))throw sa("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yr.makeFromUrl(t,this._delegate.host)}catch{throw sa("refFromUrl() expected a valid full URL but got an invalid one.")}return new ch(aO(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n){j9(this._delegate,t,n)},e}(),B9="@firebase/storage",$9="0.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q9="storage";function z9(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new V9(r,new Dm(r,i,s,new jX,n,X.SDK_VERSION));return a}function W9(e){var t={TaskState:mn,TaskEvent:MX,StringFormat:mr,Storage:Dm,Reference:ch};e.INTERNAL.registerComponent(new un(q9,z9,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(B9,$9)}W9(X);var H9="@firebase/performance",i4="0.4.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o4=i4,K9="FB-PERF-TRACE-START",G9="FB-PERF-TRACE-STOP",gT="FB-PERF-TRACE-MEASURE",s4="_wt_",a4="_fp",u4="_fcp",l4="_fid",c4="@firebase/performance/config",f4="@firebase/performance/configexpire",Q9="performance",h4="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Y9=(Ut={},Ut["trace started"]="Trace {$traceName} was started before.",Ut["trace stopped"]="Trace {$traceName} is not running.",Ut["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Ut["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Ut["no window"]="Window is not available.",Ut["no app id"]="App id is not available.",Ut["no project id"]="Project id is not available.",Ut["no api key"]="Api key is not available.",Ut["invalid cc log"]="Attempted to queue invalid cc event",Ut["FB not default"]="Performance can only start when Firebase app instance is the default one.",Ut["RC response not ok"]="RC response is not ok",Ut["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Ut["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Ut["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Ut["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Ut),Zt=new no(Q9,h4,Y9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eo=new Aa(h4);eo.logLevel=ge.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pw,d4,on=function(){function e(t){if(this.window=t,!t)throw Zt.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(eo.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):yh()?!0:(eo.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return pw===void 0&&(pw=new e(d4)),pw},e}();function X9(e){d4=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(e,t){var n=e.length-t.length;if(n<0||n>1)throw Zt.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vw,Tt=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=cO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=cO("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Zt.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Zt.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Zt.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return vw===void 0&&(vw=new e),vw},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p4;function J9(){var e=Tt.getInstance().installationsService.getId();return e.then(function(t){p4=t}),e}function Mb(){return p4}function Z9(){var e=Tt.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hu;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Hu||(Hu={}));var eJ=["firebase_","google_","ga_"],tJ=new RegExp("^[a-zA-Z]\\w*$"),nJ=40,rJ=100;function iJ(){var e=on.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function v4(){var e=on.getInstance().document,t=e.visibilityState;switch(t){case"visible":return Hu.VISIBLE;case"hidden":return Hu.HIDDEN;default:return Hu.UNKNOWN}}function oJ(){var e=on.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function sJ(e){if(e.length===0||e.length>nJ)return!1;var t=eJ.some(function(n){return e.startsWith(n)});return!t&&!!e.match(tJ)}function aJ(e){return e.length!==0&&e.length<=rJ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uJ="0.0.1",lJ={loggingEnabled:!0},cJ="FIREBASE_INSTALLATIONS_AUTH";function fJ(e){var t=hJ();return t?(fO(t),Promise.resolve()):vJ(e).then(fO).then(function(n){return dJ(n)},function(){})}function hJ(){var e=on.getInstance().localStorage;if(e){var t=e.getItem(f4);if(!(!t||!gJ(t))){var n=e.getItem(c4);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function dJ(e){var t=on.getInstance().localStorage;!e||!t||(t.setItem(c4,JSON.stringify(e)),t.setItem(f4,String(Date.now()+Tt.getInstance().configTimeToLive*60*60*1e3)))}var pJ="Could not fetch config, will use default configs";function vJ(e){return Z9().then(function(t){var n=Tt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Tt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:cJ+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Tt.getInstance().getAppId(),app_version:o4,sdk_version:uJ})});return fetch(i).then(function(s){if(s.ok)return s.json();throw Zt.create("RC response not ok")})}).catch(function(){eo.info(pJ)})}function fO(e){if(!e)return e;var t=Tt.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=lJ.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=hO(t.tracesSamplingRate),t.logNetworkAfterSampling=hO(t.networkRequestsSamplingRate),e}function gJ(e){return Number(e)>Date.now()}function hO(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fb=1,gw;function g4(){return Fb=2,gw=gw||yJ(),gw}function mJ(){return Fb===3}function yJ(){return _J().then(function(){return J9()}).then(function(e){return fJ(e)}).then(function(){return dO()},function(){return dO()})}function _J(){var e=on.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function dO(){Fb=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ub=10*1e3,wJ=5.5*1e3,m4=3,EJ=1e3,dg=m4,Wo=[],pO=!1;function TJ(){pO||(xm(wJ),pO=!0)}function xm(e){setTimeout(function(){if(dg!==0){if(!Wo.length)return xm(Ub);IJ()}},e)}function IJ(){var e=Wo.splice(0,EJ),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Tt.getInstance().logSource,log_event:t};SJ(n,e).catch(function(){Wo=he(he([],e),Wo),dg--,eo.info("Tries left: "+dg+"."),xm(Ub)})}function SJ(e,t){return bJ(e).then(function(n){return n.ok||eo.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=Ub;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(Wo=he(he([],t),Wo),eo.info("Retry transport request later.")),dg=m4,xm(i)})}function bJ(e){var t=Tt.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function kJ(e){if(!e.eventTime||!e.message)throw Zt.create("invalid cc log");Wo=he(he([],Wo),[e])}function CJ(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);kJ({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mw;function y4(e,t){mw||(mw=CJ(NJ)),mw(e,t)}function Rp(e){var t=Tt.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||on.getInstance().requiredApisAvailable()&&(e.isAuto&&v4()!==Hu.VISIBLE||(mJ()?yw(e):g4().then(function(){return yw(e)},function(){return yw(e)})))}function yw(e){if(Mb()){var t=Tt.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return y4(e,1)},0)}}function AJ(e){var t=Tt.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return y4(e,0)},0)}}function NJ(e,t){return t===0?RJ(e):PJ(e)}function RJ(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:_4(),network_request_metric:t};return JSON.stringify(n)}function PJ(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:_4(),trace_metric:t};return JSON.stringify(r)}function _4(){return{google_app_id:Tt.getInstance().getAppId(),app_instance_id:Mb(),web_app_info:{sdk_version:o4,page_url:on.getInstance().getUrl(),service_worker_status:iJ(),visibility_state:v4(),effective_connection_type:oJ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OJ=100,DJ="_",xJ=[a4,u4,l4];function LJ(e,t){return e.length===0||e.length>OJ?!1:t&&t.startsWith(s4)&&xJ.indexOf(e)>-1||!e.startsWith(DJ)}function MJ(e){var t=Math.floor(e);return t<e&&eo.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wf=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=on.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=K9+"-"+this.randomId+"-"+this.name,this.traceStopMark=G9+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||gT+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw Zt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw Zt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Rp(this)},e.prototype.record=function(t,n,r){if(t<=0)throw Zt.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Zt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=te({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}Rp(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(LJ(t,this.name))this.counters[t]=MJ(n);else throw Zt.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=sJ(t),i=aJ(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw Zt.create("invalid attribute name",{attributeName:t});if(!i)throw Zt.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return te({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=on.getInstance().getUrl();if(i){var s=new e(s4+i,!0),a=Math.floor(on.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===l});h&&h.startTime&&s.putMetric(a4,Math.floor(h.startTime*1e3));var p=n.find(function(v){return v.name===c});p&&p.startTime&&s.putMetric(u4,Math.floor(p.startTime*1e3)),r&&s.putMetric(l4,Math.floor(r*1e3))}Rp(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);Rp(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=on.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};AJ(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FJ=5e3;function gO(){Mb()&&(setTimeout(function(){return jJ()},0),setTimeout(function(){return UJ()},0),setTimeout(function(){return VJ()},0))}function UJ(){for(var e=on.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];vO(i)}e.setupObserver("resource",vO)}function jJ(){var e=on.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){wf.createOobTrace(t,n),r=void 0},FJ);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),wf.createOobTrace(t,n,i))})}else wf.createOobTrace(t,n)}function VJ(){for(var e=on.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];mO(i)}e.setupObserver("measure",mO)}function mO(e){var t=e.name;t.substring(0,gT.length)!==gT&&wf.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BJ=function(){function e(t){this.app=t,on.getInstance().requiredApisAvailable()&&mI().then(function(n){n&&(TJ(),g4().then(gO,gO))}).catch(function(n){eo.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new wf(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Tt.getInstance().instrumentationEnabled},set:function(t){Tt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Tt.getInstance().dataCollectionEnabled},set:function(t){Tt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $J="[DEFAULT]";function qJ(e){var t=function(n,r){if(n.name!==$J)throw Zt.create("FB not default");if(typeof window>"u")throw Zt.create("no window");return X9(window),Tt.getInstance().firebaseAppInstance=n,Tt.getInstance().installationsService=r,new BJ(n)};e.INTERNAL.registerComponent(new un("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(H9,i4)}qJ(X);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zJ="firebase_id",WJ="origin",HJ=60*1e3,KJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",w4="https://www.googletagmanager.com/gtag/js",sn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(sn||(sn={}));var mT;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(mT||(mT={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GJ(e,t,n,r,i){return N(this,void 0,void 0,function(){var s,a;return A(this,function(l){switch(l.label){case 0:return i&&i.global?(e(sn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=te(te({},r),{send_to:s}),e(sn.EVENT,n,a),l.label=3;case 3:return[2]}})})}function QJ(e,t,n,r){return N(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(sn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(sn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function YJ(e,t,n,r){return N(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(sn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(sn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function XJ(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(sn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(sn.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function JJ(e,t){return N(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt=new Aa("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZJ(e,t){var n=document.createElement("script");n.src=w4+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function eZ(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function tZ(e,t,n,r,i,s){return N(this,void 0,void 0,function(){var a,l,c,h;return A(this,function(p){switch(p.label){case 0:a=r[i],p.label=1;case 1:return p.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return p.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=p.sent(),c=l.find(function(v){return v.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:return h=p.sent(),Vt.error(h),[3,8];case 8:return e(sn.CONFIG,i,s),[2]}})})}function nZ(e,t,n,r,i){return N(this,void 0,void 0,function(){var s,a,l,c,h,p,v,m,y;return A(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=w.sent(),c=function(I){var C=l.find(function(S){return S.measurementId===I}),T=C&&t[C.appId];if(T)s.push(T);else return s=[],"break"},h=0,p=a;h<p.length&&(v=p[h],m=c(v),m!=="break");h++);w.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return w.sent(),e(sn.EVENT,r,i||{}),[3,5];case 4:return y=w.sent(),Vt.error(y),[3,5];case 5:return[2]}})})}function rZ(e,t,n,r){function i(s,a,l){return N(this,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==sn.EVENT?[3,2]:[4,nZ(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==sn.CONFIG?[3,4]:[4,tZ(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(sn.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),Vt.error(c),[3,7];case 7:return[2]}})})}return i}function iZ(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=rZ(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function oZ(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(w4))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jr,sZ=(jr={},jr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",jr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",jr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",jr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",jr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",jr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",jr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",jr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',jr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',jr),Tr=new no("analytics","Analytics",sZ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aZ=30,uZ=1e3,lZ=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=uZ),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),E4=new lZ;function cZ(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function fZ(e){var t;return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:cZ(r)},s=KJ.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Tr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function hZ(e,t,n){return t===void 0&&(t=E4),N(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return A(this,function(p){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Tr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Tr.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new vZ,setTimeout(function(){return N(h,void 0,void 0,function(){return A(this,function(v){return c.abort(),[2]})})},n!==void 0?n:HJ),[2,T4({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function T4(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=E4),N(this,void 0,void 0,function(){var a,l,c,h,p,v,m;return A(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,dZ(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return Vt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,fZ(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(p=y.sent(),!pZ(p)){if(r.deleteThrottleMetadata(a),l)return Vt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]")),[2,{appId:a,measurementId:l}];throw p}return v=Number(p.customData.httpStatus)===503?mE(s,r.intervalMillis,aZ):mE(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,m),Vt.debug("Calling attemptFetch again in "+v+" millis"),[2,T4(e,m,n,r)];case 7:return[2]}})})}function dZ(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Tr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function pZ(e){if(!(e instanceof Rl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var vZ=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gZ(){return N(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:return yh()?[3,1]:(Vt.warn(Tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,mI()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Vt.warn(Tr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function mZ(e,t,n,r,i,s){return N(this,void 0,void 0,function(){var a,l,c,h,p,v,m;return A(this,function(y){switch(y.label){case 0:return a=hZ(e),a.then(function(w){n[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&Vt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return Vt.error(w)}),t.push(a),l=gZ().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],p=c[1],oZ()||ZJ(s,h.measurementId),i("js",new Date),v=(m={},m[WJ]="firebase",m.update=!0,m),p!=null&&(v[zJ]=p),i(sn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi={},yO=[],_O={},Xp="dataLayer",I4="gtag",wO,zc,yT=!1;function yZ(e){if(yT)throw Tr.create("already-initialized");e.dataLayerName&&(Xp=e.dataLayerName),e.gtagName&&(I4=e.gtagName)}function _Z(){var e=[];if(gI()&&e.push("This is a browser extension environment."),Wx()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Tr.create("invalid-analytics-context",{errorInfo:t});Vt.warn(n.message)}}function wZ(e,t){_Z();var n=e.options.appId;if(!n)throw Tr.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Vt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Tr.create("no-api-key");if(xi[n]!=null)throw Tr.create("already-exists",{id:n});if(!yT){eZ(Xp);var r=iZ(xi,yO,_O,Xp,I4),i=r.wrappedGtag,s=r.gtagCore;zc=i,wO=s,yT=!0}xi[n]=mZ(e,yO,_O,t,wO,Xp);var a={app:e,logEvent:function(l,c,h){GJ(zc,xi[n],l,c,h).catch(function(p){return Vt.error(p)})},setCurrentScreen:function(l,c){QJ(zc,xi[n],l,c).catch(function(h){return Vt.error(h)})},setUserId:function(l,c){YJ(zc,xi[n],l,c).catch(function(h){return Vt.error(h)})},setUserProperties:function(l,c){XJ(zc,xi[n],l,c).catch(function(h){return Vt.error(h)})},setAnalyticsCollectionEnabled:function(l){JJ(xi[n],l).catch(function(c){return Vt.error(c)})},INTERNAL:{delete:function(){return delete xi[n],Promise.resolve()}}};return a}var EZ="@firebase/analytics",TZ="0.6.17",EO="analytics";function IZ(e){e.INTERNAL.registerComponent(new un(EO,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return wZ(r,i)},"PUBLIC").setServiceProps({settings:yZ,EventName:mT,isSupported:SZ})),e.INTERNAL.registerComponent(new un("analytics-internal",t,"PRIVATE")),e.registerVersion(EZ,TZ);function t(n){try{var r=n.getProvider(EO).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Tr.create("interop-component-reg-failed",{reason:i})}}}IZ(X);function SZ(){return N(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:if(gI())return[2,!1];if(!Wx())return[2,!1];if(!yh())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,mI()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bZ=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn,kZ=(pn={},pn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",pn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",pn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",pn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",pn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",pn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",pn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",pn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",pn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",pn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',pn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',pn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",pn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",pn),_r=new no("remoteconfig","Remote Config",kZ);function CZ(e,t){return e instanceof Rl&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AZ(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NZ=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,v,m,y,w,I,C,T,S,b,P;return A(this,function(L){switch(L.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=L.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:AZ()},h={method:"POST",headers:l,body:JSON.stringify(c)},p=fetch(a,h),v=new Promise(function(O,B){t.signal.addEventListener(function(){var M=new Error("The operation was aborted.");M.name="AbortError",B(M)})}),L.label=2;case 2:return L.trys.push([2,5,,6]),[4,Promise.race([p,v])];case 3:return L.sent(),[4,p];case 4:return m=L.sent(),[3,6];case 5:throw y=L.sent(),w="fetch-client-network",y.name==="AbortError"&&(w="fetch-timeout"),_r.create(w,{originalErrorMessage:y.message});case 6:if(I=m.status,C=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];b=void 0,L.label=7;case 7:return L.trys.push([7,9,,10]),[4,m.json()];case 8:return b=L.sent(),[3,10];case 9:throw P=L.sent(),_r.create("fetch-client-parse",{originalErrorMessage:P.message});case 10:T=b.entries,S=b.state,L.label=11;case 11:if(S==="INSTANCE_STATE_UNSPECIFIED"?I=500:S==="NO_CHANGE"?I=304:(S==="NO_TEMPLATE"||S==="EMPTY_CONFIG")&&(T={}),I!==304&&I!==200)throw _r.create("fetch-status",{httpStatus:I});return[2,{status:I,eTag:C,config:T}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RZ=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PZ=!1,OZ="",TO=0,DZ=["1","true","t","yes","y","on"],_w=function(){function e(t,n){n===void 0&&(n=OZ),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?PZ:DZ.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return TO;var t=Number(this._value);return isNaN(t)&&(t=TO),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xZ=60*1e3,LZ=12*60*60*1e3,MZ=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:xZ,minimumFetchIntervalMillis:LZ},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=ge.DEBUG;break;case"silent":this._logger.logLevel=ge.SILENT;break;default:this._logger.logLevel=ge.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return N(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return N(this,void 0,void 0,function(){var t,n,r,i=this;return A(this,function(s){switch(s.label){case 0:t=new RZ,setTimeout(function(){return N(i,void 0,void 0,function(){return A(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=CZ(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return N(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return FZ(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new _w("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new _w("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new _w("static"))},e}();function FZ(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(te(te({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(e,t){var n=e.target.error||void 0;return _r.create(t,{originalErrorMessage:n&&n.message})}var Vs="app_namespace_store",UZ="firebase_remote_config",jZ=1;function VZ(){return new Promise(function(e,t){var n=indexedDB.open(UZ,jZ);n.onerror=function(r){t(Jp(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Vs,{keyPath:"compositeKey"})}}})}var BZ=function(){function e(t,n,r,i){i===void 0&&(i=VZ()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return N(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Vs],"readonly"),c=l.objectStore(Vs),h=r.createCompositeKey(t);try{var p=c.get(h);p.onerror=function(v){a(Jp(v,"storage-get"))},p.onsuccess=function(v){var m=v.target.result;s(m?m.value:void 0)}}catch(v){a(_r.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return N(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([Vs],"readwrite"),h=c.objectStore(Vs),p=i.createCompositeKey(t);try{var v=h.put({compositeKey:p,value:n});v.onerror=function(m){l(Jp(m,"storage-set"))},v.onsuccess=function(){a()}}catch(m){l(_r.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},e.prototype.delete=function(t){return N(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Vs],"readwrite"),c=l.objectStore(Vs),h=r.createCompositeKey(t);try{var p=c.delete(h);p.onerror=function(v){a(Jp(v,"storage-delete"))},p.onsuccess=function(){s()}}catch(v){a(_r.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $Z=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qZ(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(_r.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function zZ(e){if(!(e instanceof Rl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var WZ=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return N(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return N(this,void 0,void 0,function(){var s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,qZ(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!zZ(a))throw a;return l={throttleEndTimeMillis:Date.now()+mE(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),IO="@firebase/remote-config",HZ="0.1.42";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZ(e){e.INTERNAL.registerComponent(new un("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(IO,HZ);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw _r.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,p=l.appId;if(!c)throw _r.create("registration-project-id");if(!h)throw _r.create("registration-api-key");if(!p)throw _r.create("registration-app-id");i=i||"firebase";var v=new BZ(p,s.name,i),m=new $Z(v),y=new Aa(IO);y.logLevel=ge.ERROR;var w=new NZ(a,e.SDK_VERSION,i,c,h,p),I=new WZ(w,v),C=new bZ(I,v,m,y),T=new MZ(s,C,m,v,y);return T.ensureInitialized(),T}}KZ(X);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr,GZ=(Vr={},Vr["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Vr["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Vr["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Vr["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Vr["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Vr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Vr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Vr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Vr["recaptcha-error"]="ReCAPTCHA error.",Vr),Zn=new no("appCheck","AppCheck",GZ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S4=new Map,QZ={activated:!1,tokenObservers:[]},YZ={enabled:!1};function Sn(e){return S4.get(e)||QZ}function wi(e,t){S4.set(e,t)}function jb(){return YZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b4="https://content-firebaseappcheck.googleapis.com/v1beta",XZ="exchangeRecaptchaToken",JZ="exchangeDebugToken",SO={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZZ=function(){function e(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(t){return N(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Pt,[4,eee(this.getNextRun(t))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Pt,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},e}();function eee(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(){return self.grecaptcha}function k4(e){if(!Sn(e).activated)throw Zn.create("use-before-activation",{appName:e.name})}function tee(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function nee(e){return el.encodeString(JSON.stringify(e),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(e,t){var n=e.url,r=e.body;return N(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y;return A(this,function(w){switch(w.label){case 0:i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0}),s&&(i["X-Firebase-Client"]=s.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},w.label=1;case 1:return w.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return l=w.sent(),[3,4];case 3:throw c=w.sent(),Zn.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(l.status!==200)throw Zn.create("fetch-status-error",{httpStatus:l.status});w.label=5;case 5:return w.trys.push([5,7,,8]),[4,l.json()];case 6:return h=w.sent(),[3,8];case 7:throw p=w.sent(),Zn.create("fetch-parse-error",{originalErrorMessage:p.message});case 8:if(v=h.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw Zn.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return m=Number(v[1])*1e3,y=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:y+m,issuedAtTimeMillis:y}]}})})}function ree(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:b4+"/projects/"+r+"/apps/"+i+":"+XZ+"?key="+s,body:{recaptcha_token:t}}}function iee(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:b4+"/projects/"+r+"/apps/"+i+":"+JZ+"?key="+s,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oee="firebase-app-check-database",see=1,fh="firebase-app-check-store",A4="debug-token",Pp=null;function N4(){return Pp||(Pp=new Promise(function(e,t){try{var n=indexedDB.open(oee,see);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(Zn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(fh,{keyPath:"compositeKey"})}}}catch(r){t(Zn.create("storage-open",{originalErrorMessage:r.message}))}}),Pp)}function aee(e){return P4(O4(e))}function uee(e,t){return R4(O4(e),t)}function lee(e){return R4(A4,e)}function cee(){return P4(A4)}function R4(e,t){return N(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,N4()];case 1:return n=a.sent(),r=n.transaction(fh,"readwrite"),i=r.objectStore(fh),s=i.put({compositeKey:e,value:t}),[2,new Promise(function(l,c){s.onsuccess=function(h){l()},r.onerror=function(h){var p;c(Zn.create("storage-set",{originalErrorMessage:(p=h.target.error)===null||p===void 0?void 0:p.message}))}})]}})})}function P4(e){return N(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,N4()];case 1:return t=s.sent(),n=t.transaction(fh,"readonly"),r=n.objectStore(fh),i=r.get(e),[2,new Promise(function(a,l){i.onsuccess=function(c){var h=c.target.result;a(h?h.value:void 0)},n.onerror=function(c){var h;l(Zn.create("storage-get",{originalErrorMessage:(h=c.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function O4(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lm=new Aa("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fee(e){return N(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:if(!yh())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,aee(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),Lm.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function kO(e,t){return yh()?uee(e,t).catch(function(n){Lm.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function hee(){return N(this,void 0,void 0,function(){var e,t;return A(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,cee()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t=tee(),lee(t).catch(function(r){return Lm.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dee(){var e=jb();return e.enabled}function pee(){return N(this,void 0,void 0,function(){var e;return A(this,function(t){if(e=jb(),e.enabled&&e.token)return[2,e.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function vee(){var e=Ez();if(!(typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var t=jb();t.enabled=!0;var n=new Pt;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(hee())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gee={error:"UNKNOWN_ERROR"};function pg(e,t,n){return n===void 0&&(n=!1),N(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m;return A(this,function(y){switch(y.label){case 0:return k4(e),r=Sn(e),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=y.sent(),a&&hh(a)&&(i=a,wi(e,te(te({},r),{token:i})),CO(e,{token:i.token})),y.label=2;case 2:return!n&&i&&hh(i)?[2,{token:i.token}]:dee()?(c=C4,h=iee,p=[e],[4,pee()]):[3,6];case 3:return[4,c.apply(void 0,[h.apply(void 0,p.concat([y.sent()])),t])];case 4:return l=y.sent(),[4,kO(e,l)];case 5:return y.sent(),wi(e,te(te({},r),{token:l})),[2,{token:l.token}];case 6:return y.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=y.sent(),[3,9];case 8:return v=y.sent(),Lm.error(v),s=v,[3,9];case 9:return i?[3,10]:(m=yee(s),[3,12]);case 10:return m={token:i.token},wi(e,te(te({},r),{token:i})),[4,kO(e,i)];case 11:y.sent(),y.label=12;case 12:return CO(e,m),[2,m]}})})}function D4(e,t,n,r,i){var s=Sn(e),a={next:r,error:i,type:n},l=te(te({},s),{tokenObservers:he(he([],s.tokenObservers),[a])});if(!l.tokenRefresher){var c=mee(e,t);l.tokenRefresher=c}if(!l.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&l.tokenRefresher.start(),s.token&&hh(s.token)){var h=s.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else s.token==null&&s.cachedTokenPromise.then(function(p){p&&hh(p)&&r({token:p.token})}).catch(function(){});wi(e,l)}function Vb(e,t){var n=Sn(e),r=n.tokenObservers.filter(function(i){return i.next!==t});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),wi(e,te(te({},n),{tokenObservers:r}))}function mee(e,t){var n=this;return new ZZ(function(){return N(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=Sn(e),r.token?[3,2]:[4,pg(e,t)];case 1:return i=s.sent(),[3,4];case 2:return[4,pg(e,t,!0)];case 3:i=s.sent(),s.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Sn(e);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,s=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},SO.RETRIAL_MIN_WAIT,SO.RETRIAL_MAX_WAIT)}function CO(e,t){for(var n=Sn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}}function hh(e){return e.expireTimeMillis-Date.now()>0}function yee(e){return{token:nee(gee),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _ee="https://www.google.com/recaptcha/api.js";function wee(e,t){var n=Sn(e),r=new Pt;wi(e,te(te({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var a=bO();return a?a.ready(function(){AO(e,t,a,i),r.resolve(a)}):Tee(function(){var l=bO();if(!l)throw new Error("no recaptcha");l.ready(function(){AO(e,t,l,i),r.resolve(l)})}),r.promise}function Eee(e){return N(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return k4(e),t=Sn(e).reCAPTCHAState,[4,t.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,s){var a=Sn(e).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function AO(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),s=Sn(e);wi(e,te(te({},s),{reCAPTCHAState:te(te({},s.reCAPTCHAState),{widgetId:i})}))}function Tee(e){var t=document.createElement("script");t.src=""+_ee,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _T=function(){function e(t){this._siteKey=t}return e.prototype.getToken=function(){return N(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw Zn.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Eee(this._app)];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),Zn.create("recaptcha-error");case 4:return[2,C4(ree(this._app,t),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(t,n){this._app=t,this._platformLoggerProvider=n,wee(t,this._siteKey).catch(function(){})},e}(),wT=function(){function e(t){this._customProviderOptions=t}return e.prototype.getToken=function(){return N(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:if(!this._app)throw Zn.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),n=bz(t.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,te(te({},t),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(t){this._app=t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iee(e,t,n,r){var i=Sn(e);if(i.activated)throw Zn.create("already-activated",{appName:e.name});var s=te(te({},i),{activated:!0});s.cachedTokenPromise=fee(e).then(function(a){return a&&hh(a)&&wi(e,te(te({},Sn(e)),{token:a})),a}),typeof t=="string"?s.provider=new _T(t):t instanceof _T||t instanceof wT?s.provider=t:s.provider=new wT({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=r===void 0?e.automaticDataCollectionEnabled:r,wi(e,s),s.provider.initialize(e,n)}function See(e,t){var n=Sn(e);n.tokenRefresher&&(t===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),wi(e,te(te({},n),{isTokenAutoRefreshEnabled:t}))}function bee(e,t,n){return N(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return[4,pg(e,t,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function kee(e,t,n,r,i){var s=function(){},a=function(){};return n.next!=null?s=n.next.bind(n):s=n,n.error!=null?a=n.error.bind(n):r&&(a=r),D4(e,t,"EXTERNAL",s,a),function(){return Vb(e,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cee(e,t){return{app:e,activate:function(n,r){return Iee(e,n,t,r)},setTokenAutoRefreshEnabled:function(n){return See(e,n)},getToken:function(n){return bee(e,t,n)},onTokenChanged:function(n,r,i){return kee(e,t,n,r)},INTERNAL:{delete:function(){for(var n=Sn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];Vb(e,s.next)}return Promise.resolve()}}}}function Aee(e,t){return{getToken:function(n){return pg(e,t,n)},addTokenListener:function(n){return D4(e,t,"INTERNAL",n)},removeTokenListener:function(n){return Vb(e,n)}}}var Nee="@firebase/app-check",Ree="0.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pee="appCheck",NO="app-check-internal";function Oee(e){e.INTERNAL.registerComponent(new un(Pee,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return Cee(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:_T,CustomProvider:wT}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider(NO);i.initialize()})),e.INTERNAL.registerComponent(new un(NO,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return Aee(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(Nee,Ree)}Oee(X);vee();var Dee="firebase",x4="8.9.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */X.registerVersion(Dee,x4,"app");X.SDK_VERSION=x4;var xee="firebase",Lee="8.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);X.registerVersion(xee,Lee);const Mee={apiKey:"AIzaSyAFeYP2kb7SjkasLqR8eYmal1xW_VQMaaI",authDomain:"fir-recipes-9a215.firebaseapp.com",projectId:"fir-recipes-9a215",storageBucket:"fir-recipes-9a215.appspot.com",messagingSenderId:"552004081965",appId:"1:552004081965:web:6d67599261fe6598ad9ba4",measurementId:"G-M2ZDV4Y4Q1"};X.apps.length||X.initializeApp(Mee);const Qh=X.auth(),Fee=(e,t)=>Qh.signInWithEmailAndPassword(e,t),Uee=()=>Qh.signOut(),jee=e=>Qh.sendPasswordResetEmail(e),Vee=()=>{const e=new X.auth.GoogleAuthProvider;return Qh.signInWithPopup(e)},Bee=e=>{Qh.onAuthStateChanged(t=>{e(t)})},Tu={loginUser:Fee,logoutUser:Uee,sendPasswordResetEmail:jee,loginWithGoogle:Vee,subscribeToAuthChanges:Bee};function $ee({existingUser:e}){const[t,n]=Ho.useState(""),[r,i]=Ho.useState("");async function s(h){h.preventDefault();try{await Tu.loginUser(t,r),n(""),i("")}catch(p){alert(p.message)}}function a(){Tu.logoutUser()}async function l(){if(!t){alert("Missing username!");return}try{await Tu.sendPasswordResetEmail(t),alert("sent the password reset email")}catch(h){alert(h.message)}}async function c(){try{await Tu.loginWithGoogle()}catch(h){alert(h.message)}}return fr("div",{className:"login-form-container",children:e?Ms("div",{className:"row",children:[Ms("h3",{children:["Welcome, ",e.email]}),fr("button",{type:"button",className:"primary-button",onClick:a,children:"Logout"})]}):Ms("form",{onSubmit:s,className:"login-form",children:[Ms("label",{className:"input-label login-label",children:["Username (email):",fr("input",{type:"email",required:!0,value:t,onChange:h=>n(h.target.value),className:"input-text"})]}),Ms("label",{className:"input-label login-label",children:["Password:",fr("input",{type:"password",required:!0,value:r,onChange:h=>i(h.target.value),className:"input-text"})]}),Ms("div",{className:"button-box",children:[fr("button",{className:"primary-button",children:"Login"}),fr("button",{type:"button",onClick:l,className:"primary-button",children:"Reset Password"}),fr("button",{type:"button",onClick:c,className:"primary-button",children:"Login with Google"})]})]})})}function qee(){const[e,t]=Ho.useState(null);return Tu.subscribeToAuthChanges(t),fr("div",{className:"App",children:Ms("div",{className:"title-row",children:[fr("h1",{className:"title",children:"Firebase Recipe"}),fr($ee,{existingUser:e})]})})}ww.createRoot(document.getElementById("root")).render(fr(n$.StrictMode,{children:fr(qee,{})}));
